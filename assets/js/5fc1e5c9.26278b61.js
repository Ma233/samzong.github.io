"use strict";(self.webpackChunksamzong_me=self.webpackChunksamzong_me||[]).push([[3817],{3905:(e,t,o)=>{o.d(t,{Zo:()=>c,kt:()=>w});var n=o(67294);function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,n,i=function(e,t){if(null==e)return{};var o,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}var l=n.createContext({}),p=function(e){var t=n.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):a(a({},t),e)),o},c=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},h="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var o=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),h=p(o),d=i,w=h["".concat(l,".").concat(d)]||h[d]||u[d]||r;return o?n.createElement(w,a(a({ref:t},c),{},{components:o})):n.createElement(w,a({ref:t},c))}));function w(e,t){var o=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=o.length,a=new Array(r);a[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[h]="string"==typeof e?e:i,a[1]=s;for(var p=2;p<r;p++)a[p]=o[p];return n.createElement.apply(null,a)}return n.createElement.apply(null,o)}d.displayName="MDXCreateElement"},42386:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var n=o(87462),i=(o(67294),o(3905));const r={title:"HowTo Add Piwik Tracking to Ghost",tags:["Piwik"],date:new Date("2016-04-27T16:51:58.000Z")},a=void 0,s={permalink:"/2016/04/27/HowTo-Add-Piwik-Tracking-to-Ghost",editUrl:"https://github.com/samzong/samzong.me/edit/main/blog/2016-04-27-HowTo-Add-Piwik-Tracking-to-Ghost.md",source:"@site/blog/2016-04-27-HowTo-Add-Piwik-Tracking-to-Ghost.md",title:"HowTo Add Piwik Tracking to Ghost",description:"This is what about piwik on wiki. goto",date:"2016-04-27T16:51:58.000Z",formattedDate:"2016\u5e744\u670827\u65e5",tags:[{label:"Piwik",permalink:"/tags/piwik"}],readingTime:1.21,hasTruncateMarker:!1,authors:[],frontMatter:{title:"HowTo Add Piwik Tracking to Ghost",tags:["Piwik"],date:"2016-04-27T16:51:58.000Z"},prevItem:{title:"HowTo Install Python 2.7.8 on CentOS 6.x",permalink:"/2016/05/04/HowTo-Install-Python-2-7-8-on-CentOS-6-x"},nextItem:{title:"HowTo Install piwik with nginx on centos 6.x",permalink:"/2016/04/27/HowTo-Install-piwik-with-nginx-on-centos-6-x"}},l={authorsImageUrls:[]},p=[{value:"Step 1 - Getting your Piwik Tracking code",id:"step-1---getting-your-piwik-tracking-code",level:2},{value:"Step 2 - Adding Piwik Tracking Code To Ghost Theme File",id:"step-2---adding-piwik-tracking-code-to-ghost-theme-file",level:2},{value:"Step 3 - Restart Ghost",id:"step-3---restart-ghost",level:2}],c={toc:p},h="wrapper";function u(e){let{components:t,...o}=e;return(0,i.kt)(h,(0,n.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"This is what about piwik on wiki. ",(0,i.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Piwik"},"goto")),(0,i.kt)("h2",{id:"step-1---getting-your-piwik-tracking-code"},"Step 1 - Getting your Piwik Tracking code"),(0,i.kt)("p",null,"The first step to having Piwik tracking your Ghost blog will be to add a new website in Piwik, if you are unfamiliar with this process you can checkout the Piwik documention on Managing Websites. With your Ghost blog added into Piwik you will end up with tracking code that will look similar to the following:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"\x3c!-- Piwik --\x3e\n<script type=\"text/javascript\">\n    var _paq = _paq || [];\n    (function(){ var u=((\"https:\" == document.location.protocol) ? \"https://{$PIWIK_URL}/\" : \"http://{$PIWIK_URL}/\");\n    _paq.push(['setSiteId', {$IDSITE}]);\n    _paq.push(['setTrackerUrl', u+'piwik.php']);\n    _paq.push(['trackPageView']);\n    _paq.push(['enableLinkTracking']);\n    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0]; g.type='text/javascript'; g.defer=true; g.async=true; g.src=u+'piwik.js';\n    s.parentNode.insertBefore(g,s); })();\n<\/script>\n\x3c!-- End Piwik Code --\x3e\n")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Where ",(0,i.kt)("inlineCode",{parentName:"p"},"$PIWIK_URL")," will be the domain name you have setup for Piwik.")),(0,i.kt)("h2",{id:"step-2---adding-piwik-tracking-code-to-ghost-theme-file"},"Step 2 - Adding Piwik Tracking Code To Ghost Theme File"),(0,i.kt)("p",null,"Piwik recommends that you add the tracking code right above the ",(0,i.kt)("inlineCode",{parentName:"p"},"&#60;/body&#62;")," tag, which you can find in your Ghost's ",(0,i.kt)("inlineCode",{parentName:"p"},"default.hbs")," theme file. You will find the ",(0,i.kt)("inlineCode",{parentName:"p"},"default.hbs")," file in ",(0,i.kt)("inlineCode",{parentName:"p"},"/path/to/ghost/content/themes/your-theme/default.hbs"),"\nHow you add the tracking code to your ",(0,i.kt)("inlineCode",{parentName:"p"},"default.hbs")," will depend on if you are editing the file on your local computer or directly on the server. If you are editing your theme locally you can edit this file in any text editor and when you are finished upload this file to your server. Otherwise if you are editing this file directly on the server you can use the command line editor, ",(0,i.kt)("inlineCode",{parentName:"p"},"vim"),", to add the tracking code."),(0,i.kt)("h2",{id:"step-3---restart-ghost"},"Step 3 - Restart Ghost"),(0,i.kt)("p",null,"For the changes in your theme to take effect you will need to restart Ghost. Restarting Ghost will load up a fresh copy of your theme files, with your Piwik tracking code. How you restart Ghost depends on how you started Ghost. If you followed our ",(0,i.kt)("a",{parentName:"p",href:"https://www.howtoinstallghost.com/how-to-start-ghost-with-forever/"},"https://www.howtoinstallghost.com/how-to-start-ghost-with-forever/")," Keep Ghost Running with forever",(0,i.kt)("inlineCode",{parentName:"p"},", then you can restart Ghost with")," forever restart ghost`.\nWithin a few moments you will start to see data coming in for your Ghost blog!\nIf you have any questions about setting this up or run into any issues please leave us a comment below and we will do what we can to help."))}u.isMDXComponent=!0}}]);