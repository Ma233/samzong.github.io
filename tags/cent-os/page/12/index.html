<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">17 posts tagged with &quot;CentOS&quot; | samzong</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://samzong.me/tags/cent-os/page/12"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="17 posts tagged with &quot;CentOS&quot; | samzong"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://samzong.me/tags/cent-os/page/12"><link data-rh="true" rel="alternate" href="https://samzong.me/tags/cent-os/page/12" hreflang="en"><link data-rh="true" rel="alternate" href="https://samzong.me/tags/cent-os/page/12" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="samzong RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="samzong Atom Feed">
<link rel="alternate" type="application/json" href="/feed.json" title="samzong JSON Feed"><link rel="stylesheet" href="/assets/css/styles.94db4b8a.css">
<script src="/assets/js/runtime~main.32fc6d5f.js" defer="defer"></script>
<script src="/assets/js/main.5385b353.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">ğŸ«µğŸ«µğŸ«µ  è­¦é’Ÿé•¿é¸£ï¼å°Šçºªå®ˆæ³•ï¼Œæ‹’ç»ç§‘å­¦ä¸Šç½‘ï¼Œæ‹’ç»ä¼ æ’­è¿æ³•ä¿¡æ¯ï¼›å¦‚æœ‰å‘ç°ï¼Œè¯·ç«‹å³æ‹¨æ‰“ 110 !  ğŸ«µğŸ«µğŸ«µ</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"></a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><main class="col col--9 col--offset-1" itemscope="" itemtype="https://schema.org/Blog"><header class="margin-bottom--xl"><h1>17 posts tagged with &quot;CentOS&quot;</h1><a href="/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="CentOS 7 ä¿®æ”¹ä¸»æœºå"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/2015/08/12/HowTo-Automatic-EasyBackup-MysqlDB">CentOS ä¿®æ”¹ç³»ç»Ÿä¸»æœºå</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2016-05-05T05:41:39.000Z" itemprop="datePublished">May 5, 2016</time></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="centos-7-ä¿®æ”¹ä¸»æœºå">CentOS 7 ä¿®æ”¹ä¸»æœºå<a href="#centos-7-ä¿®æ”¹ä¸»æœºå" class="hash-link" aria-label="Direct link to CentOS 7 ä¿®æ”¹ä¸»æœºå" title="Direct link to CentOS 7 ä¿®æ”¹ä¸»æœºå">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ–¹æ³•-1-hostname-ä¸»æœºå">æ–¹æ³• 1: <code>hostname ä¸»æœºå</code><a href="#æ–¹æ³•-1-hostname-ä¸»æœºå" class="hash-link" aria-label="Direct link to æ–¹æ³•-1-hostname-ä¸»æœºå" title="Direct link to æ–¹æ³•-1-hostname-ä¸»æœºå">â€‹</a></h3>
<p>è¿™ç§æ–¹å¼ï¼Œåªèƒ½ä¿®æ”¹ä¸´æ—¶çš„ä¸»æœºåï¼Œå½“é‡å¯æœºå™¨åï¼Œä¸»æœºåç§°åˆå˜å›æ¥äº†ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ–¹æ³•-2-hostnamectl-set-hostname-ä¸»æœºå">æ–¹æ³• 2: <code>hostnamectl set-hostname &lt;ä¸»æœºå&gt;</code><a href="#æ–¹æ³•-2-hostnamectl-set-hostname-ä¸»æœºå" class="hash-link" aria-label="Direct link to æ–¹æ³•-2-hostnamectl-set-hostname-ä¸»æœºå" title="Direct link to æ–¹æ³•-2-hostnamectl-set-hostname-ä¸»æœºå">â€‹</a></h3>
<p>ä½¿ç”¨è¿™ç§æ–¹å¼ä¿®æ”¹ï¼Œå¯ä»¥æ°¸ä¹…æ€§çš„ä¿®æ”¹ä¸»æœºåç§°ï¼
<img loading="lazy" src="https://img.samzong.me/202307191528329.jpg?imageView2/3/w/400/interlace/1/q/50" alt="image" class="img_ev3q"></p>
<p>æ‰€ä»¥æˆ‘ä»¬çš„æ­¥éª¤åº”è¯¥ï¼š</p>
<ol>
<li>æµ‹è¯•å¤‡ä»½å‘½ä»¤æ˜¯å¦å¯ä»¥æ­£å¸¸æ‰§è¡Œ</li>
<li>å®‰è£…æµ‹è¯•å‘½ä»¤è¡Œé‚®ä»¶å·¥å…· mailx</li>
<li>å®‰è£…è®¡åˆ’ä»»åŠ¡å·¥å…· Crontab</li>
<li>ç¼–å†™å¤‡ä»½è„šæœ¬</li>
<li>æ·»åŠ è®¡åˆ’ä»»åŠ¡</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="æµ‹è¯•å¤‡ä»½å‘½ä»¤">æµ‹è¯•å¤‡ä»½å‘½ä»¤<a href="#æµ‹è¯•å¤‡ä»½å‘½ä»¤" class="hash-link" aria-label="Direct link to æµ‹è¯•å¤‡ä»½å‘½ä»¤" title="Direct link to æµ‹è¯•å¤‡ä»½å‘½ä»¤">â€‹</a></h4>
<p>é¦–å…ˆä½ è¦è·å¾—ä½ è¦å¤‡ä»½çš„æ•°æ®åº“å¯¹åº”çš„ select æƒé™ï¼Œä»…éœ€è¦ select æƒé™å³å¯ï¼Œmysql åœ¨ç®¡ç†æ–¹é¢ï¼Œåº”è¯¥åšæŒåªèµ‹äºˆå¿…é¡»æƒé™çš„åŸåˆ™ã€‚</p>
<div class="language-mysql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mysql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mysql&gt; grant select on ghost.* to &#x27;ghost_backuser&#x27;@&#x27;localhost&#x27; identified by &#x27;backupPass&#x27;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Query OK, 0 rows affected (0.00 sec)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å› ä¸ºæˆ‘åªåœ¨æœ¬åœ°æ‰§è¡Œå¤‡ä»½æ“ä½œï¼Œæ‰€ä»¥æˆ‘åªèµ‹äºˆäº†<code>localhost</code>çš„æƒé™ï¼Œä½ çš„æƒé™åº”è¯¥è¦æ˜¯æ‰§è¡Œå¤‡ä»½å·¥ä½œçš„æœåŠ¡å™¨ä¸»æœºä¿¡æ¯ã€‚</p>
<div class="language-mysql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mysql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># åˆ›å»ºä»…æˆæƒæœ¬åœ°è®¿é—®çš„ç”¨æˆ·</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mysql&gt; create user dbackuser@&#x27;localhost&#x27;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># åˆ›å»ºæˆæƒæ‰€æœ‰æ¥æºåœ°å€çš„ç”¨æˆ·</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mysql&gt; create user dbackuser@&#x27;%&#x27;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># åˆ›å»ºä»…æˆæƒä»ç‰¹å®šIPçš„ç”¨æˆ·</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mysql&gt; create user dbackuser@&#x27;192.168.0.230&#x27;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># åˆ›å»ºä»…æˆæƒä»ç‰¹å®šIPæ®µè®¿é—®çš„ç”¨æˆ·</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mysql&gt; create user dbackuser@&#x27;192.168.0.0/23&#x27;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># åˆ›å»ºä»…æˆæƒä»ç‰¹å®šåŸŸåæ¥è®¿é—®çš„ç”¨æˆ·</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mysql&gt; create user dbackuser@&#x27;samzong.me&#x27;;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¥½äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æµ‹è¯•å¯¹åº”ç”¨æˆ·æ˜¯å¦æœ‰æƒé™ã€‚</p>
<div class="language-mysql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-mysql codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">âœ  ~ mysql -u ghost_backuser -pbackupPass</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Warning: Using a password on the command line interface can be insecure.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Your MySQL connection id is 7</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Server version: 5.6.35 MySQL Community Server (GPL)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Copyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Oracle is a registered trademark of Oracle Corporation and/or its</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">affiliates. Other names may be trademarks of their respective</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">owners.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Type &#x27;help;&#x27; or &#x27;\h&#x27; for help. Type &#x27;\c&#x27; to clear the current input statement.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mysql&gt; show databases;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+--------------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| Database           |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+--------------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| information_schema |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| ghost              |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+--------------------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">2 rows in set (0.00 sec)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mysql&gt; use ghost;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Reading table information for completion of table and column names</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">You can turn off this feature to get a quicker startup with -A</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Database changed</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mysql&gt; select name from users;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| name |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">| ALEX |</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">+------+</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1 row in set (0.00 sec)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æµ‹è¯•<code>mysqldump</code>å¤‡ä»½å‘½ä»¤ï¼Œæ³¨æ„ mysqldump å¤‡ä»½ä¼šé”è¡¨ï¼Œä½†å¯¹äºæ­£åœ¨å·¥ä½œçš„æ•°æ®åº“ï¼Œé”è¡¨ä¼šå½±å“åˆ°æ­£å¸¸ä¸šåŠ¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>--single-transaction</code>å‚æ•°ï¼Œä¸é”è¡¨å¤‡ä»½ã€‚</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">âœ  ~ mysqldump </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-u</span><span class="token plain"> ghost_backuser </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-pbackupPass</span><span class="token plain"> ghost </span><span class="token operator">&gt;</span><span class="token plain"> ghost.bak.sql</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Warning: Using a password on the </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">command</span><span class="token plain"> line interface can be insecure.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mysqldump: Got error: </span><span class="token number">1044</span><span class="token plain">: Access denied </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">for</span><span class="token plain"> user </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;ghost_backuser&#x27;</span><span class="token plain">@</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;localhost&#x27;</span><span class="token plain"> to database </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;ghost&#x27;</span><span class="token plain"> when using LOCK TABLES</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">âœ  ~ mysqldump </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-u</span><span class="token plain"> ghost_backuser </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-pbackupPass</span><span class="token plain"> --single-transaction ghost </span><span class="token operator">&gt;</span><span class="token plain"> ghost.bak.sql</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Warning: Using a password on the </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">command</span><span class="token plain"> line interface can be insecure.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">âœ  ~ </span><span class="token function" style="color:rgb(80, 250, 123)">ls</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-lh</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">total 780K</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-rw-r--r-- </span><span class="token number">1</span><span class="token plain"> root   root  780K May </span><span class="token number">17</span><span class="token plain"> </span><span class="token number">16</span><span class="token plain">:24 ghost.bak.sql</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">âœ  ~</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="å®‰è£…å‘½ä»¤è¡Œé‚®ä»¶å·¥å…·-mailx">å®‰è£…å‘½ä»¤è¡Œé‚®ä»¶å·¥å…· mailx<a href="#å®‰è£…å‘½ä»¤è¡Œé‚®ä»¶å·¥å…·-mailx" class="hash-link" aria-label="Direct link to å®‰è£…å‘½ä»¤è¡Œé‚®ä»¶å·¥å…· mailx" title="Direct link to å®‰è£…å‘½ä»¤è¡Œé‚®ä»¶å·¥å…· mailx">â€‹</a></h4>
<p>å®‰è£… mailx åœ¨ CentOS/RehHat:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">âœ  ~ yum </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-y</span><span class="token plain"> mailx</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æµ‹è¯•å‘é€é‚®ä»¶ï¼š</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">âœ  ~ </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;test&quot;</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> mail </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-s</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;this a test email&quot;</span><span class="token plain"> samzong.lu@gmail.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img loading="lazy" src="https://img.samzong.me/202307191528331.jpg?imageView2/3/w/400/interlace/1/q/50" alt="image" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="å®‰è£…è®¡åˆ’ä»»åŠ¡å·¥å…·-crontab">å®‰è£…è®¡åˆ’ä»»åŠ¡å·¥å…· Crontab<a href="#å®‰è£…è®¡åˆ’ä»»åŠ¡å·¥å…·-crontab" class="hash-link" aria-label="Direct link to å®‰è£…è®¡åˆ’ä»»åŠ¡å·¥å…· Crontab" title="Direct link to å®‰è£…è®¡åˆ’ä»»åŠ¡å·¥å…· Crontab">â€‹</a></h4>
<p>crontab å‘½ä»¤å¸¸è§äº Unix å’Œç±» Unix çš„æ“ä½œç³»ç»Ÿä¹‹ä¸­ï¼Œç”¨äºè®¾ç½®å‘¨æœŸæ€§è¢«æ‰§è¡Œçš„æŒ‡ä»¤ã€‚è¯¥å‘½ä»¤ä»æ ‡å‡†è¾“å…¥è®¾å¤‡è¯»å–æŒ‡ä»¤ï¼Œå¹¶å°†å…¶å­˜æ”¾äºâ€œcrontabâ€æ–‡ä»¶ä¸­ã€‚é€šå¸¸ï¼Œcrontab å‚¨å­˜çš„æŒ‡ä»¤è¢«å®ˆæŠ¤è¿›ç¨‹æ¿€æ´»ï¼Œcrond å¸¸å¸¸åœ¨åå°è¿è¡Œï¼Œæ¯ä¸€åˆ†é’Ÿæ£€æŸ¥æ˜¯å¦æœ‰é¢„å®šçš„ä½œä¸šéœ€è¦æ‰§è¡Œã€‚è¿™ç±»ä½œä¸šä¸€èˆ¬ç§°ä¸º cron jobsã€‚</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">âœ  ~ yum </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> vixie-cron</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">âœ  ~ yum </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> crontabs</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>vixie-cron è½¯ä»¶åŒ…æ˜¯ cron çš„ä¸»ç¨‹åºï¼›</p>
<p>crontabs è½¯ä»¶åŒ…æ˜¯ç”¨æ¥å®‰è£…ã€å¸è£…ã€æˆ–åˆ—ä¸¾ç”¨æ¥é©±åŠ¨ cron å®ˆæŠ¤è¿›ç¨‹çš„è¡¨æ ¼çš„ç¨‹åºã€‚</p>
</blockquote>
<p>å¯åŠ¨ crond å¹¶è®¾ç½®ä¸ºå¼€æœºè‡ªå¯åŠ¨ï¼š</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">âœ  ~ </span><span class="token function" style="color:rgb(80, 250, 123)">service</span><span class="token plain"> crond start</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Starting crond:                                            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">  OK  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">âœ  ~ </span><span class="token function" style="color:rgb(80, 250, 123)">chkconfig</span><span class="token plain"> crond on</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>crontab åŸºç¡€å‘½ä»¤ï¼š</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">è¯­ã€€ã€€æ³•ï¼šcrontab </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">-u </span><span class="token operator">&lt;</span><span class="token plain">ç”¨æˆ·åç§°</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">é…ç½®æ–‡ä»¶</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"> æˆ– </span><span class="token function" style="color:rgb(80, 250, 123)">crontab</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">-u </span><span class="token operator">&lt;</span><span class="token plain">ç”¨æˆ·åç§°</span><span class="token operator">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">-elr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">è¡¥å……è¯´æ˜ï¼šcronæ˜¯ä¸€ä¸ªå¸¸é©»æœåŠ¡ï¼Œå®ƒæä¾›è®¡æ—¶å™¨çš„åŠŸèƒ½ï¼Œè®©ç”¨æˆ·åœ¨ç‰¹å®šçš„æ—¶é—´å¾—ä»¥æ‰§è¡Œé¢„è®¾çš„æŒ‡ä»¤æˆ–ç¨‹åºã€‚åªè¦ç”¨æˆ·ä¼šç¼–è¾‘è®¡æ—¶å™¨çš„é…ç½®æ–‡ä»¶ï¼Œå°±å¯ä»¥ä½¿ç”¨è®¡æ—¶å™¨çš„åŠŸèƒ½ã€‚</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">é…ç½®æ–‡ä»¶æ ¼å¼ï¼šMinute Hour Day Month DayOFWeek Command</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">å‚ã€€ã€€æ•°ï¼š</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-e</span><span class="token plain"> ã€€ç¼–è¾‘è¯¥ç”¨æˆ·çš„è®¡æ—¶å™¨è®¾ç½®ã€‚</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-l</span><span class="token plain"> ã€€åˆ—å‡ºè¯¥ç”¨æˆ·çš„è®¡æ—¶å™¨è®¾ç½®ã€‚</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-r</span><span class="token plain"> ã€€åˆ é™¤è¯¥ç”¨æˆ·çš„è®¡æ—¶å™¨è®¾ç½®ã€‚</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-u</span><span class="token operator">&lt;</span><span class="token plain">ç”¨æˆ·åç§°</span><span class="token operator">&gt;</span><span class="token plain"> ã€€æŒ‡å®šè¦è®¾å®šè®¡æ—¶å™¨çš„ç”¨æˆ·åç§°ã€‚</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>crontab é…ç½®çš„åŸºæœ¬æ ¼å¼ï¼š</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">*     * ã€€ *ã€€  *ã€€  *ã€€ã€€</span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">command</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">åˆ†ã€€  æ—¶ã€€ æ—¥ã€€ æœˆã€€ å‘¨ã€€  å‘½ä»¤</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> ç¬¬1åˆ—è¡¨ç¤ºåˆ†é’Ÿ1ï½59 æ¯åˆ†é’Ÿç”¨*æˆ–è€… */1è¡¨ç¤º</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> ç¬¬2åˆ—è¡¨ç¤ºå°æ—¶1ï½23ï¼ˆ0è¡¨ç¤º0ç‚¹ï¼‰</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> ç¬¬3åˆ—è¡¨ç¤ºæ—¥æœŸ1ï½31</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> ç¬¬4åˆ—è¡¨ç¤ºæœˆä»½1ï½12</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> ç¬¬5åˆ—æ ‡è¯†å· æ˜ŸæœŸ0ï½6ï¼ˆ0è¡¨ç¤ºæ˜ŸæœŸå¤©ï¼‰</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> ç¬¬6åˆ—è¦è¿è¡Œçš„å‘½ä»¤</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>crontab çš„ä¸€äº›ä¾‹å­ï¼š</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">#æ¯æ™šçš„21:30 é‡å¯apache</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">30</span><span class="token plain"> </span><span class="token number">21</span><span class="token plain"> * * * /usr/local/etc/rc.d/lighttpd restart</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#æ¯æœˆ1ã€10ã€22æ—¥çš„4 : 45é‡å¯apache</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">45</span><span class="token plain"> </span><span class="token number">4</span><span class="token plain"> </span><span class="token number">1,10</span><span class="token plain">,22 * * /usr/local/etc/rc.d/lighttpd restart</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#æ¯å‘¨å…­ã€å‘¨æ—¥çš„1 : 10é‡å¯apache</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">10</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> * * </span><span class="token number">6,0</span><span class="token plain"> /usr/local/etc/rc.d/lighttpd restart</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#æ¯å¤©18 : 00è‡³23 : 00ä¹‹é—´æ¯éš”30åˆ†é’Ÿé‡å¯apache</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">0,30</span><span class="token plain"> </span><span class="token number">18</span><span class="token plain">-23 * * * /usr/local/etc/rc.d/lighttpd restart</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#æ¯æ˜ŸæœŸå…­çš„11 : 00 pmé‡å¯apache</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">0</span><span class="token plain"> </span><span class="token number">23</span><span class="token plain"> * * </span><span class="token number">6</span><span class="token plain"> /usr/local/etc/rc.d/lighttpd restart</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#æ™šä¸Š11ç‚¹åˆ°æ—©ä¸Š7ç‚¹ä¹‹é—´ï¼Œæ¯éš”ä¸€å°æ—¶é‡å¯apache</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* </span><span class="token number">23</span><span class="token plain">-7/1 * * * /usr/local/etc/rc.d/lighttpd restart</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#æ¯ä¸€å°æ—¶é‡å¯apache</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">* */1 * * * /usr/local/etc/rc.d/lighttpd restart</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#æ¯æœˆçš„4å·ä¸æ¯å‘¨ä¸€åˆ°å‘¨ä¸‰çš„11ç‚¹é‡å¯apache</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">0</span><span class="token plain"> </span><span class="token number">11</span><span class="token plain"> </span><span class="token number">4</span><span class="token plain"> * mon-wed /usr/local/etc/rc.d/lighttpd restart</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#ä¸€æœˆä¸€å·çš„4ç‚¹é‡å¯apache</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">0</span><span class="token plain"> </span><span class="token number">4</span><span class="token plain"> </span><span class="token number">1</span><span class="token plain"> jan * /usr/local/etc/rc.d/lighttpd restart</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#æ¯åŠå°æ—¶åŒæ­¥ä¸€ä¸‹æ—¶é—´</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">*/30 * * * * /usr/sbin/ntpdate </span><span class="token number">210.72</span><span class="token plain">.145.44</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ç¼–å†™å¤‡ä»½è„šæœ¬">ç¼–å†™å¤‡ä»½è„šæœ¬<a href="#ç¼–å†™å¤‡ä»½è„šæœ¬" class="hash-link" aria-label="Direct link to ç¼–å†™å¤‡ä»½è„šæœ¬" title="Direct link to ç¼–å†™å¤‡ä»½è„šæœ¬">â€‹</a></h4>
<p>å¥½äº†ï¼Œä»¥ä¸Šæˆ‘ä»¬æµ‹è¯•éœ€è¦ç”¨åˆ°çš„å„ä¸ªæ¨¡å—ï¼Œä¸‹é¢æˆ‘ä»¬è¦ç¼–å†™å¤‡ä»½è„šæœ¬ï¼š</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#  mysqldump scripts.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># filepath: /usr/local/bin/ghost_sqldump.sh</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Author: samzong</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">#  set TIME variable</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">TIME</span><span class="token operator">=</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">`</span><span class="token variable function" style="color:rgb(80, 250, 123);font-style:italic">date</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">&quot;+%Y%m%d%H%M%S&quot;</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># backup db ghost to /mysqlbak/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">mysqldump --single-transaction </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-h</span><span class="token plain"> localhost </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-u</span><span class="token plain"> ghost_backuser </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-pbackupPass</span><span class="token plain"> ghost  </span><span class="token operator">&gt;</span><span class="token plain"> /mysqlbak/ghost_</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$TIME</span><span class="token plain">.sql</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># tar sql files.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">tar</span><span class="token plain"> czvf /mysqlbak/ghost_</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$TIME</span><span class="token plain">.sql.tgz /mysqlbak/ghost_</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$TIME</span><span class="token plain">.sql --remove-files</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># remove over 7 days sql files.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">find</span><span class="token plain"> /mysqlbak/ </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-mtime</span><span class="token plain"> +7 </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-exec</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-f</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># send mial to admin&#x27;mial</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"> </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$?</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-eq</span><span class="token plain"> </span><span class="token number">0</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;ghost SQL dump is successfully. At time: </span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">`</span><span class="token string variable function" style="color:rgb(80, 250, 123);font-style:italic">date</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">`</span><span class="token string" style="color:rgb(255, 121, 198)"> &quot;</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> mail </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-s</span><span class="token plain"> ghost-dump-successfully  samzong.lu@gmail.com</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot; Error Error ghost SQL dump is Error. At time: </span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">`</span><span class="token string variable function" style="color:rgb(80, 250, 123);font-style:italic">date</span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">`</span><span class="token string" style="color:rgb(255, 121, 198)"> &quot;</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> mail </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-s</span><span class="token plain"> ghost-dump-error samzong.lu@gmail.com</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">fi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ³¨æ„è„šæœ¬ä¸­çš„ä»¥ä¸‹å†…å®¹è¦æ ¹æ®ä½ çš„å®é™…æƒ…å†µä¿®æ”¹ï¼š</p>
<ul>
<li>-h &quot; &quot;  è¿™æ˜¯æ•°æ®åº“æ‰€åœ¨çš„ä¸»æœº</li>
<li>-u &quot; &quot;       è¿™æ˜¯æ•°æ®åº“å¯å¤‡ä»½çš„ç”¨æˆ·å</li>
<li>-p&quot; &quot;        å¤‡ä»½ç”¨æˆ·çš„å¯†ç </li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="æ·»åŠ è®¡åˆ’ä»»åŠ¡">æ·»åŠ è®¡åˆ’ä»»åŠ¡<a href="#æ·»åŠ è®¡åˆ’ä»»åŠ¡" class="hash-link" aria-label="Direct link to æ·»åŠ è®¡åˆ’ä»»åŠ¡" title="Direct link to æ·»åŠ è®¡åˆ’ä»»åŠ¡">â€‹</a></h4>
<p>ç»è¿‡ä»¥ä¸Šæµ‹è¯•ï¼Œå·²ç»å¾ˆå¥½çš„å®Œæˆå¤‡ä»½è„šæœ¬ï¼Œæ¥ä¸‹æ¥å°†è„šæœ¬æ·»åŠ åˆ° crontab å†…ï¼Œå¹¶è®¾ç½®è‡ªåŠ¨æ‰§è¡Œçš„æ—¶é—´ï¼š</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">âœ  ~ </span><span class="token function" style="color:rgb(80, 250, 123)">crontab</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-e</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">00 00 * * * </span><span class="token function" style="color:rgb(80, 250, 123)">sh</span><span class="token plain"> /usr/local/bin/ghost_sqldump.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>é‡å¯ crontab æœåŠ¡ï¼Œå¹¶ç¡®è®¤ crontab å·²ç»è®¾ç½®ä¸ºå¼€æœºè‡ªå¯åŠ¨</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">âœ  ~ </span><span class="token function" style="color:rgb(80, 250, 123)">service</span><span class="token plain"> crond restart</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Stopping crond:                                            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">  OK  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Starting crond:                                            </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">  OK  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">âœ  ~ </span><span class="token function" style="color:rgb(80, 250, 123)">chkconfig</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--list</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">grep</span><span class="token plain"> crond</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">crond           </span><span class="token number">0</span><span class="token plain">:off </span><span class="token number">1</span><span class="token plain">:off </span><span class="token number">2</span><span class="token plain">:on </span><span class="token number">3</span><span class="token plain">:on </span><span class="token number">4</span><span class="token plain">:on </span><span class="token number">5</span><span class="token plain">:on </span><span class="token number">6</span><span class="token plain">:off</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/cent-os">CentOS</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/tags/cent-os/page/11"><div class="pagination-nav__label">Newer Entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tags/cent-os/page/13"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div></div>
</body>
</html>