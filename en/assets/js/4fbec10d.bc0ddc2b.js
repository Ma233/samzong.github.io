"use strict";(self.webpackChunksamzong_me=self.webpackChunksamzong_me||[]).push([[89480],{75520:(n,a,i)=>{i.r(a),i.d(a,{assets:()=>h,contentTitle:()=>c,default:()=>d,frontMatter:()=>t,metadata:()=>s,toc:()=>r});var l=i(17624),e=i(4552);const t={title:"\u4f7f\u7528 canal \u8fdb\u884c\u6570\u636e\u5e93\u589e\u91cf\u540c\u6b65",tags:["Tools","MySQL"]},c=void 0,s={permalink:"/en/2022/09/18/shi-yong-canal-jin-xing-shu-ju-ku-zeng-liang-tong-bu",source:"@site/blog/2022-09-18-shi-yong-canal-jin-xing-shu-ju-ku-zeng-liang-tong-bu.md",title:"\u4f7f\u7528 canal \u8fdb\u884c\u6570\u636e\u5e93\u589e\u91cf\u540c\u6b65",description:"image.png",date:"2022-09-18T00:00:00.000Z",formattedDate:"September 18, 2022",tags:[{label:"Tools",permalink:"/en/tags/tools"},{label:"MySQL",permalink:"/en/tags/my-sql"}],hasTruncateMarker:!1,authors:[],frontMatter:{title:"\u4f7f\u7528 canal \u8fdb\u884c\u6570\u636e\u5e93\u589e\u91cf\u540c\u6b65",tags:["Tools","MySQL"]},unlisted:!1,prevItem:{title:"Skoala \u90e8\u7f72\u6559\u7a0b",permalink:"/en/2022/09/20/skoala-bu-shu-jiao-cheng"},nextItem:{title:"K8s \u7cfb\u5217 \u5357\u5317\u6d41\u91cf\u548c\u4e1c\u897f\u6d41\u91cf",permalink:"/en/2022/09/12/k8s-xi-lie-nan-bei-liu-liang-he-dong-xi-liu-liang"}},h={authorsImageUrls:[]},r=[{value:"\u7b80\u4ecb",id:"\u7b80\u4ecb",level:2},{value:"\u5de5\u4f5c\u539f\u7406",id:"\u5de5\u4f5c\u539f\u7406",level:2},{value:"MySQL \u4e3b\u5907\u590d\u5236\u539f\u7406",id:"mysql-\u4e3b\u5907\u590d\u5236\u539f\u7406",level:3},{value:"canal \u5de5\u4f5c\u539f\u7406",id:"canal-\u5de5\u4f5c\u539f\u7406",level:3},{value:"\u6587\u6863\u652f\u6301",id:"\u6587\u6863\u652f\u6301",level:2},{value:"\u591a\u8bed\u8a00",id:"\u591a\u8bed\u8a00",level:2},{value:"\u8d44\u6599\u6574\u7406",id:"\u8d44\u6599\u6574\u7406",level:2}];function o(n){const a={a:"a",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,e.M)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.p,{children:(0,l.jsx)(a.img,{src:"http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1662586780206-7328e88e-c0e3-4e2f-ac6d-e072747efc4a.png?x-oss-process=image/resize,w_960,m_lfit",alt:"image.png"})}),"\n",(0,l.jsx)(a.h2,{id:"\u7b80\u4ecb",children:"\u7b80\u4ecb"}),"\n",(0,l.jsx)(a.p,{children:(0,l.jsx)(a.img,{src:"http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/20191104101735947.png?x-oss-process=image/resize,w_960,m_lfit",alt:"image"})}),"\n",(0,l.jsxs)(a.p,{children:[(0,l.jsx)(a.strong,{children:"canal [k\u0259'n\xe6l]"}),"\uff0c\u8bd1\u610f\u4e3a\u6c34\u9053/\u7ba1\u9053/\u6c9f\u6e20\uff0c\u4e3b\u8981\u7528\u9014\u662f\u57fa\u4e8e MySQL \u6570\u636e\u5e93\u589e\u91cf\u65e5\u5fd7\u89e3\u6790\uff0c\u63d0\u4f9b\u589e\u91cf\u6570\u636e\u8ba2\u9605\u548c\u6d88\u8d39"]}),"\n",(0,l.jsx)(a.p,{children:"\u65e9\u671f\u963f\u91cc\u5df4\u5df4\u56e0\u4e3a\u676d\u5dde\u548c\u7f8e\u56fd\u53cc\u673a\u623f\u90e8\u7f72\uff0c\u5b58\u5728\u8de8\u673a\u623f\u540c\u6b65\u7684\u4e1a\u52a1\u9700\u6c42\uff0c\u5b9e\u73b0\u65b9\u5f0f\u4e3b\u8981\u662f\u57fa\u4e8e\u4e1a\u52a1 trigger \u83b7\u53d6\u589e\u91cf\u53d8\u66f4\u3002\u4ece 2010 \u5e74\u5f00\u59cb\uff0c\u4e1a\u52a1\u9010\u6b65\u5c1d\u8bd5\u6570\u636e\u5e93\u65e5\u5fd7\u89e3\u6790\u83b7\u53d6\u589e\u91cf\u53d8\u66f4\u8fdb\u884c\u540c\u6b65\uff0c\u7531\u6b64\u884d\u751f\u51fa\u4e86\u5927\u91cf\u7684\u6570\u636e\u5e93\u589e\u91cf\u8ba2\u9605\u548c\u6d88\u8d39\u4e1a\u52a1\u3002"}),"\n",(0,l.jsx)(a.p,{children:"\u57fa\u4e8e\u65e5\u5fd7\u589e\u91cf\u8ba2\u9605\u548c\u6d88\u8d39\u7684\u4e1a\u52a1\u5305\u62ec"}),"\n",(0,l.jsxs)(a.ul,{children:["\n",(0,l.jsx)(a.li,{children:"\u6570\u636e\u5e93\u955c\u50cf"}),"\n",(0,l.jsx)(a.li,{children:"\u6570\u636e\u5e93\u5b9e\u65f6\u5907\u4efd"}),"\n",(0,l.jsx)(a.li,{children:"\u7d22\u5f15\u6784\u5efa\u548c\u5b9e\u65f6\u7ef4\u62a4 (\u62c6\u5206\u5f02\u6784\u7d22\u5f15\u3001\u5012\u6392\u7d22\u5f15\u7b49)"}),"\n",(0,l.jsx)(a.li,{children:"\u4e1a\u52a1 cache \u5237\u65b0"}),"\n",(0,l.jsx)(a.li,{children:"\u5e26\u4e1a\u52a1\u903b\u8f91\u7684\u589e\u91cf\u6570\u636e\u5904\u7406"}),"\n"]}),"\n",(0,l.jsx)(a.p,{children:"\u5f53\u524d\u7684 canal \u652f\u6301\u6e90\u7aef MySQL \u7248\u672c\u5305\u62ec 5.1.x , 5.5.x , 5.6.x , 5.7.x , 8.0.x"}),"\n",(0,l.jsx)(a.h2,{id:"\u5de5\u4f5c\u539f\u7406",children:"\u5de5\u4f5c\u539f\u7406"}),"\n",(0,l.jsx)(a.h3,{id:"mysql-\u4e3b\u5907\u590d\u5236\u539f\u7406",children:"MySQL \u4e3b\u5907\u590d\u5236\u539f\u7406"}),"\n",(0,l.jsxs)(a.ul,{children:["\n",(0,l.jsx)(a.li,{children:"MySQL master \u5c06\u6570\u636e\u53d8\u66f4\u5199\u5165\u4e8c\u8fdb\u5236\u65e5\u5fd7 ( binary log, \u5176\u4e2d\u8bb0\u5f55\u53eb\u505a\u4e8c\u8fdb\u5236\u65e5\u5fd7\u4e8b\u4ef6 binary log events\uff0c\u53ef\u4ee5\u901a\u8fc7 show binlog events \u8fdb\u884c\u67e5\u770b)"}),"\n",(0,l.jsx)(a.li,{children:"MySQL slave \u5c06 master \u7684 binary log events \u62f7\u8d1d\u5230\u5b83\u7684\u4e2d\u7ee7\u65e5\u5fd7 (relay log)"}),"\n",(0,l.jsx)(a.li,{children:"MySQL slave \u91cd\u653e relay log \u4e2d\u4e8b\u4ef6\uff0c\u5c06\u6570\u636e\u53d8\u66f4\u53cd\u6620\u5b83\u81ea\u5df1\u7684\u6570\u636e"}),"\n"]}),"\n",(0,l.jsx)(a.h3,{id:"canal-\u5de5\u4f5c\u539f\u7406",children:"canal \u5de5\u4f5c\u539f\u7406"}),"\n",(0,l.jsxs)(a.ul,{children:["\n",(0,l.jsx)(a.li,{children:"canal \u6a21\u62df MySQL slave \u7684\u4ea4\u4e92\u534f\u8bae\uff0c\u4f2a\u88c5\u81ea\u5df1\u4e3a MySQL slave\uff0c\u5411 MySQL master \u53d1\u9001 dump \u534f\u8bae"}),"\n",(0,l.jsx)(a.li,{children:"MySQL master \u6536\u5230 dump \u8bf7\u6c42\uff0c\u5f00\u59cb\u63a8\u9001 binary log \u7ed9 slave (\u5373 canal )"}),"\n",(0,l.jsx)(a.li,{children:"canal \u89e3\u6790 binary log \u5bf9\u8c61 (\u539f\u59cb\u4e3a byte \u6d41)"}),"\n"]}),"\n",(0,l.jsx)(a.h2,{id:"\u6587\u6863\u652f\u6301",children:"\u6587\u6863\u652f\u6301"}),"\n",(0,l.jsxs)(a.ul,{children:["\n",(0,l.jsx)(a.li,{children:(0,l.jsx)(a.a,{href:"https://github.com/alibaba/canal/wiki/Home",children:"Home"})}),"\n",(0,l.jsx)(a.li,{children:(0,l.jsx)(a.a,{href:"https://github.com/alibaba/canal/wiki/Introduction",children:"Introduction"})}),"\n",(0,l.jsxs)(a.li,{children:[(0,l.jsx)(a.a,{href:"https://github.com/alibaba/canal/wiki/QuickStart",children:"QuickStart"}),"\n",(0,l.jsxs)(a.ul,{children:["\n",(0,l.jsx)(a.li,{children:(0,l.jsx)(a.a,{href:"https://github.com/alibaba/canal/wiki/Docker-QuickStart",children:"Docker QuickStart"})}),"\n",(0,l.jsx)(a.li,{children:(0,l.jsx)(a.a,{href:"https://github.com/alibaba/canal/wiki/Canal-Kafka-RocketMQ-QuickStart%22",children:"Canal Kafka/RocketMQ QuickStart"})}),"\n",(0,l.jsx)(a.li,{children:(0,l.jsx)(a.a,{href:"https://github.com/alibaba/canal/wiki/aliyun-RDS-QuickStart",children:"Aliyun RDS for MySQL QuickStart"})}),"\n",(0,l.jsx)(a.li,{children:(0,l.jsx)(a.a,{href:"https://github.com/alibaba/canal/wiki/Prometheus-QuickStart",children:"Prometheus QuickStart"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(a.li,{children:["Canal Admin","\n",(0,l.jsxs)(a.ul,{children:["\n",(0,l.jsx)(a.li,{children:(0,l.jsx)(a.a,{href:"https://github.com/alibaba/canal/wiki/Canal-Admin-QuickStart",children:"Canal Admin QuickStart"})}),"\n",(0,l.jsx)(a.li,{children:(0,l.jsx)(a.a,{href:"https://github.com/alibaba/canal/wiki/Canal-Admin-Guide",children:"Canal Admin Guide"})}),"\n",(0,l.jsx)(a.li,{children:(0,l.jsx)(a.a,{href:"https://github.com/alibaba/canal/wiki/Canal-Admin-ServerGuide",children:"Canal Admin ServerGuide"})}),"\n",(0,l.jsx)(a.li,{children:(0,l.jsx)(a.a,{href:"https://github.com/alibaba/canal/wiki/Canal-Admin-Docker",children:"Canal Admin Docker"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(a.li,{children:(0,l.jsx)(a.a,{href:"https://github.com/alibaba/canal/wiki/AdminGuide",children:"AdminGuide"})}),"\n",(0,l.jsx)(a.li,{children:(0,l.jsx)(a.a,{href:"https://github.com/alibaba/canal/wiki/ClientExample",children:"ClientExample"})}),"\n",(0,l.jsx)(a.li,{children:(0,l.jsx)(a.a,{href:"https://github.com/alibaba/canal/wiki/ClientAPI",children:"ClientAPI"})}),"\n",(0,l.jsx)(a.li,{children:(0,l.jsx)(a.a,{href:"https://github.com/alibaba/canal/wiki/Performance",children:"Performance"})}),"\n",(0,l.jsx)(a.li,{children:(0,l.jsx)(a.a,{href:"https://github.com/alibaba/canal/wiki/DevGuide",children:"DevGuide"})}),"\n",(0,l.jsx)(a.li,{children:(0,l.jsx)(a.a,{href:"https://github.com/alibaba/canal/wiki/BinlogChange%28mysql5.6%29",children:"BinlogChange(MySQL 5.6)"})}),"\n",(0,l.jsx)(a.li,{children:(0,l.jsx)(a.a,{href:"https://github.com/alibaba/canal/wiki/BinlogChange%28MariaDB%29",children:"BinlogChange(MariaDB)"})}),"\n",(0,l.jsx)(a.li,{children:(0,l.jsx)(a.a,{href:"https://github.com/alibaba/canal/wiki/TableMetaTSDB",children:"TableMetaTSDB"})}),"\n",(0,l.jsx)(a.li,{children:(0,l.jsx)(a.a,{href:"http://alibaba.github.com/canal/release.html",children:"ReleaseNotes"})}),"\n",(0,l.jsx)(a.li,{children:(0,l.jsx)(a.a,{href:"https://github.com/alibaba/canal/releases",children:"Download"})}),"\n",(0,l.jsx)(a.li,{children:(0,l.jsx)(a.a,{href:"https://github.com/alibaba/canal/wiki/FAQ",children:"FAQ"})}),"\n"]}),"\n",(0,l.jsx)(a.h2,{id:"\u591a\u8bed\u8a00",children:"\u591a\u8bed\u8a00"}),"\n",(0,l.jsx)(a.p,{children:"canal \u7279\u522b\u8bbe\u8ba1\u4e86 client-server \u6a21\u5f0f\uff0c\u4ea4\u4e92\u534f\u8bae\u4f7f\u7528 protobuf 3.0 , client \u7aef\u53ef\u91c7\u7528\u4e0d\u540c\u8bed\u8a00\u5b9e\u73b0\u4e0d\u540c\u7684\u6d88\u8d39\u903b\u8f91\uff0c\u6b22\u8fce\u5927\u5bb6\u63d0\u4ea4 pull request"}),"\n",(0,l.jsxs)(a.ul,{children:["\n",(0,l.jsxs)(a.li,{children:["canal java \u5ba2\u6237\u7aef\uff1a",(0,l.jsx)(a.a,{href:"https://github.com/alibaba/canal/wiki/ClientExample",children:"https://github.com/alibaba/canal/wiki/ClientExample"})]}),"\n",(0,l.jsxs)(a.li,{children:["canal c# \u5ba2\u6237\u7aef\uff1a",(0,l.jsx)(a.a,{href:"https://github.com/dotnetcore/CanalSharp",children:"https://github.com/dotnetcore/CanalSharp"})]}),"\n",(0,l.jsxs)(a.li,{children:["canal go \u5ba2\u6237\u7aef\uff1a",(0,l.jsx)(a.a,{href:"https://github.com/CanalClient/canal-go",children:"https://github.com/CanalClient/canal-go"})]}),"\n",(0,l.jsxs)(a.li,{children:["canal php \u5ba2\u6237\u7aef\uff1a",(0,l.jsx)(a.a,{href:"https://github.com/xingwenge/canal-php",children:"https://github.com/xingwenge/canal-php"})]}),"\n",(0,l.jsxs)(a.li,{children:["canal Python \u5ba2\u6237\u7aef\uff1a",(0,l.jsx)(a.a,{href:"https://github.com/haozi3156666/canal-python",children:"https://github.com/haozi3156666/canal-python"})]}),"\n",(0,l.jsxs)(a.li,{children:["canal Rust \u5ba2\u6237\u7aef\uff1a",(0,l.jsx)(a.a,{href:"https://github.com/laohanlinux/canal-rs",children:"https://github.com/laohanlinux/canal-rs"})]}),"\n",(0,l.jsxs)(a.li,{children:["canal Nodejs \u5ba2\u6237\u7aef\uff1a",(0,l.jsx)(a.a,{href:"https://github.com/marmot-z/canal-nodejs",children:"https://github.com/marmot-z/canal-nodejs"})]}),"\n"]}),"\n",(0,l.jsx)(a.p,{children:"canal \u4f5c\u4e3a MySQL binlog \u589e\u91cf\u83b7\u53d6\u548c\u89e3\u6790\u5de5\u5177\uff0c\u53ef\u5c06\u53d8\u66f4\u8bb0\u5f55\u6295\u9012\u5230 MQ \u7cfb\u7edf\u4e2d\uff0c\u6bd4\u5982 Kafka/RocketMQ\uff0c\u53ef\u4ee5\u501f\u52a9\u4e8e MQ \u7684\u591a\u8bed\u8a00\u80fd\u529b"}),"\n",(0,l.jsxs)(a.ul,{children:["\n",(0,l.jsxs)(a.li,{children:["\u53c2\u8003\u6587\u6863\uff1a",(0,l.jsx)(a.a,{href:"https://github.com/alibaba/canal/wiki/Canal-Kafka-RocketMQ-QuickStart",children:"Canal Kafka/RocketMQ QuickStart"})]}),"\n"]}),"\n",(0,l.jsx)(a.h2,{id:"\u8d44\u6599\u6574\u7406",children:"\u8d44\u6599\u6574\u7406"}),"\n",(0,l.jsx)(a.p,{children:"canal \u7684\u7b56\u7565\u662f\u6a21\u62df\u4e86 MySQL Slave \u7684\u884c\u4e3a\uff0c\u56e0\u6b64\u9700\u8981\u6709 SELECT, REPLICATION SLAVE, REPLICATION CLIENT \u7684\u6743\u9650"})]})}function d(n={}){const{wrapper:a}={...(0,e.M)(),...n.components};return a?(0,l.jsx)(a,{...n,children:(0,l.jsx)(o,{...n})}):o(n)}},4552:(n,a,i)=>{i.d(a,{I:()=>s,M:()=>c});var l=i(11504);const e={},t=l.createContext(e);function c(n){const a=l.useContext(t);return l.useMemo((function(){return"function"==typeof n?n(a):{...a,...n}}),[a,n])}function s(n){let a;return a=n.disableParentContext?"function"==typeof n.components?n.components(e):n.components||e:c(n.components),l.createElement(t.Provider,{value:a},n.children)}}}]);