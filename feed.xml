<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.2">Jekyll</generator><link href="/feed.xml" rel="self" type="application/atom+xml" /><link href="/" rel="alternate" type="text/html" /><updated>2022-11-27T12:36:03-06:00</updated><id>/feed.xml</id><title type="html">船长的课记</title><author><name>船长</name><email>samzong.lu@gmail.com</email></author><entry><title type="html">开源项目 - 春松客服</title><link href="/post/2022/11/cskefu-opensource-project.html" rel="alternate" type="text/html" title="开源项目 - 春松客服" /><published>2022-11-28T00:00:00-06:00</published><updated>2022-11-28T00:00:00-06:00</updated><id>/post/2022/11/cskefu-opensource-project</id><content type="html" xml:base="/post/2022/11/cskefu-opensource-project.html">&lt;h2 id=&quot;项目起源&quot;&gt;项目起源&lt;/h2&gt;

&lt;p&gt;很自豪给大家推荐，春松客服是我参与主导团队的第一个纯社区开源项目，目前在 Github 中文项目中开源排名第一。&lt;/p&gt;

&lt;p&gt;目前我们正在规划 V8 产品迭代，这将会是一个全新的升级，请关注我们的项目进展 &lt;a href=&quot;https://github.com/cskefu/cskefu&quot;&gt;cskefu&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;同时也欢迎大家加入我们的团队。&lt;/p&gt;

&lt;h3 id=&quot;中国本土团队自主研发&quot;&gt;中国本土团队自主研发&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;春松客服是北京华夏春松于 2018 年发布的开源项目，目的是帮助企业上线智能客服系统。&lt;/li&gt;
  &lt;li&gt;2022 年中，春松客服开源社区成立，目前春松客服由春松客服技术委员会领导，核心开发者来自开源社区，实践与客户、合伙伙伴共建社区。&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;最有价值开源项目&quot;&gt;最有价值开源项目&lt;/h3&gt;

&lt;p&gt;至 2022 年 10 月，春松客服在企业中部署超过 1.8 万次，上线客户超过 500 家，是 GitHub 上最受欢迎的中文开源客服系统。因开源、云原生架构和功能丰富受到广泛好评，在 Gitee 上赢得最有价值项目奖项。&lt;/p&gt;

&lt;h2 id=&quot;我们的愿景&quot;&gt;我们的愿景&lt;/h2&gt;

&lt;p&gt;在开源客服系统，我希望将春松客服平台成为一个开源的生态，希望吸引到成千上万的开发者和企业来使用和参与春松客服的开发。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;春松客服不是传统的客服操作系统，区别与传统客服产品或客服厂商，因为我们在尝试使用开源方式打造一个可持续发展的客服生态&lt;/li&gt;
  &lt;li&gt;我们承诺开放客服系统基础的核心能力和底层框架，上层应用增强功能则有开发者来决定&lt;/li&gt;
  &lt;li&gt;开源不代表免费，我们将会对提供的增值能力进行收费，以保证主导团队的可持续发展，包括但不限于（技术支持、SaaS 平台）&lt;/li&gt;
  &lt;li&gt;春松客服是一套开发者友好的客服操作系统，我们致力于让春松客服在即使脱离了主导团队，仍旧具备可持续发展的开源产品&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;春松客服是一个依托于开源精神的客服操作系统，我们承诺永远开源，并与开发者打造一个完美的客服系统生态。&lt;/p&gt;

&lt;p&gt;我们想做客服系统的 Kubernetes。&lt;/p&gt;

&lt;h2 id=&quot;最终用户&quot;&gt;最终用户&lt;/h2&gt;

&lt;h3 id=&quot;一线客服团队人员&quot;&gt;一线客服团队人员&lt;/h3&gt;

&lt;p&gt;一线客服人员作为日常之中，长期使用客服系统的人员；客服系统的能力和效率将直接影响到他们的使用；&lt;/p&gt;

&lt;h3 id=&quot;客服领域开发者&quot;&gt;客服领域开发者&lt;/h3&gt;

&lt;p&gt;开发者们，可以利用春松客服的开放能力，为春松客服编写大量的增强插件。&lt;/p&gt;

&lt;h2 id=&quot;产品设计理念&quot;&gt;产品设计理念&lt;/h2&gt;

&lt;p&gt;春松客服的核心目标，不是打造一个我们认为的客服系统，而是我们希望打造一套轻量化的智能客服系统框架和具有海量插件的平台。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;对于一线客服团队，可以根据自己的需要，选择合适的功能。&lt;/li&gt;
  &lt;li&gt;对于客服领域的开发者们，提供一个平台，让开发者们可以轻松实现春松客服 + 的能力&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;合理的功能边界定义&quot;&gt;合理的功能边界定义&lt;/h3&gt;

&lt;p&gt;传统的客服系统提供了大量复杂的功能和配置，虽然总能找到对用户来说想要的功能，但是大量冗杂、甚至逻辑冲突的功能，这虽然没有过错；但的确极大的提高了一线客服人员的使用成本。&lt;/p&gt;

&lt;p&gt;对于真正的使用者来说，我们希望客服系统的功能，可以刚好满足我所需要的全部功能，同时可以方便的进行功能的增减和升级。&lt;/p&gt;

&lt;p&gt;所以，春松客服的功能边界在：提供 &lt;strong&gt;高性能、稳定、通用的、生产级&lt;/strong&gt; 智能客服系统底座和平台。&lt;/p&gt;

&lt;h3 id=&quot;明确的功能范围定义&quot;&gt;明确的功能范围定义&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;春松客服确保底层基础能力的支持，并且保证良好的可扩展性&lt;/li&gt;
  &lt;li&gt;春松客服避免直接内置开发复杂的应用功能（这往往会有兼容性问题），更多以标准开放能力为目标，交由开发者来实现 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;增强插件&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;功能介绍&quot;&gt;功能介绍&lt;/h2&gt;

&lt;h2 id=&quot;春松客服-v7&quot;&gt;春松客服 V7&lt;/h2&gt;

&lt;p&gt;春松客服到现在，已经发展了 2 年的时间，目前版本迭代到 V7，下面展示春松客服的功能和介绍网址入口。&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;功能&lt;/th&gt;
      &lt;th&gt;介绍网址&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;应用部署&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/deploy&quot;&gt;https://docs.cskefu.com/docs/deploy&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;系统初始化&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/initialization&quot;&gt;https://docs.cskefu.com/docs/initialization&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;开源社区&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/osc/&quot;&gt;https://docs.cskefu.com/docs/osc/&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;开源许可协议&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/osc/license&quot;&gt;https://docs.cskefu.com/docs/osc/license&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;春松客服大讲堂&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/osc/training&quot;&gt;https://docs.cskefu.com/docs/osc/training&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;开发环境搭建&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/osc/engineering&quot;&gt;https://docs.cskefu.com/docs/osc/engineering&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;IDE 使用之 Eclipse IDE&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/osc/ide_eclipse&quot;&gt;https://docs.cskefu.com/docs/osc/ide_eclipse&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;IDE 使用之 IntelliJ IDEA&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/osc/ide_intelij_idea&quot;&gt;https://docs.cskefu.com/docs/osc/ide_intelij_idea&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;系统维护&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/osc/maintainence&quot;&gt;https://docs.cskefu.com/docs/osc/maintainence&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;提交代码&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/osc/contribution&quot;&gt;https://docs.cskefu.com/docs/osc/contribution&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;REST APIs&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/osc/restapi&quot;&gt;https://docs.cskefu.com/docs/osc/restapi&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;账号和权限&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/accounting&quot;&gt;https://docs.cskefu.com/docs/accounting&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;坐席工作台&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/work&quot;&gt;https://docs.cskefu.com/docs/work&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;渠道管理&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/channels/&quot;&gt;https://docs.cskefu.com/docs/channels/&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Messenger 渠道&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/channels/messenger/&quot;&gt;https://docs.cskefu.com/docs/channels/messenger/&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;网页渠道&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/channels/webim&quot;&gt;https://docs.cskefu.com/docs/channels/webim&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;客户关系管理&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/crm&quot;&gt;https://docs.cskefu.com/docs/crm&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;坐席监控&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/monitoring&quot;&gt;https://docs.cskefu.com/docs/monitoring&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;机器人客服&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/work-chatbot/&quot;&gt;https://docs.cskefu.com/docs/work-chatbot/&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;安装配置&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/work-chatbot/install&quot;&gt;https://docs.cskefu.com/docs/work-chatbot/install&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;集成机器人客服&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/work-chatbot/bot-agent&quot;&gt;https://docs.cskefu.com/docs/work-chatbot/bot-agent&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;消息类型&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/work-chatbot/message-types&quot;&gt;https://docs.cskefu.com/docs/work-chatbot/message-types&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;会话历史&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/reports&quot;&gt;https://docs.cskefu.com/docs/reports&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;访问统计&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/usage&quot;&gt;https://docs.cskefu.com/docs/usage&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;账号和权限&quot;&gt;账号和权限&lt;/h3&gt;

&lt;h3 id=&quot;系统管理员&quot;&gt;系统管理员&lt;/h3&gt;

&lt;p&gt;在春松客服里，系统管理员是具备管理所辖组织内坐席、权限、角色、联系人和坐席监控等资源的管理员，系统管理员分为两种类型：&lt;strong&gt;超级管理员&lt;/strong&gt;和&lt;strong&gt;普通管理员&lt;/strong&gt;，普通管理员也简称“管理员”。&lt;/p&gt;

&lt;p&gt;超级管理员为春松客服系统设置的，初始化一个春松客服实例后，默认超级管理员用户名为 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;admin&lt;/code&gt;，密码为 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;admin1234&lt;/code&gt;，并且有且只有一个，IT 人员在初始化搭建的春松客服实例的第一件事就是更改超级管理员账号的密码，以确保系统安全。超级管理员具备更新系统所有属性的能力，读写数据，是春松客服内权限最大的用户。&lt;/p&gt;

&lt;p&gt;安装启动系统，进入春松客服后台界面，输入初始化的超级管理员账号密码(用户名: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;admin&lt;/code&gt;, 密码: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;admin1234&lt;/code&gt;)，点击立即登录。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;超级管理员同时维护者春松客服的组织机构的高层级，组织机构是树形结构，默认情况下没有组织机构信息，春松客服搭建完成后，由超级管理员设定根节点，比如总公司、总公司下属子公司，维护这样的一个层级结构，再创建其他管理员账号，普通管理员账号可以创建多个，不同管理员隶属于不同组织机构，该管理员只有管理其所在组织机构及该组织机构附属组织机构的权限。&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;系统管理员切换不同的组织机构，可以查看不同组织机构的数据。&lt;/p&gt;

&lt;h3 id=&quot;权限设计&quot;&gt;权限设计&lt;/h3&gt;

&lt;p&gt;春松客服权限体系包括：组织机构，角色，账号。&lt;/p&gt;

&lt;h4 id=&quot;权限的管理&quot;&gt;权限的管理&lt;/h4&gt;

&lt;p&gt;角色可以自定义，设置对一系列资源的读写。&lt;strong&gt;角色的创建和删除，修改资源授权，只有超级管理员可以操作，&lt;/strong&gt;，普通【管理员】只具备角色的使用权：添加或删除权限里的系统账号。&lt;/p&gt;

&lt;h4 id=&quot;系统账号读写资源与角色的关系&quot;&gt;系统账号读写资源与角色的关系&lt;/h4&gt;

&lt;p&gt;将账号添加到角色后，因为账号也同时隶属于不同的组织机构，那么账号所具有的权限就是其所在组织机构以及附属组织机构的角色对应的资源的读写。&lt;/p&gt;

&lt;p&gt;根据角色和坐席所在组织机构进行权限检查：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;超级管理员可以管理系统所有资源&lt;/li&gt;
  &lt;li&gt;管理员可以创建部门人员&lt;/li&gt;
  &lt;li&gt;组织机构支持层级的树状结构&lt;/li&gt;
  &lt;li&gt;角色包含对不同资源的读写权限&lt;/li&gt;
  &lt;li&gt;资源如联系人，客户等是根据组织机构进行隔离的&lt;/li&gt;
  &lt;li&gt;网站渠道必须启用技能组，不同网站渠道接入的访客根据网站渠道设置分配给不同的技能组&lt;/li&gt;
  &lt;li&gt;系统数据根据坐席当前所在的组织机构进行展示&lt;/li&gt;
  &lt;li&gt;坐席可以看到自己所在组织机构以及附属组织机构的数据&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;假设组织机构如下：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;李四所能看到的联系人全集是 A 部门及其附属部门所创建的全部联系人&lt;/li&gt;
  &lt;li&gt;李四看不到 B 部门的联系人，张三看不到 A 部门的联系人&lt;/li&gt;
  &lt;li&gt;李四能看到刘一创建的联系人，刘一看不到李四创建的联系人&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;组织机构管理&quot;&gt;组织机构管理&lt;/h3&gt;

&lt;h4 id=&quot;创建部门&quot;&gt;创建部门&lt;/h4&gt;

&lt;p&gt;&lt;em&gt;系统&lt;/em&gt; -&amp;gt; &lt;em&gt;系统概况&lt;/em&gt; -&amp;gt; &lt;em&gt;用户和组&lt;/em&gt; -&amp;gt; &lt;em&gt;组织机构&lt;/em&gt; -&amp;gt; &lt;em&gt;创建部门&lt;/em&gt;，并且可以启用或关闭技能组&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;名词解释：&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;部门&lt;/strong&gt; 需要创建的部门名称&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;上级机构&lt;/strong&gt; 选择上级部门&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;启用技能组&lt;/strong&gt; 这里启用与否，技能是接待同一个渠道的坐席人员群组，春松客服支持配置自动分配策略，连接访客与坐席，简称 ACD 模块&lt;/p&gt;

&lt;h4 id=&quot;更新删除部门&quot;&gt;更新、删除部门&lt;/h4&gt;

&lt;p&gt;进入部门列表&lt;/p&gt;

&lt;p&gt;&lt;em&gt;系统&lt;/em&gt; -&amp;gt; &lt;em&gt;系统概况&lt;/em&gt; -&amp;gt; &lt;em&gt;用户和组&lt;/em&gt; -&amp;gt; &lt;em&gt;组织机构&lt;/em&gt;&lt;/p&gt;

&lt;h4 id=&quot;编辑-修改-部门&quot;&gt;编辑 (修改) 部门&lt;/h4&gt;

&lt;p&gt;&lt;em&gt;系统&lt;/em&gt; -&amp;gt; &lt;em&gt;系统概况&lt;/em&gt; -&amp;gt; &lt;em&gt;用户和组&lt;/em&gt; -&amp;gt; &lt;em&gt;组织机构&lt;/em&gt; -&amp;gt; &lt;em&gt;修改部门&lt;/em&gt;&lt;/p&gt;

&lt;h4 id=&quot;删除部门&quot;&gt;删除部门&lt;/h4&gt;

&lt;p&gt;&lt;em&gt;系统&lt;/em&gt; -&amp;gt; &lt;em&gt;系统概况&lt;/em&gt; -&amp;gt; &lt;em&gt;用户和组&lt;/em&gt; -&amp;gt; &lt;em&gt;组织机构&lt;/em&gt; -&amp;gt; &lt;em&gt;删除部门&lt;/em&gt;&lt;/p&gt;

&lt;h4 id=&quot;设置部门地区&quot;&gt;设置部门地区&lt;/h4&gt;

&lt;p&gt;&lt;em&gt;系统&lt;/em&gt; -&amp;gt; &lt;em&gt;系统概况&lt;/em&gt; -&amp;gt; &lt;em&gt;用户和组&lt;/em&gt; -&amp;gt; &lt;em&gt;组织结构&lt;/em&gt; -&amp;gt; &lt;em&gt;选中一个部门&lt;/em&gt; -&amp;gt; &lt;em&gt;地区设置&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&quot;角色管理&quot;&gt;角色管理&lt;/h3&gt;

&lt;h4 id=&quot;创建角色&quot;&gt;创建角色&lt;/h4&gt;

&lt;p&gt;&lt;em&gt;系统&lt;/em&gt; -&amp;gt; &lt;em&gt;系统概况&lt;/em&gt; -&amp;gt; &lt;em&gt;用户和组&lt;/em&gt; -&amp;gt; &lt;em&gt;系统角色&lt;/em&gt; -&amp;gt; &lt;em&gt;新建角色&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;只有【系统超级管理员】可以创建角色。&lt;/p&gt;

&lt;p&gt;名词解释：&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;角色&lt;/strong&gt; 系统中用户的操作权限是通过角色来控制，角色可以理解为具备一定操作权限的用户组；&lt;/p&gt;

&lt;p&gt;可以把一个或者更多的用户添加到一个角色下；&lt;/p&gt;

&lt;p&gt;可以给一个角色设置一定的系统权限，相当于这个角色下面的用户有了这些系统权限；&lt;/p&gt;

&lt;p&gt;角色创建好了以后，在所有组织机构中共享。不同组织机构的管理员，只能管理其所在组织机构和下属组织机构里的账号的角色。&lt;/p&gt;

&lt;h4 id=&quot;编辑-修改-角色&quot;&gt;编辑 (修改) 角色&lt;/h4&gt;

&lt;p&gt;&lt;em&gt;系统&lt;/em&gt; -&amp;gt; &lt;em&gt;系统概况&lt;/em&gt; -&amp;gt; &lt;em&gt;用户和组&lt;/em&gt; -&amp;gt; &lt;em&gt;系统角色&lt;/em&gt; -&amp;gt; &lt;em&gt;修改角色&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;只有【系统超级管理员】可以编辑角色。&lt;/p&gt;

&lt;h4 id=&quot;删除角色&quot;&gt;删除角色&lt;/h4&gt;

&lt;p&gt;系统-&amp;gt;系统概况-&amp;gt;用户和组-&amp;gt;系统角色&amp;gt;删除角色&lt;/p&gt;

&lt;p&gt;只有【系统超级管理员】可以删除角色。&lt;/p&gt;

&lt;h3 id=&quot;账号管理&quot;&gt;账号管理&lt;/h3&gt;

&lt;h4 id=&quot;创建用户账号系统---系统概况---用户和组---用户账号---创建新用户&quot;&gt;创建用户账号：&lt;em&gt;系统&lt;/em&gt; -&amp;gt; &lt;em&gt;系统概况&lt;/em&gt; -&amp;gt; &lt;em&gt;用户和组&lt;/em&gt; -&amp;gt; &lt;em&gt;用户账号&lt;/em&gt; -&amp;gt; &lt;em&gt;创建新用户&lt;/em&gt;&lt;/h4&gt;

&lt;blockquote&gt;
  &lt;p&gt;提示：&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;电子邮件: 需要有效的格式密码: 字母数字最少8位，手动录入手机号: 全系统唯一
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;用户分为管理员和普通用户&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;坐席分为一般坐席和 SIP 坐席，普通用户与管理用户都可以成为坐席，SIP 坐席是在多媒体坐席的基础上&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;每个账号必须分配到一个部门下，以及关联到一个角色上，才可以查看或管理资源，请详细阅读【组织机构】和【角色】管理&lt;/strong&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;创建普通用户&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;创建多媒体坐席&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;创建管理员&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;查看账号信息&quot;&gt;查看账号信息&lt;/h4&gt;

&lt;p&gt;&lt;em&gt;系统&lt;/em&gt; -&amp;gt; &lt;em&gt;系统概况&lt;/em&gt; -&amp;gt; &lt;em&gt;用户和组&lt;/em&gt; -&amp;gt; &lt;em&gt;用户账号&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;点击操作一栏中的“编辑”“删除”，可以对当前用户列表中的所有用户的信息进行编辑或者删除&lt;/p&gt;

&lt;h4 id=&quot;添加账号到部门&quot;&gt;添加账号到部门&lt;/h4&gt;

&lt;p&gt;&lt;em&gt;系统&lt;/em&gt; -&amp;gt; &lt;em&gt;系统概况&lt;/em&gt; -&amp;gt; &lt;em&gt;用户和组&lt;/em&gt; -&amp;gt; &lt;em&gt;组织结构&lt;/em&gt; -&amp;gt; &lt;em&gt;选中一个部门&lt;/em&gt; -&amp;gt; &lt;em&gt;添加用户到当前部门&lt;/em&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;可以把已经存在的 用户账号 添加到一个特定的部门中&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;一个用户账号只能隶属于一个部门&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;添加账号到角色&quot;&gt;添加账号到角色&lt;/h4&gt;

&lt;p&gt;系统-&amp;gt;系统概况-&amp;gt;用户和组-&amp;gt;系统角色&amp;gt;添加用户到角色&lt;/p&gt;

&lt;h3 id=&quot;渠道管理&quot;&gt;渠道管理&lt;/h3&gt;

&lt;p&gt;春松客服支持多种渠道，访客的来源可能是多渠道的，这也是目前联络中心发展的趋势，以及对智能客服系统的一个挑战，一方面随着信息技术和互联网通信、聊天工具的演变，企业的客户逐渐分散，尤其是营销平台多元化。&lt;/p&gt;

&lt;p&gt;多渠道的适应能力，是春松客服的重要特色。在【渠道管理】的子菜单中，查看支持的不同类型的渠道。&lt;/p&gt;

&lt;h4 id=&quot;渠道支持&quot;&gt;渠道支持&lt;/h4&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;渠道名称&lt;/th&gt;
      &lt;th&gt;简介&lt;/th&gt;
      &lt;th&gt;获得&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/channels/webim&quot;&gt;网页渠道&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;通过在网页中注入春松客服网页渠道 HTML，实现聊天控件，访客与客服建立实时通信连接，支持坐席邀请访客对话等功能&lt;/td&gt;
      &lt;td&gt;&lt;strong&gt;开源，免费&lt;/strong&gt;，随&lt;a href=&quot;https://github.com/chatopera/cskefu&quot;&gt;基础代码&lt;/a&gt;发布&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/channels/messenger&quot;&gt;Facebook Messenger 渠道&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;简称“Messenger 插件”或“ME”插件，Messenger 是 Facebook 旗下的最主要的即时通信软件，支持多种平台，因其创新的理念、优秀的用户体验和全球最大的社交网络，而广泛应用。春松客服 Messenger 插件帮助企业在 Facebook 平台上实现营销和客户服务&lt;/td&gt;
      &lt;td&gt;&lt;strong&gt;开源，免费&lt;/strong&gt;，随&lt;a href=&quot;https://github.com/chatopera/cskefu&quot;&gt;基础代码&lt;/a&gt;发布&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;网页渠道&quot;&gt;网页渠道&lt;/h3&gt;

&lt;p&gt;网页聊天支持可以适配移动设备浏览器，桌面浏览器。可以在电脑，手机，微信等渠道接入网页聊天控件。&lt;/p&gt;

&lt;h4 id=&quot;安装&quot;&gt;安装&lt;/h4&gt;

&lt;p&gt;获取网页脚本，&lt;em&gt;系统&lt;/em&gt; -&amp;gt; &lt;em&gt;系统管理&lt;/em&gt; -&amp;gt; &lt;em&gt;客服接入&lt;/em&gt; -&amp;gt; &lt;em&gt;网站列表&lt;/em&gt; -&amp;gt; &lt;em&gt;点击“Chatopera 官网”&lt;/em&gt; -&amp;gt; &lt;em&gt;基本设置&lt;/em&gt; -&amp;gt; &lt;em&gt;接入；&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;将图中的代码复制到一个 Web 项目的页面中，例如下图的。&lt;/p&gt;

&lt;h4 id=&quot;使用&quot;&gt;使用&lt;/h4&gt;

&lt;p&gt;使用浏览器打开该 Web 页面。&lt;/p&gt;

&lt;p&gt;【提示】该网页需要使用 http(s) 打开，不支持使用浏览器打开本地 HTML 页面。&lt;/p&gt;

&lt;p&gt;点击该网页中出现的“在线客服”按钮，出现聊天窗口，可以作为访客，与客服聊天了。&lt;/p&gt;

&lt;p&gt;【提示】春松客服提供一个测试网页客户端的例子，可以使用 &lt;em&gt;[http:///testclient.html&lt;/em&gt; 进行访问。&lt;/p&gt;

&lt;h3 id=&quot;facebook-渠道&quot;&gt;Facebook 渠道&lt;/h3&gt;

&lt;p&gt;Messenger 是 Facebook 旗下的最主要的即时通信软件，支持多种平台，因其创新的理念、优秀的用户体验和全球最大的社交网络，而广泛应用。通过 Facebook Messenger 的官方链接，可以了解更多。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.messenger.com/&quot;&gt;https://www.messenger.com/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;春松客服 Messenger 插件帮助企业在 Facebook 平台上实现营销和客户服务。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;集成 Facebook 粉丝页，使用 OTN 推送营销活动信息，吸引新粉丝和激活老客户&lt;/li&gt;
  &lt;li&gt;集成 Chatopera 机器人客服，自动回答常见问题，提升客户体验&lt;/li&gt;
  &lt;li&gt;支持机器人客服转人工坐席，解决客户的复杂问题&lt;/li&gt;
  &lt;li&gt;产品迭代一年，提供多个最佳实践，帮助企业高效率运营&lt;/li&gt;
  &lt;li&gt;春松客服运营分析和 Chatopera 机器人客服运营分析生成报表，洞察业务指标&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;了解-messenger&quot;&gt;了解 Messenger&lt;/h4&gt;

&lt;p&gt;首先，出海企业要获客，或者通过互联网方式提供服务，那么 Facebook 上的广告和 Messenger 服务，是您无论如何都要使用的，因为你可以从这里找到您的目标客户、潜在客户。但是，如果 Facebook 平台的商业化程度过高，将影响社交网络内用户的体验，比如用户收到和自己不相关、不感兴趣的、大量的广告。为此 Facebook 在广告和 Messenger 上，有很多设计、一些限制，达到了商业化和人们社交需求的平衡，这是 Facebook 能成为今天世界上最大的社交网络的关键原因之一。&lt;/p&gt;

&lt;p&gt;其次，您需要了解 Messenger 的一些应用场景，比如 Cskefu 为九九互动提供的智能客服和 OTN 服务的案例 chatopera-me-jiujiu2020。&lt;/p&gt;

&lt;p&gt;在正式介绍春松客服 Messenger 插件的使用之前，需要说明 Cskefu 提供该插件是通过 Facebook Messenger 平台的开发者 APIs 实现，因此，该插件的功能安全可靠、稳定强大并且会不断更新。&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://developers.facebook.com/docs/messenger-platform&quot;&gt;https://developers.facebook.com/docs/messenger-platform&lt;/a&gt;&lt;/p&gt;

&lt;h4 id=&quot;使用指南&quot;&gt;使用指南&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/channels/messenger/install.html&quot;&gt;Messenger 渠道配置&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/channels/messenger/facebook-otn.html&quot;&gt;Facebook OTN 主动推送指南&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/channels/messenger/messenger-chatbot.html&quot;&gt;Messenger 渠道配置机器人客服&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://docs.cskefu.com/docs/channels/messenger/message-types.html&quot;&gt;Messenger 管理机器人客服对话&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;春松客服全新版本-v8&quot;&gt;春松客服全新版本 V8&lt;/h3&gt;

&lt;p&gt;自今年春松客服开源社区和技术委员会成立，我们重新复盘了春松客服的发展过往；我们决心重构整个春松客服，所有 V8 会是一个全新定位的版本。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;新版本前端 UI 与产品功能
    &lt;ul&gt;
      &lt;li&gt;首页模块&lt;/li&gt;
      &lt;li&gt;会话工作台&lt;/li&gt;
      &lt;li&gt;工单中心&lt;/li&gt;
      &lt;li&gt;用户中心&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;全新打造学习中心&lt;/li&gt;
  &lt;li&gt;多维度统计&lt;/li&gt;
  &lt;li&gt;系统设计
    &lt;ul&gt;
      &lt;li&gt;渠道管理
        &lt;ul&gt;
          &lt;li&gt;渠道列表&lt;/li&gt;
          &lt;li&gt;渠道配置模板&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;账号管理
        &lt;ul&gt;
          &lt;li&gt;账号列表&lt;/li&gt;
          &lt;li&gt;分组管理&lt;/li&gt;
          &lt;li&gt;角色管理&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;核心功能构建&lt;/li&gt;
      &lt;li&gt;性能测试场景设计&lt;/li&gt;
      &lt;li&gt;支持横向扩容&lt;/li&gt;
      &lt;li&gt;插件平台技术设计方案&lt;/li&gt;
      &lt;li&gt;通用渠道接入能力设计&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;支持 K8s 部署，Helm Chart
    &lt;ul&gt;
      &lt;li&gt;部署方式优化&lt;/li&gt;
      &lt;li&gt;Docker-compose 部署&lt;/li&gt;
      &lt;li&gt;依赖组件升级&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;后端技术栈&quot;&gt;后端技术栈&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;JAVA 版本：JAVA 11&lt;/li&gt;
  &lt;li&gt;构建工具：Maven&lt;/li&gt;
  &lt;li&gt;后端技术栈
    &lt;ul&gt;
      &lt;li&gt;Spring security&lt;/li&gt;
      &lt;li&gt;Webflux&lt;/li&gt;
      &lt;li&gt;MyBatis 2.2.2&lt;/li&gt;
      &lt;li&gt;Jackson&lt;/li&gt;
      &lt;li&gt;Redisson 3.17.7&lt;/li&gt;
      &lt;li&gt;Mysql 8.0&lt;/li&gt;
      &lt;li&gt;HikariCP&lt;/li&gt;
      &lt;li&gt;Swagger 3.0.0&lt;/li&gt;
      &lt;li&gt;Spring boot 2.7.4&lt;/li&gt;
      &lt;li&gt;Spring cloud 2021.0.4&lt;/li&gt;
      &lt;li&gt;Spring cloud alibaba 2021.0.4.0&lt;/li&gt;
      &lt;li&gt;RabbitMQ&lt;/li&gt;
      &lt;li&gt;XXL-Job&lt;/li&gt;
      &lt;li&gt;Seata&lt;/li&gt;
      &lt;li&gt;ES6&lt;/li&gt;
      &lt;li&gt;Oauth2.0&lt;/li&gt;
      &lt;li&gt;MinIO&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;应用部署&quot;&gt;应用部署&lt;/h2&gt;

&lt;p&gt;春松客服适应各种部署方式，本文使用 Docker 和 Docker compose 的方式，适合体验、开发、测试和上线春松客服，此种方式简单快捷。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;更新：我们正在推进基于 Helm Chart 的方式安装，让企业可以更方便的 Kubernetes 容器平台使用&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;重要提示：部署应用后，必须按照&lt;a href=&quot;https://docs.cskefu.com/docs/initialization/&quot;&gt;《系统初始化》&lt;/a&gt;文档进行系统初始化，再使用，不做初始化，会造成坐席无法分配等问题。&lt;/p&gt;

&lt;h3 id=&quot;环境准备&quot;&gt;环境准备&lt;/h3&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;项目&lt;/th&gt;
      &lt;th&gt;说明&lt;/th&gt;
      &lt;th&gt; &lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;操作系统&lt;/td&gt;
      &lt;td&gt;Linux (CentOS 7.x, Ubuntu 16.04+ 等)，&lt;strong&gt;推荐使用 Ubuntu LTS&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Docker 版本&lt;/td&gt;
      &lt;td&gt;Docker version 1.13.x 及以上&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Docker Compose 版本&lt;/td&gt;
      &lt;td&gt;version 1.23.x 及以上&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;防火墙端口&lt;/td&gt;
      &lt;td&gt;8035, 8036&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;其他软件&lt;/td&gt;
      &lt;td&gt;git&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;内存&lt;/td&gt;
      &lt;td&gt;开发测试 &amp;gt;= 8GB&lt;/td&gt;
      &lt;td&gt;生产环境 &amp;gt;= 16GB&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;CPU 颗数&lt;/td&gt;
      &lt;td&gt;开发测试 &amp;gt;= 2&lt;/td&gt;
      &lt;td&gt;生产环境 &amp;gt;= 4&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;硬盘&lt;/td&gt;
      &lt;td&gt;&amp;gt;= 20GB&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;获取源码&quot;&gt;获取源码&lt;/h3&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git clone &lt;span class=&quot;nt&quot;&gt;-b&lt;/span&gt; master https://github.com/cskefu/cskefu.git cskefu
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;cskefu
&lt;span class=&quot;nb&quot;&gt;cp &lt;/span&gt;sample.env .env &lt;span class=&quot;c&quot;&gt;# 使用文本编辑器打开 .env 文件，并按照需求需改配置&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;以上命令中，&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;master&lt;/code&gt; 代表当前稳定版，是 &lt;a href=&quot;https://github.com/cskefu/cskefu&quot;&gt;cskefu/cskefu&lt;/a&gt; 的 master 分支，分支说明。&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;分支&lt;/th&gt;
      &lt;th&gt;说明&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;master&lt;/td&gt;
      &lt;td&gt;当前稳定版本&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;develop&lt;/td&gt;
      &lt;td&gt;当前开发版本&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;克隆代码时，按照需要指定分支信息；本部署文档针对 master 分支。&lt;/p&gt;

&lt;h3 id=&quot;配置项说明&quot;&gt;配置项说明&lt;/h3&gt;

&lt;p&gt;以下为部署相关的环境变量，可以在 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.env&lt;/code&gt; 中覆盖默认值。&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;KEY&lt;/th&gt;
      &lt;th&gt;默认值&lt;/th&gt;
      &lt;th&gt;说明&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;COMPOSE_FILE&lt;/td&gt;
      &lt;td&gt;docker-compose.yml&lt;/td&gt;
      &lt;td&gt;服务编排描述文件，保持默认值&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;COMPOSE_PROJECT_NAME&lt;/td&gt;
      &lt;td&gt;cskefu&lt;/td&gt;
      &lt;td&gt;服务实例的容器前缀，可以用其它字符串&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;MYSQL_PORT&lt;/td&gt;
      &lt;td&gt;8037&lt;/td&gt;
      &lt;td&gt;MySQL 数据库映射到宿主机器使用的端口&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;REDIS_PORT&lt;/td&gt;
      &lt;td&gt;8041&lt;/td&gt;
      &lt;td&gt;Redis 映射到宿主机器的端口&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ES_PORT1&lt;/td&gt;
      &lt;td&gt;8039&lt;/td&gt;
      &lt;td&gt;ElasticSearch RestAPI 映射到宿主机器的端口&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ES_PORT2&lt;/td&gt;
      &lt;td&gt;8040&lt;/td&gt;
      &lt;td&gt;ElasticSearch 服务发现端口映射到宿主机器的端口&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;CC_WEB_PORT&lt;/td&gt;
      &lt;td&gt;8035&lt;/td&gt;
      &lt;td&gt;春松客服 Web 服务地址映射到宿主机器的端口&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;CC_SOCKET_PORT&lt;/td&gt;
      &lt;td&gt;8036&lt;/td&gt;
      &lt;td&gt;春松客服 SocketIO 服务映射到宿主机器的端口&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ACTIVEMQ_PORT1&lt;/td&gt;
      &lt;td&gt;8051&lt;/td&gt;
      &lt;td&gt;ActiveMQ 端口&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ACTIVEMQ_PORT2&lt;/td&gt;
      &lt;td&gt;8052&lt;/td&gt;
      &lt;td&gt;ActiveMQ 端口&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ACTIVEMQ_PORT2&lt;/td&gt;
      &lt;td&gt;8053&lt;/td&gt;
      &lt;td&gt;ActiveMQ 端口&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DB_PASSWD&lt;/td&gt;
      &lt;td&gt;123456&lt;/td&gt;
      &lt;td&gt;数据库密码，设置到 MySQL, Redis, ActiveMQ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;LOG_LEVEL&lt;/td&gt;
      &lt;td&gt;INFO&lt;/td&gt;
      &lt;td&gt;日志级别，可使用 WARN, ERROR, INFO, DEBUG&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;以上配置中，&lt;strong&gt;端口的各默认值需要保证在宿主机器上还没有被占用；数据库的密码尽量复杂；CC_WEB_PORT 和 CC_SOCKET_PORT 这两个值尽量不要变更；生产环境下 LOG_LEVEL 使用至少 WARN 的级别&lt;/strong&gt;。&lt;/p&gt;

&lt;p&gt;以下为一些业务功能相关配置的环境变量：&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;KEY&lt;/th&gt;
      &lt;th&gt;默认值&lt;/th&gt;
      &lt;th&gt;说明&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;TONGJI_BAIDU_SITEKEY&lt;/td&gt;
      &lt;td&gt;placeholder&lt;/td&gt;
      &lt;td&gt;使用&lt;a href=&quot;https://tongji.baidu.com/web/welcome/login&quot;&gt;百度统计&lt;/a&gt; 记录和查看页面访问情况，默认不记录&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;EXTRAS_LOGIN_BANNER&lt;/td&gt;
      &lt;td&gt;off&lt;/td&gt;
      &lt;td&gt;登录页上方展示通知的内容，默认 (off) 不展示&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;EXTRAS_LOGIN_CHATBOX&lt;/td&gt;
      &lt;td&gt;off&lt;/td&gt;
      &lt;td&gt;登录页支持加入一个春松客服网页渠道聊天按钮，比如 &lt;a href=&quot;https://oh-my.cskefu.com/im/xxx.html%EF%BC%8C%E9%BB%98%E8%AE%A4(off)&quot;&gt;https://oh-my.cskefu.com/im/xxx.html，默认 (off&lt;/a&gt;不展示&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h3 id=&quot;管理命令&quot;&gt;管理命令&lt;/h3&gt;

&lt;h4 id=&quot;启动服务&quot;&gt;启动服务&lt;/h4&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;cskefu                            &lt;span class=&quot;c&quot;&gt;# 进入下载后的文件夹&lt;/span&gt;
docker-compose pull                  &lt;span class=&quot;c&quot;&gt;# 拉取镜像&lt;/span&gt;
docker-compose up &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; contact-center  &lt;span class=&quot;c&quot;&gt;# 启动服务&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;查看服务日志&quot;&gt;查看服务日志&lt;/h4&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker-compose logs &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; contact-center
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;登陆系统&quot;&gt;登陆系统&lt;/h3&gt;

&lt;p&gt;在日志中，查看到如下类似信息，代表服务已经启动。&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;INFO  c.c.socketio.SocketIOServer - SocketIO server started at port: 8036 &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;nioEventLoopGroup-2-1]INFO  com.chatopera.cc.Application - Started Application &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;35.319 seconds &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;JVM running &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;42.876&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;main]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;然后，从浏览器打开 &lt;a href=&quot;https://docs.cskefu.com/docs/deployhttp://YOUR_IP:CC_WEB_PORT/&quot;&gt;http://YOUR_IP:CC_WEB_PORT/&lt;/a&gt; 访问服务。默认管理员账号：admin 密码：admin1234&lt;/p&gt;

&lt;h2 id=&quot;演示环境&quot;&gt;演示环境&lt;/h2&gt;

&lt;p&gt;春松客服提供了，在线体验环境，方便您了解春松客服最新功能。&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;内容&lt;/th&gt;
      &lt;th&gt;说明&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;网站&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://demo.cskefu.com&quot;&gt;https://demo.cskefu.com&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;默认用户名&lt;/td&gt;
      &lt;td&gt;admin&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;默认密码&lt;/td&gt;
      &lt;td&gt;admin1234&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;注意，请不要修改用户名和密码，演示环境随时有可能可能，请自行保障数据安全。&lt;/p&gt;

&lt;h2 id=&quot;客户案例&quot;&gt;客户案例&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s/t4J_qPaN6on_yTz6s6GSew&quot;&gt;富盈证券上线春松客服&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s/MSC2E46Y1soeKsfJdntcow&quot;&gt;江北新区研创园&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s/7_eCxA3ylNaxCR48h3eqNw&quot;&gt;高科华烨&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s/9afFcXrQRQHchFPW4usSxg&quot;&gt;深圳尔雅&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;关注春松客服&quot;&gt;关注春松客服&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;春松客服官网 &lt;a href=&quot;https://www.cskefu.com&quot;&gt;https://www.cskefu.com&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Github 主页  &lt;a href=&quot;https://github.com/cskefu/cskefu&quot;&gt;https://github.com/cskefu/cskefu&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;春松客服文档站 &lt;a href=&quot;https://docs.cskefu.com&quot;&gt;https://docs.cskefu.com&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;社区会议&quot;&gt;社区会议&lt;/h2&gt;

&lt;h3 id=&quot;定期社区会议&quot;&gt;定期社区会议&lt;/h3&gt;

&lt;p&gt;周日 10:00UTC+8（中文）（单周）。&lt;a href=&quot;https://www.thetimezoneconverter.com/?t=10%3A00&amp;amp;tz=GMT%2B8&amp;amp;&quot;&gt;转换为您的时区&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;table&gt;
      &lt;tbody&gt;
        &lt;tr&gt;
          &lt;td&gt;&lt;a href=&quot;https://www.cskefu.com/category/conferences/&quot;&gt;会议记录和议程&lt;/a&gt;&lt;/td&gt;
          &lt;td&gt;&lt;a href=&quot;https://space.bilibili.com/34290698/channel/collectiondetail?sid=817713&quot;&gt;Bilibili Video&lt;/a&gt;&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/tbody&gt;
    &lt;/table&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.feishu.cn/calendar/share?token=e1a022850428d49e1ab84aef69e8ee5c&quot;&gt;会议日历&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://vc.feishu.cn/j/400656075&quot;&gt;会议链接&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;往期会议&quot;&gt;往期会议&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;会议记录 &lt;a href=&quot;https://www.cskefu.com/category/conferences/&quot;&gt;https://www.cskefu.com/category/conferences/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;视频记录 &lt;a href=&quot;https://space.bilibili.com/34290698/channel/collectiondetail?sid=817713&quot;&gt;https://space.bilibili.com/34290698/channel/collectiondetail?sid=817713&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>船长</name><email>samzong.lu@gmail.com</email></author><category term="春松客服" /><category term="开源项目" /><summary type="html">项目起源</summary></entry><entry><title type="html">What is Hukou</title><link href="/post/2022/11/what-is-hukou.html" rel="alternate" type="text/html" title="What is Hukou" /><published>2022-11-23T00:00:00-06:00</published><updated>2022-11-23T00:00:00-06:00</updated><id>/post/2022/11/what-is-hukou</id><content type="html" xml:base="/post/2022/11/what-is-hukou.html">&lt;h2 id=&quot;背景&quot;&gt;背景&lt;/h2&gt;

&lt;p&gt;对于一个大型企业，内部有几十个业务系统是非常正常的一件事情。&lt;/p&gt;

&lt;p&gt;在这个背景下，有一个具体的服务可以很干净的只做一件事情是非常棒的：把人管好。&lt;/p&gt;

&lt;h2 id=&quot;功能接入&quot;&gt;功能接入&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;支持接收其他业务系统的注册
    &lt;ul&gt;
      &lt;li&gt;支持配置 system_key&lt;/li&gt;
      &lt;li&gt;支持自定义回调地址&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;通用的身份认证接入方式
    &lt;ul&gt;
      &lt;li&gt;接入方系统只需要简单的集成即可完成用户身份的登录支持&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;支持一键禁用账号登录
    &lt;ul&gt;
      &lt;li&gt;增强版能力，支持广播账号身份信息发生变化，实时触发账号验证
        &lt;ul&gt;
          &lt;li&gt;可选项，由接入方系统根据需求决定是否接入&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;支持与三方业务系统集成
    &lt;ul&gt;
      &lt;li&gt;钉钉&lt;/li&gt;
      &lt;li&gt;飞书&lt;/li&gt;
      &lt;li&gt;etc.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;功能逻辑说明&quot;&gt;功能逻辑说明&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/20221123145010.png?x-oss-process=image/resize,w_960,m_lfit&quot; alt=&quot;resize,w_960,m_lfit&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;验证流程图&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/VIzBnN.jpg?x-oss-process=image/resize,w_960,m_lfit&quot; alt=&quot;resize,w_960,m_lfit&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;相关技术和开源实现&quot;&gt;相关技术和开源实现&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;开源项目
    &lt;ul&gt;
      &lt;li&gt;Keyclock&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;相关技术
    &lt;ul&gt;
      &lt;li&gt;Microsoft AD&lt;/li&gt;
      &lt;li&gt;LDAP&lt;/li&gt;
      &lt;li&gt;OIDC&lt;/li&gt;
      &lt;li&gt;OAtuh&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;SaaS 产品
    &lt;ul&gt;
      &lt;li&gt;飞书 &lt;门神&gt;&lt;/门神&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://auth0.com&quot;&gt;auth0.com&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://fusionauth.io/&quot;&gt;fusionauth&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name>船长</name><email>samzong.lu@gmail.com</email></author><category term="安全" /><category term="OAuth" /><summary type="html">背景</summary></entry><entry><title type="html">Copy to Markdown</title><link href="/post/2022/11/Copy-To-Markdwon.html" rel="alternate" type="text/html" title="Copy to Markdown" /><published>2022-11-20T00:00:00-06:00</published><updated>2022-11-20T00:00:00-06:00</updated><id>/post/2022/11/Copy-To-Markdwon</id><content type="html" xml:base="/post/2022/11/Copy-To-Markdwon.html">&lt;h2 id=&quot;背景&quot;&gt;背景&lt;/h2&gt;

&lt;p&gt;梳理笔记工具，最近把语雀都迁移到了 Github，找个时间可以 讨论下中间的过程。&lt;/p&gt;</content><author><name>船长</name><email>samzong.lu@gmail.com</email></author><category term="Blog" /><category term="Markdown" /><summary type="html">背景</summary></entry><entry><title type="html">Dubbo 基础知识梳理</title><link href="/post/2022/11/Dubbo-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html" rel="alternate" type="text/html" title="Dubbo 基础知识梳理" /><published>2022-11-16T00:00:00-06:00</published><updated>2022-11-16T00:00:00-06:00</updated><id>/post/2022/11/Dubbo-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86</id><content type="html" xml:base="/post/2022/11/Dubbo-%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html">&lt;blockquote&gt;
  &lt;p&gt;参考资料：&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://juejin.cn/post/7128953614403371015#heading-5&quot;&gt;https://juejin.cn/post/7128953614403371015#heading-5&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://dubbo.apache.org/zh/docs/&quot;&gt;https://dubbo.apache.org/zh/docs/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;简介&quot;&gt;简介&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Apache Dubbo 一款基于 RPC 服务开发的云原生微服务框架，与 SpringCloud 类似&lt;/li&gt;
  &lt;li&gt;使用 Dubbo 开发的微服务原生具备相互之间远程地址发现 (注册中心) 和通信的能力&lt;/li&gt;
  &lt;li&gt;Dubbo 支持丰富的服务治理特性，包含 服务发现、负载均衡、流量调度 等，高度可扩展&lt;/li&gt;
  &lt;li&gt;Dubbo 由 阿里巴巴 开发，并贡献给 Apache&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;发展历程&quot;&gt;发展历程&lt;/h2&gt;

&lt;h3 id=&quot;版本迭代&quot;&gt;版本迭代&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/20221117023215.png?x-oss-process=image/resize,w_960,m_lfit&quot; alt=&quot;resize,w_960,m_lfit&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;软件生态的活跃度&quot;&gt;软件生态的活跃度&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/8G8hZG.jpg?x-oss-process=image/resize,w_960,m_lfit&quot; alt=&quot;resize,w_960,m_lfit&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;与-springcloud-相比的优势&quot;&gt;与 SpringCloud 相比的优势&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;功能丰富，基于原生库即可完成大部分的微服务治理能力&lt;/li&gt;
  &lt;li&gt;支持超大规模的微服务机器设计，高性能 RPC 通信协议实现&lt;/li&gt;
  &lt;li&gt;高度可扩展性，支持在调用过程中对流量及协议进行拦截扩展，如 Filter、Router、LB 等&lt;/li&gt;
  &lt;li&gt;支持微服务治理的扩展组件
    &lt;ul&gt;
      &lt;li&gt;Registry 注册中心：Zookeeper、Nacos&lt;/li&gt;
      &lt;li&gt;Config Center 配置中心：Zookeeper、Nacos&lt;/li&gt;
      &lt;li&gt;Metadata Center 元数据中心 (Dubbo3 支持)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;dubbo-的基础概念介绍&quot;&gt;Dubbo 的基础概念介绍&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;RPC 通信&lt;/li&gt;
  &lt;li&gt;服务发现&lt;/li&gt;
  &lt;li&gt;流量治理&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;rpc-通信&quot;&gt;RPC 通信&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Dubbo3 之中，RPC 通信主要使用 Triple 协议，构建在 HTTP/2 协议之上，兼容 gRPC&lt;/li&gt;
  &lt;li&gt;提供 Request Response、Request Streaming、Response Streaming、Bi-directional Streaming 通信模型&lt;/li&gt;
  &lt;li&gt;支持 IDL，基于 Triple 协议&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;服务发现&quot;&gt;服务发现&lt;/h3&gt;

&lt;p&gt;服务发现，是消费端自动发现服务地址列表的能力，是微服务框架需要具备的关键能力，借助于自动化的服务发现，微服务之间在无需感知对端部署位置与 IP 地址的情况下实现通信。&lt;/p&gt;

&lt;p&gt;Dubbo 提供的 Client-Based 服务发现机制，同时也需要第三方注册中心来协调服务发现过程，比如 Nacos/Zookeeper 等。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/oaqyGX.jpg?x-oss-process=image/resize,w_960,m_lfit&quot; alt=&quot;resize,w_960,m_lfit&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;流量治理&quot;&gt;流量治理&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Dubbo2 开始，Dubbo 就提供了丰富的服务治理规则，包括路由规则/动态配置等&lt;/li&gt;
  &lt;li&gt;Dubbo3 之中的实现
    &lt;ul&gt;
      &lt;li&gt;Dubbo Mesh : 通过对接 xDS 对接到时下流行的 Mesh 产品如 Istio 中所使用的以 VirtualService、DestinationRule 为代表的治理规则&lt;/li&gt;
      &lt;li&gt;另一方面 Dubbo 正寻求设计一套自有规则以实现在不通部署场景下的流量治理，以及灵活的治理能力。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;dubbo-mesh&quot;&gt;Dubbo Mesh&lt;/h2&gt;

&lt;p&gt;Dubbo Mesh 的目标是提供适应 Dubbo 体系的完整 Mesh 解决方案，包含定制化控制面（Control Plane）、定制化数据面解决方案。Dubbo 控制面基于业界主流 Istio 扩展，支持更丰富的流量治理规则、Dubbo 应用级服务发现模型等，Dubbo 数据面可以采用 Envoy Sidecar，即实现 Dubbo SDK + Envoy 的部署方案，也可以采用 Dubbo Proxyless 模式，直接实现 Dubbo 与控制面的通信。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/vMniiR.jpg?x-oss-process=image/resize,w_960,m_lfit&quot; alt=&quot;resize,w_960,m_lfit&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;dubbo3&quot;&gt;Dubbo3&lt;/h2&gt;

&lt;p&gt;Dubbo 3.0 提供的新特性包括：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;新的地址发现模型（应用级服务发现）&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;查看&lt;a href=&quot;https://dubbo.apache.org/zh/docs/migration/migration-service-discovery&quot;&gt;应用级服务发现的迁移步骤&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;查看应用级服务发现的使用方式&lt;/li&gt;
      &lt;li&gt;查看应用级服务发现设计与实现&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;下一代基于 HTTP/2 的 Triple 协议&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;查看&lt;a href=&quot;https://dubbo.apache.org/zh/docs/migration/migration-triple&quot;&gt;Triple 协议迁移步骤&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;查看 &lt;a href=&quot;https://dubbo.apache.org/zh/docs/references/protocols/tri&quot;&gt;Triple 协议使用方式&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;查看 Triple 协议设计与实现&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;统一的路由规则。&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;查看&lt;a href=&quot;https://dubbo.apache.org/zh/docs/migration/migration-routingrule/&quot;&gt;统一路由规则的迁移步骤&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;查看&lt;a href=&quot;https://dubbo.apache.org/zh/docs/references/routers/&quot;&gt;统一路由规则使用方式&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;查看统一路由规则设计与实现&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name>船长</name><email>samzong.lu@gmail.com</email></author><category term="微服务" /><category term="Dubbo" /><summary type="html">参考资料：</summary></entry><entry><title type="html">Panads fill NaN value to Zero</title><link href="/post/2022/11/Panads-fill-NaN-value-to-Zero.html" rel="alternate" type="text/html" title="Panads fill NaN value to Zero" /><published>2022-11-10T00:00:00-06:00</published><updated>2022-11-10T00:00:00-06:00</updated><id>/post/2022/11/Panads%20fill%20NaN%20value%20to%20Zero</id><content type="html" xml:base="/post/2022/11/Panads-fill-NaN-value-to-Zero.html">&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pandas&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read_csv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'somefile.txt'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fillna&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>船长</name><email>samzong.lu@gmail.com</email></author><category term="Python" /><category term="Pandas" /><summary type="html">```python df = pandas.read_csv(‘somefile.txt’)</summary></entry><entry><title type="html">Redash for Docker 部署</title><link href="/post/2022/10/Redash-for-Docker-%E9%83%A8%E7%BD%B2.html" rel="alternate" type="text/html" title="Redash for Docker 部署" /><published>2022-10-22T00:00:00-05:00</published><updated>2022-10-22T00:00:00-05:00</updated><id>/post/2022/10/Redash%20for%20Docker%20%E9%83%A8%E7%BD%B2</id><content type="html" xml:base="/post/2022/10/Redash-for-Docker-%E9%83%A8%E7%BD%B2.html">&lt;blockquote&gt;
  &lt;p&gt;暗坑很多&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;部署过程&quot;&gt;部署过程&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;需要自行维护一个 env 作为配置文件&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;REDASH_COOKIE_SECRET=a07cca441ab9f28b66c589f3118e0de48469b1bc6a5036eade7badbed305d96e
POSTGRES_HOST_AUTH_METHOD=trust
REDASH_REDIS_URL=redis://redis:6379/0
REDASH_DATABASE_URL=postgresql://postgres
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;需要创建一个 postgres-data 并配置 docker-compose.yml 的路径，数据库持久化&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;需要给 postgres 容器增加 sudo 命令
    &lt;ul&gt;
      &lt;li&gt;apk add sudo&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;需要手工进入到 postgresql 容器内创建 role 和 database
    &lt;ul&gt;
      &lt;li&gt;createuser -U postgres redash&lt;/li&gt;
      &lt;li&gt;createdb -U postgres redash&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;执行数据库初始化动作&lt;/li&gt;
  &lt;li&gt;docker-compose run –rm server create_db&lt;/li&gt;
  &lt;li&gt;然后重启 redash 全部服务即可 docker-compose down 后重启&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;postgresql 在执行 psql 命令时，默认会读取当前系统用户作为执行 role；但 psql 默认用户是 postgres&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://redash.io/help/open-source/setup&quot;&gt;https://redash.io/help/open-source/setup&lt;/a&gt;
&lt;a href=&quot;https://redash.io/help/open-source/dev-guide/docker&quot;&gt;https://redash.io/help/open-source/dev-guide/docker&lt;/a&gt;
&lt;a href=&quot;https://docs.victoriametrics.com/url-examples.html#apiv1exportcsv&quot;&gt;https://docs.victoriametrics.com/url-examples.html#apiv1exportcsv&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?src=11\&amp;amp;timestamp=1660629444\&amp;amp;ver=3985\&amp;amp;signature=verv70veamW*Ez2Sgc8e89yMJGwANIOzz4lfwbezyVV3wpWNT2d9SnGrDecUOwrbTJBR2o-Ax6ZS4Fpu2UxfX7Sy9xsk1LCXfY1wNr42ucl3tFePfJ7c536c8z*L-HOy\&amp;amp;new=1&quot;&gt;https://mp.weixin.qq.com/s?src=11\&amp;amp;timestamp=1660629444\&amp;amp;ver=3985\&amp;amp;signature=verv70veamW&lt;em&gt;Ez2Sgc8e89yMJGwANIOzz4lfwbezyVV3wpWNT2d9SnGrDecUOwrbTJBR2o-Ax6ZS4Fpu2UxfX7Sy9xsk1LCXfY1wNr42ucl3tFePfJ7c536c8z&lt;/em&gt;L-HOy\&amp;amp;new=1&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?src=11&amp;amp;timestamp=1660682601&amp;amp;ver=3986&amp;amp;signature=h8m0RzEX3qWsKcUo6Ee3azdsnzLQqUf3N8FdLhyWNa52U4vAvlbEaBFUCrTZnh54tT-YS2mODfkp-6Hemmzt3n*hzGHlEmXP-HO5830W0Fzmn4MMfnsOPBKLrcjaiU0h&amp;amp;new=1&quot;&gt;https://mp.weixin.qq.com/s?src=11&amp;amp;timestamp=1660682601&amp;amp;ver=3986&amp;amp;signature=h8m0RzEX3qWsKcUo6Ee3azdsnzLQqUf3N8FdLhyWNa52U4vAvlbEaBFUCrTZnh54tT-YS2mODfkp-6Hemmzt3n*hzGHlEmXP-HO5830W0Fzmn4MMfnsOPBKLrcjaiU0h&amp;amp;new=1&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;redash env 配置：&lt;a href=&quot;https://redash.io/help/open-source/admin-guide/env-vars-settings&quot;&gt;https://redash.io/help/open-source/admin-guide/env-vars-settings&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;postgres 权限问题 &lt;a href=&quot;https://stackoverflow.com/a/25051632/5067657&quot;&gt;https://stackoverflow.com/a/25051632/5067657&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://techoverflow.net/2021/05/07/how-to-fix-alpine-linux-ash-sudo-not-found/&quot;&gt;https://techoverflow.net/2021/05/07/how-to-fix-alpine-linux-ash-sudo-not-found/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://discuss.redash.io/t/error-99-connecting-to-localhost-6379-cannot-assign-requested-address/9716/7&quot;&gt;https://discuss.redash.io/t/error-99-connecting-to-localhost-6379-cannot-assign-requested-address/9716/7&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;启动的服务介绍&quot;&gt;启动的服务介绍&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;v10-redashio_adhoc_worker_1     # 执行查询任务的 worker&lt;/li&gt;
  &lt;li&gt;v10-redashio_postgres_1       # 数据库&lt;/li&gt;
  &lt;li&gt;v10-redashio_redis_1        # 缓存&lt;/li&gt;
  &lt;li&gt;v10-redashio_scheduled_worker_1   # 执行计划任务的 worker&lt;/li&gt;
  &lt;li&gt;v10-redashio_scheduler_1      # 计划任务管理 server&lt;/li&gt;
  &lt;li&gt;v10-redashio_server_1        # 主体 server&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;以上主要会设计到 3 个镜像，redis、pgsql、redash，其中核心是 redash，所以关注镜像版本也是这个&lt;/p&gt;

&lt;h2 id=&quot;版本升级&quot;&gt;版本升级&lt;/h2&gt;

&lt;p&gt;redash 的版本升级较为方便，更换 server 的镜像；然后升级数据库即可。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;测试过从 v8 升级到 v10 , 和 v9 升级到 v10，都是 ok 的。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ol&gt;
  &lt;li&gt;关闭 Redash 服务
    &lt;ol&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker-compose stop server scheduler scheduled_worker adhoc_worker&lt;/code&gt;&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
  &lt;li&gt;更新 docker-compose.yml
    &lt;ol&gt;
      &lt;li&gt;基本上这一步，只需要更新 redash 的镜像版本即可&lt;/li&gt;
      &lt;li&gt;然后执行 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker-compose pull&lt;/code&gt; 拉取新镜像版本&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
  &lt;li&gt;执行数据库升级
    &lt;ol&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker-compose run --rm server manage db upgrade&lt;/code&gt;&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
  &lt;li&gt;启动全部服务即可
    &lt;ol&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker-compse up -d&lt;/code&gt;&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;解决-es-的-https-问题&quot;&gt;解决 ES 的 HTTPS 问题&lt;/h2&gt;

&lt;p&gt;由于我们的 es 地址访问地址采用 https，但为自签证书，所以在 request 之中会有些问题，所以我在这里更新了 elasticsearch 的插件，然后将其上传到我个人的 docker hub.
&lt;a href=&quot;https://hub.docker.com/r/samzong/redash&quot;&gt;https://hub.docker.com/r/samzong/redash&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;带来的问题，页面上无法选择到 Elasticsearch 作为数据源，没时间去研究了&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;看了下还是可以使用 redash 的 API 去创建的 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/api/data_sources&lt;/code&gt;:&lt;/p&gt;

&lt;h2 id=&quot;配置&quot;&gt;配置&lt;/h2&gt;

&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;options&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;basic_auth_password&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;-----&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;basic_auth_user&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;elastic&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;server&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;https://10.6.51.101:31001/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;skip_tls_verification&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;elasticsearch&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test-es&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;创建完成后，就可以在页面上更新了。&lt;/p&gt;</content><author><name>船长</name><email>samzong.lu@gmail.com</email></author><category term="数据库" /><category term="Redash" /><summary type="html">暗坑很多</summary></entry><entry><title type="html">JWT 内置的方式</title><link href="/post/2022/10/JWT-%E5%86%85%E7%BD%AE%E7%9A%84%E6%96%B9%E5%BC%8F.html" rel="alternate" type="text/html" title="JWT 内置的方式" /><published>2022-10-18T00:00:00-05:00</published><updated>2022-10-18T00:00:00-05:00</updated><id>/post/2022/10/JWT%20%E5%86%85%E7%BD%AE%E7%9A%84%E6%96%B9%E5%BC%8F</id><content type="html" xml:base="/post/2022/10/JWT-%E5%86%85%E7%BD%AE%E7%9A%84%E6%96%B9%E5%BC%8F.html">&lt;ul&gt;
  &lt;li&gt;支持为 API 启用 jwt token 解码的能力 ,  读取网关的 jwt key
    &lt;ul&gt;
      &lt;li&gt;读取请求 Header 中的 Authorization&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;需要支持为网关配置多 jwt key , and 加密长度 ?
    &lt;ul&gt;
      &lt;li&gt;解密的性能问题&lt;/li&gt;
      &lt;li&gt;expire_time 过期时间的配置&lt;/li&gt;
      &lt;li&gt;解密后的参数传递&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1666060887030-ff0a6f09-9bf0-44d5-a92b-dc36fc9b7d47.png?x-oss-process=image/resize,w_960,m_lfit&quot; alt=&quot;image.png&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;迭代的方向&quot;&gt;迭代的方向&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;采用外置的 Jwt server 认证服务
    &lt;ol&gt;
      &lt;li&gt;配置 jwt server url&lt;/li&gt;
      &lt;li&gt;respone 解密后的  json 内容；进行参数传递&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
  &lt;li&gt;采用托管的 Jwt server 来进行托管
    &lt;ol&gt;
      &lt;li&gt;配置 jwt key (支持自动生成)&lt;/li&gt;
      &lt;li&gt;expire_time&lt;/li&gt;
      &lt;li&gt;加密长度&lt;/li&gt;
      &lt;li&gt;自动配置参数传递
        &lt;ol&gt;
          &lt;li&gt;全部传递&lt;/li&gt;
          &lt;li&gt;全部传递 (not token)&lt;/li&gt;
          &lt;li&gt;白名单传递&lt;/li&gt;
        &lt;/ol&gt;
      &lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
&lt;/ol&gt;</content><author><name>船长</name><email>samzong.lu@gmail.com</email></author><category term="Kubernetes" /><category term="Contour" /><summary type="html">支持为 API 启用 jwt token 解码的能力 , 读取网关的 jwt key 读取请求 Header 中的 Authorization 需要支持为网关配置多 jwt key , and 加密长度 ? 解密的性能问题 expire_time 过期时间的配置 解密后的参数传递</summary></entry><entry><title type="html">唧唧复唧唧</title><link href="/post/2022/10/%E5%94%A7%E5%94%A7%E5%A4%8D%E5%94%A7%E5%94%A7.html" rel="alternate" type="text/html" title="唧唧复唧唧" /><published>2022-10-06T00:00:00-05:00</published><updated>2022-10-06T00:00:00-05:00</updated><id>/post/2022/10/%E5%94%A7%E5%94%A7%E5%A4%8D%E5%94%A7%E5%94%A7</id><content type="html" xml:base="/post/2022/10/%E5%94%A7%E5%94%A7%E5%A4%8D%E5%94%A7%E5%94%A7.html">&lt;p&gt;&lt;a href=&quot;https://www.amazon.cn/gp/product/B01951CHO6/ref=as_li_qf_sp_asin_tl?ie=UTF8\&amp;amp;camp=536\&amp;amp;creative=3200\&amp;amp;creativeASIN=B01951CHO6\&amp;amp;linkCode=as2\&amp;amp;tag=llll1-23&quot;&gt;王路&lt;/a&gt;
12 highlights&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;同样一潭池水，天人视之为清波，饿鬼视之为阳焰。所有的看法，无非是一个人的世界观投在故事上的倒影，它&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;就常有这样的经验。比如碰见好久不见的老友，事前特别期待，想到有很多话可以聊，等坐到桌上，却发现只剩下老生常谈。这怪不得谁，每个人的生活都不一样，各自感兴趣的事儿都不同。不像以往，大家都在同一个班里，每天的生活都是类似的，所思所想也都差不了太远。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;要想在一个圈子里得到认同，需要遵照这个圈子的价值标准和话语体系。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;很久之后，我才慢慢明白自己当初的做法多么愚蠢。想要一个人改变习惯，很难。而尤其不应该的是，总把自己以为便利的东西强加给别人。年龄和岁月足以让一个人的学习能力慢慢退化，并最终丧失对新事物的好奇。从头掌握最基本的技能，对不年轻的人来说，成本太高昂。他们需要为养家糊口奔波，为时不多的暇余，并不足以支撑他们疲惫的身心去探究世界的种种新奇。于是，他们就远远被时代抛下了。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;圣诞老人的意思就是：在你爱的人不知道的时候，把礼物放到他的身边。因为收到礼物的人不知道，所以这个夜晚是寂静的。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;许多东西，只在此时、此地、此景有。没办法绸缪，也没办法复盘。可贵的事物之所以可贵，正在其转瞬即逝，不可复得。在一刹那灭去，并成为永恒。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;屏蔽掉一个人，看不到他的样子，听不到他的声音，却抑制不了不去想他。世间的痛苦和烦恼，不在于不能得到，而在于不能割舍。不在于不想屏蔽的东西被屏蔽，而在于想屏蔽的东西无法屏蔽&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;对于贪著心，真正可怕的不是一件事情上的得失，而是串习的力量对一个人行为举止的巨大影响。这种影响是潜在的，却是深刻而难以磨灭的。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;三涂之苦&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;编程谓之 Class，《&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;钱穆先生曾在《宋明理学概述》序言里说：““虽居乡僻，未尝敢一日废学。虽经乱离困厄，未尝敢一日颓其志。虽或名利当前，未尝敢动其心。虽或毁誉横生，未尝敢馁其气。虽学不足以自成立，未尝或忘先儒之榘矱，时切其向慕。虽垂老无以自靖献，未尝不于国家民族世道人心，自任以匹夫之有其责。””&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;佛家说烦恼即是般若，那些让你斩不断的愁丝才是真正度你到彼岸的船筏。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name>船长</name><email>samzong.lu@gmail.com</email></author><category term="读书笔记" /><category term="旧书摘" /><summary type="html">王路 12 highlights</summary></entry><entry><title type="html">自卑与超越</title><link href="/post/2022/10/%E8%87%AA%E5%8D%91%E4%B8%8E%E8%B6%85%E8%B6%8A.html" rel="alternate" type="text/html" title="自卑与超越" /><published>2022-10-04T00:00:00-05:00</published><updated>2022-10-04T00:00:00-05:00</updated><id>/post/2022/10/%E8%87%AA%E5%8D%91%E4%B8%8E%E8%B6%85%E8%B6%8A</id><content type="html" xml:base="/post/2022/10/%E8%87%AA%E5%8D%91%E4%B8%8E%E8%B6%85%E8%B6%8A.html">&lt;p&gt;&lt;a href=&quot;https://www.amazon.cn/gp/product/B013GD8VEY/ref=as_li_qf_sp_asin_tl?ie=UTF8\&amp;amp;camp=536\&amp;amp;creative=3200\&amp;amp;creativeASIN=B013GD8VEY\&amp;amp;linkCode=as2\&amp;amp;tag=llll1-23&quot;&gt;【奥】阿尔弗雷德··阿德勒&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;前言 阿德勒：超越自卑，找到生命的真正意义 阿德勒是个体心理学的先驱和代表。个体心理学与其他心理学流派相比，最突出显要的一点在于，它对人的研究是以个体为始，即首先关注个体本身的成长发展和人生历程。有趣的是，如果你对阿德勒本人的人生经历及其学说有所了解的话，你会发现其人的发展轨迹恰好印证了他所秉持的观点和理论。阿德勒认为，每个人都有不同程度的自卑感，而优越感则是自卑感的补偿。但自卑感的存在并不是一件坏事，因为它激励了人不断追求卓越，克服自身的障碍，在有限的生命空间内发挥出最大的价值。可以说，正是由于人类会有自卑感，才会有不断取得发展和进步的不竭动力。与此相印证的是，阿德勒本人就是一个““先天发展不足””、一开始就存在着极为强烈自卑感的人。阿德勒是一个直到 4 岁才会走路的体弱多病的儿童。他患有佝偻病，无法进行激烈的体育活动。但他并没有让身体上的缺陷压倒自己，相反，这刺激了他的上进心。&lt;/p&gt;</content><author><name>船长</name><email>samzong.lu@gmail.com</email></author><category term="读书笔记" /><category term="旧书摘" /><summary type="html">【奥】阿尔弗雷德··阿德勒</summary></entry><entry><title type="html">GitLab Forked 如何跟随 upstream 主库</title><link href="/post/2022/09/GitLab-Forked-%E5%A6%82%E4%BD%95%E8%B7%9F%E9%9A%8Fupstream%E4%B8%BB%E5%BA%93.html" rel="alternate" type="text/html" title="GitLab Forked 如何跟随 upstream 主库" /><published>2022-09-28T00:00:00-05:00</published><updated>2022-09-28T00:00:00-05:00</updated><id>/post/2022/09/GitLab%20Forked%20%E5%A6%82%E4%BD%95%E8%B7%9F%E9%9A%8Fupstream%E4%B8%BB%E5%BA%93</id><content type="html" xml:base="/post/2022/09/GitLab-Forked-%E5%A6%82%E4%BD%95%E8%B7%9F%E9%9A%8Fupstream%E4%B8%BB%E5%BA%93.html">&lt;p&gt;:::info
通过 PR 的方式共同对主仓库进行贡献的方式，是开源项目协作的非常有效的方法；通常我们不会直接对主仓库直接提交代码。
:::&lt;/p&gt;

&lt;p&gt;一般情况下，我们的操作是，在需要贡献时，Fork 一份项目，然后自己修改以 PR 的方式提交贡献请求。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1664330743895-9b2e0dc6-527e-4bcd-8b63-c223aa634b8f.png?x-oss-process=image/resize,w_960,m_lfit&quot; alt=&quot;image.png&quot; title=&quot;一份完整的 Github贡献指南&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;github-的实现方式&quot;&gt;Github 的实现方式&lt;/h2&gt;

&lt;p&gt;熟悉 Github 的同学会发现，在 Github 上最近更新了 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sync fork&lt;/code&gt;的功能，通过简单的点击操作，即可完成对源库 (upstream) 的更新同步。
&lt;img src=&quot;http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1664330528512-563a5536-1734-4fd0-b41c-9c5d121327e0.jpeg?x-oss-process=image/resize,w_960,m_lfit&quot; alt=&quot;CleanShot 2022-09-28 at 10.01.33.jpg&quot; title=&quot;当 upstream 超前时，提示 update branch&quot; /&gt;
通过以上方式，我们可以方便在跟随主库的更新&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Tips Github 的方式，仅在 Web 端 和 Github CLI 官方提供的 GH 才可以使用这样的功能&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;no-github-when-gitlab-&quot;&gt;No Github, When Gitlab ?&lt;/h2&gt;

&lt;p&gt;Github 更多在开源项目时贡献，实际上，在我们日常的工作当中，更多会有自建的 Gitlab 或者其他的代码 Hub，这里以 Gitlab 为例&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1664331575915-853554f5-c047-4f14-8e79-67e2214429bc.jpeg?x-oss-process=image/resize,w_960,m_lfit&quot; alt=&quot;CleanShot 2022-09-28 at 10.19.20.jpg&quot; title=&quot;gitlab 默认项目首页&quot; /&gt;
Gitlab 并未提供 Sync fork 的功能，所以我们需要自行解决同步的需求&lt;/p&gt;

&lt;h2 id=&quot;为仓库添加-upstream-源仓库&quot;&gt;为仓库添加 upstream 源仓库&lt;/h2&gt;

&lt;p&gt;:::success
以下方式会在终端或本地使用&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sourcetree&lt;/code&gt;更加自由，仅使用 Git 的方式协作，自由度很大
:::
基于这个方式我们可以实现，有关联的 主库到从库的同步；也可以完成跨 Hub 的同步，比如：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Github -&amp;gt;  Gitlab&lt;/li&gt;
  &lt;li&gt;Github -&amp;gt; Github&lt;/li&gt;
  &lt;li&gt;Gitlab  -&amp;gt; Gitlab&lt;/li&gt;
  &lt;li&gt;Gitlab  -&amp;gt;  Github&lt;/li&gt;
  &lt;li&gt;Gitee  -&amp;gt;  Gitlab&lt;/li&gt;
  &lt;li&gt;Gitee -&amp;gt; Github&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;samzonglu at samzongs-MacBook-Pro &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; ~/Git/daocloud/DaoCloud-docs&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;main✔&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
± git remote add upstream https://github.com/DaoCloud/DaoCloud-docs.git
Alias tip: gra upstream https://github.com/DaoCloud/DaoCloud-docs.git

samzonglu at samzongs-MacBook-Pro &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; ~/Git/daocloud/DaoCloud-docs&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;main✔&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
± git remote
Alias tip: gr
origin
upstream

samzonglu at samzongs-MacBook-Pro &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; ~/Git/daocloud/DaoCloud-docs&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;main✔&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
± git fetch upstream
Alias tip: gf upstream
remote: Enumerating objects: 1268, &lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
remote: Counting objects: 100% &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;182/182&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, &lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
remote: Compressing objects: 100% &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;5/5&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, &lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
remote: Total 1268 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;delta 177&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, reused 182 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;delta 177&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, pack-reused 1086
Receiving objects: 100% &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1268/1268&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, 1.87 MiB | 2.74 MiB/s, &lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
Resolving deltas: 100% &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;637/637&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, completed with 119 &lt;span class=&quot;nb&quot;&gt;local &lt;/span&gt;objects.
From https://github.com/DaoCloud/DaoCloud-docs
 &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;new branch]      feature/theme                            -&amp;gt; upstream/feature/theme
 &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;new branch]      fix-typo                                 -&amp;gt; upstream/fix-typo
 &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;new branch]      gh-pages                                 -&amp;gt; upstream/gh-pages
 &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;new branch]      main                                     -&amp;gt; upstream/main
 &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;new branch]      patch-new-gh-pages-01                    -&amp;gt; upstream/patch-new-gh-pages-01
 &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;new branch]      stash/bug-codes                          -&amp;gt; upstream/stash/bug-codes

samzonglu at samzongs-MacBook-Pro &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; ~/Git/daocloud/DaoCloud-docs&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;main✔&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
± git pull upstream main
Alias tip: gl upstream main
From https://github.com/DaoCloud/DaoCloud-docs
 &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; branch            main       -&amp;gt; FETCH_HEAD
Already up to date.

samzonglu at samzongs-MacBook-Pro &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; ~/Git/daocloud/DaoCloud-docs&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;main✔&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
± git push origin main
Alias tip: gp origin main
Everything up-to-date
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>船长</name><email>samzong.lu@gmail.com</email></author><category term="Git" /><category term="GitLab" /><summary type="html">:::info 通过 PR 的方式共同对主仓库进行贡献的方式，是开源项目协作的非常有效的方法；通常我们不会直接对主仓库直接提交代码。 :::</summary></entry></feed>