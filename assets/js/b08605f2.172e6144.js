"use strict";(self.webpackChunksamzong_me=self.webpackChunksamzong_me||[]).push([[24948],{87071:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>t,default:()=>m,frontMatter:()=>s,metadata:()=>a,toc:()=>c});var o=r(85893),l=r(11151);const s={title:"Dockerfile Run at M1 processor build failed",toc:!0,authors:["samzong"],tags:["Docker"],date:new Date("2022-04-17T20:32:00.000Z")},t=void 0,a={permalink:"/2022/04/17/Docker-Run-at-Apple-Silicon-M1",source:"@site/blog/2022-04-17-Docker-Run-at-Apple-Silicon-M1.md",title:"Dockerfile Run at M1 processor build failed",description:"Apple M1 processor",date:"2022-04-17T20:32:00.000Z",formattedDate:"April 17, 2022",tags:[{label:"Docker",permalink:"/tags/docker"}],readingTime:.905,hasTruncateMarker:!1,authors:[{name:"Samzong Lu",title:"Product Designer",url:"https://github.com/SAMZONG",email:"samzong.lu@gmail.com",imageURL:"https://github.com/SAMZONG.png",key:"samzong"}],frontMatter:{title:"Dockerfile Run at M1 processor build failed",toc:!0,authors:["samzong"],tags:["Docker"],date:"2022-04-17T20:32:00.000Z"},unlisted:!1,prevItem:{title:"python Request install pip error",permalink:"/2022/04/17/python-request-install-pip-error"},nextItem:{title:"CKA \u8003\u8bd5\u51c6\u5907",permalink:"/2022/04/18/cka-kao-shi-zhun-bei"}},i={authorsImageUrls:[void 0]},c=[{value:"Apple M1 processor",id:"apple-m1-processor",level:2},{value:"pull image error",id:"pull-image-error",level:2},{value:"docker-compose.yml",id:"docker-composeyml",level:3},{value:"\u89e3\u51b3\u601d\u8def",id:"\u89e3\u51b3\u601d\u8def",level:3}];function p(e){const n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,l.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"apple-m1-processor",children:"Apple M1 processor"}),"\n",(0,o.jsx)(n.p,{children:"\u5728\u4f7f\u7528\u4e86 Apple M1 \u7684\u7b14\u8bb0\u672c\u540e\uff0c\u5728 docker \u4f7f\u7528\u9047\u5230\u4e86\u4e00\u4e9b\u95ee\u9898\uff0c\u8fd9\u91cc\u505a\u4e9b\u7b14\u8bb0\u8bb0\u5f55\u4e0b\u6765"}),"\n",(0,o.jsx)(n.h2,{id:"pull-image-error",children:"pull image error"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:'Error "no matching manifest for linux/arm64/v8 in the manifest list entries"'}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"\u5728\u6211\u5c1d\u8bd5\u60f3\u8981 pull \u4e0b\u6765\u65f6\uff0c\u5f97\u5230\u4e0a\u9762\u7684\u4e00\u4e2a\u9519\u8bef\uff1b\u540c\u6837\u7684\u95ee\u9898\uff0c\u6211\u5728\u7f16\u5199 Dockerfile \u548c docker-compose.yml \u90fd\u9047\u5230\u8fd9\u6837\u7684\u95ee\u9898"}),"\n",(0,o.jsx)(n.h3,{id:"docker-composeyml",children:"docker-compose.yml"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"version: '3.9'\n\nservices:\n  # Database\n  db:\n    image: mysql-server:5.7\n    volumes:\n      - db_data:/var/lib/mysql\n    restart: always\n    environment:\n      MYSQL_ROOT_PASSWORD: pass\n      MYSQL_DATABASE: wp\n      MYSQL_USER: wp\n      MYSQL_PASSWORD: wp\n    networks:\n      - wpsite    \n"})}),"\n",(0,o.jsx)(n.h3,{id:"\u89e3\u51b3\u601d\u8def",children:"\u89e3\u51b3\u601d\u8def"}),"\n",(0,o.jsxs)(n.p,{children:["\u9700\u8981\u6307\u5b9a\u4e0b ",(0,o.jsx)(n.code,{children:"plaform"})," \uff0c\u5f53\u6211\u8fd0\u884c\u5728 Apple M1 \u4e0a\uff0c\u53d8\u66f4\u90e8\u5206\u5982\u4e0b\uff1a"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"services:\n  # Database\n  db:\n    platform: linux/x86_64  # set platform\n    image: mysql-server:5.7\n    ...\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u5982\u679c\u53ea\u662f\u5728 docker pull \u65f6\uff0c\u589e\u52a0\u6307\u5b9a\u53c2\u6570\u5373\u53ef\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sh",children:"docker pull --plaform linux/x84_64 mysql-server:5.7\n"})})]})}function m(e={}){const{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}},11151:(e,n,r)=>{r.d(n,{Z:()=>a,a:()=>t});var o=r(67294);const l={},s=o.createContext(l);function t(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);