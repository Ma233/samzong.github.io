<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">13 posts tagged with &quot;Microservice&quot; | SAMZONG</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://samzong.me/blog/tags/microservice"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="13 posts tagged with &quot;Microservice&quot; | SAMZONG"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://samzong.me/blog/tags/microservice"><link data-rh="true" rel="alternate" href="https://samzong.me/blog/tags/microservice" hreflang="en"><link data-rh="true" rel="alternate" href="https://samzong.me/blog/tags/microservice" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="SAMZONG RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="SAMZONG Atom Feed"><link rel="stylesheet" href="/assets/css/styles.44c5c7e5.css">
<link rel="preload" href="/assets/js/runtime~main.a4192aa2.js" as="script">
<link rel="preload" href="/assets/js/main.be9b3ddb.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?e("light"):e("dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"></a></div><div class="navbar__items navbar__items--right"><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/07/13/google-sou-suo-ji-qiao-zheng-li">Google 搜索技巧整理</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023/02/21/ketbrains-ji-huo-fu-wu-qi">在线服务器激活 Ketbrains</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/12/16/raycast">Raycast 你的年度报告已到达</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/12/15/Skoala-Install-Dce5">DCE5-Skoala 安装教程</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/12/06/dce5">保姆式安装 DCE5.0</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/11/28/cskefu-opensource-project">春松客服</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/11/23/what-is-hukou">What is Hukou</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/11/20/Copy-To-Markdwon">Copy to Markdown</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/11/16/dubbo-ji-chu-zhi-shi">Dubbo 基础知识梳理</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/11/10/panads-fill-nan-value-to-zero">Panads fill NaN value to Zero</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/10/22/redash-for-docker-bu-shu">Redash for Docker 部署</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/10/18/jwt-nei-zhi-de-fang-shi">JWT 内置的方式</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/10/06/ji-ji-fu-ji-ji">唧唧复唧唧</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/10/04/zi-bei-yu-chao-yue">自卑与超越</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/09/28/gitlab-forked-ru-he-gen-sui-upstream-zhu-ku">GitLab Forked 如何跟随 upstream 主库</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/09/27/kafka-jing-pin-diao-yan-ji-gong-neng-she-ji">Kafka 调研及功能设计</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/09/22/poetry-shi-yong-bi-ji">Poetry 使用笔记</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/09/20/skoala-bu-shu-jiao-cheng">Skoala 部署教程</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/09/18/shi-yong-canal-jin-xing-shu-ju-ku-zeng-liang-tong-bu">使用 canal 进行数据库增量同步</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/09/12/k8s-xi-lie-nan-bei-liu-liang-he-dong-xi-liu-liang">K8s 系列 南北流量和东西流量</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/08/17/docker-for-mac-wang-luo-ji-qiao">Docker for Mac 网络技巧</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/08/15/wa-er-deng-hu">瓦尔登湖</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/08/10/contour-xue-xi-bi-ji">Contour 学习笔记</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/07/24/tong-guo-pipreqs-huo-qu-dang-qian-xiang-mu-di-yi-lai-ku">通过 pipreqs 获取当前项目的依赖库</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/07/22/contour-envoy-zhi-biao">Contour和Envoy指标介绍</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/07/22/jq-ming-ling-xing-json-chu-li-shen-qi">jq 命令行 Json 处理神器</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/07/21/wei-fu-wu-yin-qing-wang-guan-neng-li-jie-shao">微服务引擎网关能力介绍</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/07/18/bi-guan-bei-zhan-11-yue">闭关备战 11 月</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/07/18/i18n-shi-yong-gou-jian">i18n 使用构建</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/06/29/mac-shang-an-zhuang-ruan-jian-de-fang-shi">Mac 上安装软件的方式</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/06/18/httpproxy-api-chuang-jian">HTTPProxy API 创建</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/05/28/hexo-admonition">Hexo 增加 admonition 样式支持</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/05/18/gitlab-fa-song-qi-wei-ji-qi-ren-xiao-xi">Gitlab 发送企微机器人消息</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/05/17/guo-nei-huan-jing-da-jian-macos-k8s-kai-fa-huan-jing">国内环境搭建 MacOS K8s 开发环境</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/05/17/kubernetes-operator">Kubernetes Operator</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/05/11/contour-she-ji-li-nian">Contour 设计理念</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/05/07/macos-yin-cang-dock-lan-zhong-te-ding-ying-yong">MacOS 隐藏 Dock 栏中特定应用</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/05/06/man-zu-yu-qi-de-wen-dang-zhan-mkdocs">满足预期的文档站 Mkdocs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/05/06/a-li-yun-yun-yuan-sheng-wang-guan">阿里云云原生网关</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/05/06/teng-xun-yun-wei-fu-wu-wang-guan">腾讯云微服务网关</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/05/03/alfred-workflow-tui-jian">Alfred Workflow 推荐</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/05/03/youtube-dl-xia-zai-youtube-shi-pin">youtube-dl 下载 YouTube 视频</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/05/03/tao-bao-python-sdk-you-hua-zhi-chi-python3">淘宝 Python SDK 优化支持 Python3</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/04/24/kubernetes-xue-xi-zhi-lu">kubernetes 学习之路</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/04/22/github-pages-de-miao-yong">GitHub Pages 的妙用</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/04/21/kubernetes-bu-shu-cuo-wu-jie-jue-hui-zong">Kubernetes 部署错误解决汇总</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/04/19/xu-yao-liao-jie-de-jing-pin">需要了解的 K8s 发行版本</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/04/18/cka-kao-shi-zhun-bei">CKA 考试准备</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/04/17/Docker-Run-at-Apple-Silicon-M1">Dockerfile Run at M1 processor build failed</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/04/17/python-request-install-pip-error">python Request install pip error</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/04/16/metabase-shang-shou-shi-yong-jar">Metabase 上手 - 使用 Jar 运行</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/04/15/sql-dui-shi-jian-zheng-dian-de-chu-li">SQL 对时间整点的处理</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/04/14/tao-bao-python-sdk-you-hua-zhi-chi-python3">淘宝 Python SDK 优化支持 Python3</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/04/14/python-pip-guo-nei-jia-su">Python Pip 国内加速</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/04/11/git-xiu-fu-li-shi-cuo-wu-de-author-xin-xi">Git 修复历史错误的 Author 信息</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/04/10/awsome-telegram-bot">Awsome Telegram Bot</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/03/28/Javascript-Tips">Javascript Tips</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/03/27/awesome-hexo-plugins">Awesome Hexo Plugin</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/03/27/poetry-shi-yong-bi-ji">Poetry 使用笔记</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/03/27/python-duo-ban-ben-guan-li-gong-ju">Pyenv Python 多版本管理利器</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/03/11/xin-de-mu-biao">2022 新的目标</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/02/24/fastapi-shi-yong-wen-dang">FastAPI 使用文档</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/02/11/yi-ge-python-xiang-mu-di-mu-lu-jie-gou-she-ji">Python 项目的目录结构设计</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/01/21/python3-wen-ben-chu-li-strip-split">Python3 文本处理</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/01/20/clickhouse-chang-yong-han-shu-shi-yong">ClickHouse 常用函数使用</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/01/04/mysql-case-when">MySQL Case WHEN</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/01/03/apollo-ru-he-shi-xian-pei-zhi-re-fa-bu">Apollo 如何实现配置热发布</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/01/03/get-current-timestamp">get current timestamp</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2022/01/03/python-flask-form">python flask form</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/11/29/git-zhong-duan-clone-jia-su">Github 使用 SSH 拉取代码加速</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/11/19/ding-ding-nei-wang-chuan-tou-gong-ju">钉钉内网穿透工具</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/11/17/creating-dataframe-using-list">Creating DataFrame using list</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/11/17/shi-yong-ding-ding-san-fang-shou-quan-deng-lu">使用钉钉三方授权登录</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/11/03/metabase-cai-keng-tiao-zhuan-lian-jie-de-liu-lan-qi-huan-cun">Metabase 踩坑：跳转链接的浏览器缓存</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/10/19/python-version-manage-pyenv">Python Version Manage `pyenv`</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/10/12/macos-10.15-kai-qi-hidpi">MacOS 10.15 开启 HiDPI</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/09/24/kuai-su-liao-jie-lian-jie-shu-ju-ku">快速了解连接数据库</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/09/24/node-nvm">node nvm</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/09/05/dataframe-pandas">dataframe - Pandas</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/09/05/shi-yong-python3-ge-shi-hua-da-xing-json-wen-jian">使用 Python3 格式化大型 json 文件</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/08/25/python-zhua-chu-lai-sui-ji-xia-zai-ji-lu">Python 抓出来随机下载记录</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/08/09/mysql-regexp-huo-xue-huo-yong">MySQL REGEXP 活学活用</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/08/08/chang-yong-sql">常用 SQL-拼接日期</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/07/22/zai-gu-ge-liu-lan-qi-zhong-an-zhuang-.crx-cha-jian">在谷歌浏览器中安装.crx 插件</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/07/22/zhi-hu-zhou-kan-dan-shen-hui-shang-yin">知乎周刊・单身会上瘾</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/06/25/iphone-ipad-bu-yue-yu-an-zhuang-jiu-ban-cheng-xu">iPhone/iPad 不越狱安装旧版程序</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/06/12/mac-ru-he-kuai-su-lu-zhi-gif-xiao-shi-pin">Mac 如何快速录制 GiF 小视频</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/04/18/kuai-su-liao-jie-mysql-shi-jian-fan-wei-can-shu">快速了解 MySQL 时间范围参数</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/04/16/hql-sql-shi-jian-chu-li">HQL/SQL时间处理</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/03/27/zhi-hu-zhou-kan-·-qiao-bu-si-wang-shi">知乎周刊·乔布斯往事</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/03/12/how-to-set-container-auto-restarting-with-docker">how to set container auto-restarting with docker</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/03/10/ai-ni-jiu-xiang-ai-sheng-ming">爱你就像爱生命</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/03/10/ju-ying-guo">巨婴国</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/03/10/macos-10.15-kai-qi-hidpi">macOS 10.15 开启 HiDPI</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/03/10/qi-shi-ni-suo-zhi-dao-de-shi-jie-hen-mo-sheng">其实，你所知道的世界很陌生</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/03/10/ren-jian-shi-ge">人间失格</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/03/10/ren-sheng-de-jia-suo">人生的枷锁</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/03/10/san-sheng-san-shi-shi-li-tao-hua">三生三世十里桃花</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/03/10/wei-chuan-de-hong-jia-yi-chen-fu">未穿的红嫁衣·沉浮</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/03/10/wo-men-sheng-huo-zai-ju-da-de-cha-ju-li">我们生活在巨大的差距里</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/03/10/wo-suo-li-jie-de-sheng-huo">我所理解的生活</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/03/10/yuan-you-ren-pei-ni-dian-pei-liu-li">愿有人陪你颠沛流离</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/03/10/zui-hou-de-shua-hou-ren">最后的耍猴人</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/02/15/macos-terminal-san-jian-ke">macOs Terminal 三剑客</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/02/15/pprint-beautiful-json-format">pprint beautiful json format</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/02/15/python3-traceback">python3 traceback</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/02/15/requests-post-data-shi-dui-json-xu-yao-te-shu-zhu-yi">requests post data 时对 json 需要特殊注意</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/02/09/dingtalk-orgbot-sign-generate">dingtalk orgBot sign generate</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/02/07/python-django-bian-xie-gong-gong-mo-kuai-zai-app-zhong-yin-yong">python django 编写公共模块在 app 中引用</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/01/20/python-xlsxwriter-xie-ru-excel">python xlsxwriter 写入 excel</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2021/01/01/year-the-new-start">2021 年 - 全新出发</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/12/25/jian-cha-nin-de-app-shi-fou-yi-zhi-chi-applesilicon">检查您的 App 是否已支持 AppleSilicon</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/12/25/mac-tiao-zheng-launchpad-tu-biao-da-xiao">Mac 调整 Launchpad 图标大小</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/12/13/learn-sqlalchemy">learn sqlalchemy</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/12/09/covert-timestamp2datetime">covert timestamp2datetime</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/12/08/python-wan-cheng-dou-dian-api-shou-quan">python 完成抖店 API 授权</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/12/03/python3-str-qu-chu-te-ding-nei-rong">python3 str 去除特定内容</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/11/24/Check-You-Favorites-App-Is-Ready-Apple-Silicon">Check You App readyOnAppleSilicon</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/11/23/ru-he-zhong-zhi-mac-de-smc">如何重置 Mac 的 SMC</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/11/18/dai-ma-ge-shi-xiang-guan">代码格式相关</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/11/18/django-lian-shou-xiang-mu">Django 练手项目</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/11/17/python-re-zheng-ze-biao-da-shi">python re 正则表达式</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/11/16/autoscraper-pa-chong-suo-jian-ji-suo-de">autoscraper 爬虫 所见即所得</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/11/09/django-chu-shi-hua-project">Django 初始化 project</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/11/06/django-xiu-gai-modules-shi-chu-cuo">Django 修改 modules 时出错</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/11/06/join-yu-format-bu-tong-de-yong-fa">join 与 format 不同的用法</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/11/05/beautiful-soup-4-shi-yong-ji-qiao">beautiful soup 4 使用技巧</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/11/04/python3-setup.py-help-commands">python3 setup.py --help-commands</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/10/23/use-devtools-encodeurl-&amp;-decodeurl">Use devtools encodeurl &amp; decodeurl</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2020/10/17/mac-shi-yong-ming-ling-guan-bi-he-qi-dong-airport">使用命令关闭和启动 AirPort</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2019/11/17/mac-jie-jue-oh-my-zsh-zai-zhong-duan-xia-da-kai-huan-man">Mac 下解决 oh-my-zsh 在终端下打开缓慢</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2019/07/22/mac-xia-homebrew-de-shi-yong">Mac 下 Homebrew 的使用</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2019/07/03/mysql-ming-ling-xing-fu-zhu-mycli">MySQL 命令行辅助 mycli</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2019/01/22/mac-ru-he-kuai-su-lu-zhi-gif-xiao-shi-pin">MacTips 如何快速录制 GiF 小视频</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/11/17/mactips-dan-du-she-zhi-cheng-xu-yu-yan">MacTips 单独设置程序语言</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/08/04/HowTo-Skip-Atlassian-Auth-for-SourceTree">HowTo Skip Atlassian Auth for SourceTree</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/02/28/shi-yong-guo-nei-pypi-yuan-jia-su-pip-an-zhuang">使用国内 pypi 源加速 pip 安装</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2018/01/09/git-shi-yong-gui-fan-liu-cheng">Git 使用规范流程</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/12/02/Howto-Install-Redmine-on-Ubuntu-16.04">Howto Install Redmine on Ubuntu 16.04</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/11/15/Howto-use-ssr-on-mac">HowTo Use SSR Service on Mac</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/10/22/iphone:ipad-bu-yue-yu-an-zhuang-jiu-ban-cheng-xu">iPhone/iPad 不越狱安装旧版程序</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/08/12/blazemeter-recoding-jmx">Jmeter 使用 BlazeMeter 为 Jmeter 录制脚本</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/06/02/bai-du-wang-pan-python-ke-hu-duan">bypy 百度网盘 Python 客户端</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/08/04/dong-ping-guo-jia-sen-lin-gong-yuan">东平国家森林公园</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/05/20/wo-lai-dao-zhe-shi-shang">我来到这世上</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/05/15/wannacry-ru-chong-bing-du-shi-jian-ji-xiu-fu-fang-an">Wannacry 蠕虫病毒事件及修复方案</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/04/18/centos-zeng-jia-xin-ying-pan-gei-gen-wen-jian-xi-tong-kuo-rong">CentOS 增加新硬盘给根文件系统扩容</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/04/13/HowTo-Install-GitLab">HowTo Install GitLab</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/04/11/guan-yu-kao-shi">关于考试</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/04/05/HowTo-set-Tomcat-7-automatic-startup-with-CentOS-7">HowTo set Tomcat 7 automatic startup with CentOS 7</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/03/23/zai-linux-zhong-duan-shi-yong-ssr-fu-wu-shi-xian-ke-xue-shang-wang">在 Linux 终端使用 SSR 服务实现科学上网</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/03/06/HowTo-install-Zoomdata">HowTo install Zoomdata</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/03/04/si-jie-mo-fang-te-shu-qing-kuang-zhi-chu-li">四阶魔方特殊情况之处理</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/02/27/mactips-shi-yong-ming-ling-guan-bi-he-qi-dong-airport">MacTips 使用命令关闭和启动 AirPort</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/02/27/HowTo-Install-NextCloud">HowTo Install NextCloud</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/02/22/HowTo-Install-Redmine">HowTo Install Redmine</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/02/20/HowTo-Upgrade-Your-Ghost-Version">HowTo Upgrade Your Ghost Version</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/02/19/HowTo-Automatic-Updates-CENTOS-RHEL-Using-YUM">HowTo Automatic Updates CENTOS/RHEL Using YUM</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/02/09/mysql-8-suo-yin-chuang-jian-shan-chu-he-cha-kan">MySQL 索引创建、删除和查看</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/01/18/HowTo-Monitor-Tomcat-Head-Memory-for-Zabbix">HowTo Monitor Tomcat HeadMemory for Zabbix</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/01/15/mei-ri-bei-fen-mysql-dan-biao-shu-ju">每日备份 MySQL 单表数据</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/01/10/sheng-huo-zai-bie-chu">生活在别处</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/01/07/docker-hub-guo-nei-jia-su">Docker Hub 国内加速</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2017/01/01/wo-de-2017">我的 2017</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/12/20/HowTo-Mount-OSS-Bucket-On-ECS">HowTo Mount OSS Bucket On ECS</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/12/17/shang-hai-tian-leng-le">上海天冷了</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/12/17/gao-bie">告别</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/12/11/xue-zhan-gang-ju-ling">血战钢锯岭</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/12/08/HowTo-Install-Python3-on-CentOS-6-x">HowTo Install Python3 on CentOS 6.x</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/12/04/HowTo-Reset-MySQL-Root-Password">HowTo Reset MySQL Root Password</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/12/03/tomcat-2-li-yong-jdk-zi-shen-keytool-shi-xian-https">Tomcat 利用 JDK 自身 keytool 实现 HTTPS</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/11/30/aws-use-s3cmd-ming-ling-xing-guan-li-s3-cun-chu">AWS Use s3cmd 命令行管理 S3 存储</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/11/29/Tomcat-1-java-lang-OutOfMemoryError">Tomcat java.lang.OutOfMemoryError</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/11/28/HowTo-Install-LNMP-on-CentOS-6-x">HowTo Install LNMP on CentOS 6.x</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/11/27/shi-jie-shang-zui-mei-yong-de-dong-xi">世界上最没用的东西</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/11/23/denyhosts-zeng-jia-fu-wu-qi-ssh-hei-ming-dan-ji-zhi">Denyhosts 增加服务器 SSH 黑名单机制</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/11/10/mysql-5-qing-kong-biao-ming-ling-zhi-truncate-yu-delete-qu-bie">MySQL 清空表命令之：truncate 与 delete 区别</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/10/29/SSH-LINUX-Security-Settings">SSH LINUX Security Settings</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/10/20/HowTo-Install-PostgreSQL-9-5-on-CentOS-6-x">HowTo Install PostgreSQL 9.5 on CentOS 6.x</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/10/14/xie-de-wei-bo">微博随笔</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/10/14/xie-de-weibo">写的微博</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/09/22/HowTo-Use-pt-query-digest">HowTo Use pt-query-digest</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/09/20/sheng-zhe-gu-du">生者孤独</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/09/19/HowTo-Install-a-Tomcat-Server-7">HowTo Install a Tomcat Server 7</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/08/19/er-shi-si-sui">二十四岁</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/08/13/Script-Install-LNMP">Use Script Install LNMP</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/08/04/HowTo-Setup-MariaDB-Galera-Cluster-10-On-CentOS-6-x">HowTo Setup MariaDB Galera Cluster 10 On CentOS 6.x</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/08/02/HowTo-Install-Openfire-on-CentOS">HowTo Install Openfire  on CentOS</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/08/02/HowTo-Use-Docker-create-a-Tomcat-Project">HowTo Use Docker create a Tomcat Project</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/08/01/ni-hao-ba-yue">你好，八月</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/07/29/HowTo-Trun-Off-IPv6-in-CentOS-6-x">HowTo Trun Off IPv6 in CentOS 6.x</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/07/27/HowTo-Install-KVM-Manage-Server-webvirtmgr">HowTo Install KVM Manage Server webvirtmgr</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/07/27/yum-zhong-releasever-he-basearch-de-qu-zhi">Yum 中$releasever 和$basearch 的取值</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/07/27/Manage-Tomcat-Service-Use-Shell-Script">Manage Tomcat Service Use Shell Script</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/07/24/HowTo-Play-Pokemon-GO-in-China">HowTo Play Pokemon GO in China</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/07/10/HowTo-Reset-Azure-VM-Linux-Password">HowTo Reset Azure VM Linux Password</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/07/07/HowTo-Install-Docker-on-CentOS-6-x">HowTo Install Docker on CentOS 6.x</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/07/07/HowTo-Install-MySQL-5-5-6-7-on-RHEL-CentOS-5-6-7">HowTo Install MySQL 5.5/6/7 on RHEL/CentOS 5/6/7</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/07/07/HowTo-Use-Remi-Install-Redis">HowTo Use Remi Install Redis</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/07/05/HowTo-Use-Fuse-sshfs-to-Mount-Remote-Filesystems">HowTo Use Fuse-sshfs to Mount Remote Filesystems</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/06/16/mysql-1-chang-yong-you-hua">MySQL 常用配置优化</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/06/16/shi-yong-mosh-dai-ti-ssh-lian-jie-fu-wu-qi">使用 mosh 代替 ssh 连接服务器</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/05/24/Azure-HowTo-Use-Azure-CLI-on-Mac">HowTo Use Azure CLI on Mac</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/05/24/Azure-3-HowTo-Use-Azure-CLI-on-Mac">Azure CLI Import AcountInfo</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/05/20/HowTo-Monitoring-MySQL-server-for-Zabbix">HowTo Monitoring MySQL server for Zabbix</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/05/18/HowTo-Install-CloudStack-4-8-on-CentOS-6-x">HowTo Install CloudStack 4.8 on CentOS 6.x</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/05/15/openstak-jie-shao">OpenStak 介绍</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/05/12/azure-4-chuang-jian-he-shi-yong-azure-redis-cache">创建和使用 Azure Redis Cache</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/05/05/HowTo-Install-Fabric-on-CentOS-7-x">HowTo Install Fabric on CentOS 7.x</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/05/05/centos-7-2-xi-tong-fu-wu-guan-li-fang-shi">CentOS 系统服务管理方式</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2015/08/12/HowTo-Automatic-EasyBackup-MysqlDB">CentOS 修改系统主机名</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/05/05/centos-7-1-xiu-gai-xi-tong-zhu-ji-ming">CentOS 修改系统主机名</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/05/05/mysql-3-mysqldump-chang-yong-can-shu">mysqldump 常用参数</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/05/04/HowTo-Install-Python-2-7-8-on-CentOS-6-x">HowTo Install Python 2.7.8 on CentOS 6.x</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/04/27/HowTo-Add-Piwik-Tracking-to-Ghost">HowTo Add Piwik Tracking to Ghost</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/04/27/HowTo-Install-piwik-with-nginx-on-centos-6-x">HowTo Install piwik with nginx on centos 6.x</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/04/20/shi-yong-sourecetree-guan-li-ni-de-git-xiang-mu">使用 SoureceTree 管理你的 git 项目</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/04/09/mac-1-tiao-zheng-launchpad-tu-biao-da-xiao">MacTips 调整 Launchpad 图标大小</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/04/08/mac-2-jie-jue-oh-my-zsh-zai-zhong-duan-xia-da-kai-huan-man">MacTips 解决 oh-my-zsh 在 Terminal 下打开缓慢</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/04/01/ru-he-zai-centos-6-an-zhuang-geng-gao-ban-ben-de-php">如何在 CentOS 6 安装更高版本的 PHP</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/03/29/mysql-4-mysql-shu-ju-ku-ji-chu">MySQL 数据库使用基础</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/03/29/linux-zhong-de-san-ge-te-shu-quan-xian">Linux 中的三个特殊权限</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/03/29/centos-6-1-shi-yong-createrepo-da-jian-ben-di-yuan">CentOS 使用 createrepo 搭建本地源</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/03/27/HowTo-Install-MongoDB-on-CentOS-6-x">HowTo Install MongoDB  on CentOS 6.x</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/03/24/zai-centos-zhong-pei-zhi-sftp-huan-jing">在 CentOS 中配置 SFTP 环境</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/03/24/mysql-6-li-yong-linux-ji-hua-ren-wu-ding-shi-tong-bu-mysql">利用 Linux 计划任务定时同步 MySQL</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/03/23/linux-bi-shi-shi-ti">Linux 笔试试题</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/03/22/mysql-2-kai-qi-man-ri-zhi-you-hua">MySQL 开启慢日志优化</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/03/19/centos-6-2-chu-shi-an-zhuang-ji-ben-you-hua-cao-zuo">CentOS 初始安装基本优化操作</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/03/18/li-jie-linux-de-ying-lian-jie-yu-ruan-lian-jie">理解 Linux 的硬链接与软链接</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/03/07/long-zu-lu-ming-fei">龙族路明非</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/03/04/2016-chun-jie-du-shu-bi-ji">2016 春节读书笔记</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/02/12/HowTo-use-TortoiseGit-for-Windows">HowTo use TortoiseGit for Windows</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/01/22/install-mariadb10-centos7">How to install MariaDB 10.1 on CentOS 7.x</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2016/01/15/ru-he-zuo-yi-ge-cheng-shu-de-zi-ji">何余生说要感谢身边所有美好的人</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2015/12/31/Hello-2016">Hello 2016</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2015/11/17/ji-jian-zhu-yi">极简主义</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2015/07/18/wu-ti">无题</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2015/06/04/min-yao-shi-sheng">民谣是生</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2015/04/12/zhe-shi-yi-dao-gui-men-guan">这是一道鬼门关</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2015/04/03/lu-tu-shang">路途上</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2015/02/23/xie-de-di-yi-ge-qian-duan-ye-mian">写的第一个前端页面</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2014/07/22/centos7-configure-bind-dns-server">CentOS 7 Configure DNS Server</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2014/03/27/wo-shi-yi-ge-zui-bu-hui-xie-biao-ti-de-ren">我是一个最不会写标题的人</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2012/07/30/ai-yu-tong-de-bian-yuan">爱与痛的边缘</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>13 posts tagged with &quot;Microservice&quot;</h1><a href="/blog/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/11/23/what-is-hukou">What is Hukou</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-11-23T00:00:00.000Z" itemprop="datePublished">November 23, 2022</time> · <!-- -->One min read</div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="背景">背景<a href="#背景" class="hash-link" aria-label="Direct link to 背景" title="Direct link to 背景">​</a></h2><p>对于一个大型企业，内部有几十个业务系统是非常正常的一件事情。</p><p>在这个背景下，有一个具体的服务可以很干净的只做一件事情是非常棒的：把人管好。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="功能接入">功能接入<a href="#功能接入" class="hash-link" aria-label="Direct link to 功能接入" title="Direct link to 功能接入">​</a></h2><ul><li>支持接收其他业务系统的注册<ul><li>支持配置 system_key</li><li>支持自定义回调地址</li></ul></li><li>通用的身份认证接入方式<ul><li>接入方系统只需要简单的集成即可完成用户身份的登录支持</li></ul></li><li>支持一键禁用账号登录<ul><li>增强版能力，支持广播账号身份信息发生变化，实时触发账号验证<ul><li>可选项，由接入方系统根据需求决定是否接入</li></ul></li></ul></li><li>支持与三方业务系统集成<ul><li>钉钉</li><li>飞书</li><li>etc.</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="功能逻辑说明">功能逻辑说明<a href="#功能逻辑说明" class="hash-link" aria-label="Direct link to 功能逻辑说明" title="Direct link to 功能逻辑说明">​</a></h2><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/20221123145010.png?x-oss-process=image/resize,w_960,m_lfit" alt="resize,w_960,m_lfit" class="img_ev3q"><blockquote><p>验证流程图</p></blockquote><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/VIzBnN.jpg?x-oss-process=image/resize,w_960,m_lfit" alt="resize,w_960,m_lfit" class="img_ev3q"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="相关技术和开源实现">相关技术和开源实现<a href="#相关技术和开源实现" class="hash-link" aria-label="Direct link to 相关技术和开源实现" title="Direct link to 相关技术和开源实现">​</a></h2><ul><li>开源项目<ul><li>Keyclock</li></ul></li><li>相关技术<ul><li>Microsoft AD</li><li>LDAP</li><li>OIDC</li><li>OAtuh</li></ul></li><li>SaaS 产品<ul><li>飞书 &lt;门神&gt;</li><li><a href="https://auth0.com" target="_blank" rel="noopener noreferrer">auth0.com</a></li><li><a href="https://fusionauth.io/" target="_blank" rel="noopener noreferrer">fusionauth</a></li></ul></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/microservice">Microservice</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/11/16/dubbo-ji-chu-zhi-shi">Dubbo 基础知识梳理</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-11-16T00:00:00.000Z" itemprop="datePublished">November 16, 2022</time> · <!-- -->3 min read</div></header><div class="markdown" itemprop="articleBody"><blockquote><p>参考资料：</p></blockquote><ul><li><a href="https://juejin.cn/post/7128953614403371015#heading-5" target="_blank" rel="noopener noreferrer">https://juejin.cn/post/7128953614403371015#heading-5</a></li><li><a href="https://dubbo.apache.org/zh/docs/" target="_blank" rel="noopener noreferrer">https://dubbo.apache.org/zh/docs/</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="简介">简介<a href="#简介" class="hash-link" aria-label="Direct link to 简介" title="Direct link to 简介">​</a></h2><ul><li>Apache Dubbo 一款基于 RPC 服务开发的云原生微服务框架，与 SpringCloud 类似</li><li>使用 Dubbo 开发的微服务原生具备相互之间远程地址发现 (注册中心) 和通信的能力</li><li>Dubbo 支持丰富的服务治理特性，包含 服务发现、负载均衡、流量调度 等，高度可扩展</li><li>Dubbo 由 阿里巴巴 开发，并贡献给 Apache</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="发展历程">发展历程<a href="#发展历程" class="hash-link" aria-label="Direct link to 发展历程" title="Direct link to 发展历程">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="版本迭代">版本迭代<a href="#版本迭代" class="hash-link" aria-label="Direct link to 版本迭代" title="Direct link to 版本迭代">​</a></h3><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/20221117023215.png?x-oss-process=image/resize,w_960,m_lfit" alt="resize,w_960,m_lfit" class="img_ev3q"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="软件生态的活跃度">软件生态的活跃度<a href="#软件生态的活跃度" class="hash-link" aria-label="Direct link to 软件生态的活跃度" title="Direct link to 软件生态的活跃度">​</a></h3><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/8G8hZG.jpg?x-oss-process=image/resize,w_960,m_lfit" alt="resize,w_960,m_lfit" class="img_ev3q"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="与-springcloud-相比的优势">与 SpringCloud 相比的优势<a href="#与-springcloud-相比的优势" class="hash-link" aria-label="Direct link to 与 SpringCloud 相比的优势" title="Direct link to 与 SpringCloud 相比的优势">​</a></h2><ul><li>功能丰富，基于原生库即可完成大部分的微服务治理能力</li><li>支持超大规模的微服务机器设计，高性能 RPC 通信协议实现</li><li>高度可扩展性，支持在调用过程中对流量及协议进行拦截扩展，如 Filter、Router、LB 等</li><li>支持微服务治理的扩展组件<ul><li>Registry 注册中心：Zookeeper、Nacos</li><li>Config Center 配置中心：Zookeeper、Nacos</li><li>Metadata Center 元数据中心 (Dubbo3 支持)</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dubbo-的基础概念介绍">Dubbo 的基础概念介绍<a href="#dubbo-的基础概念介绍" class="hash-link" aria-label="Direct link to Dubbo 的基础概念介绍" title="Direct link to Dubbo 的基础概念介绍">​</a></h2><ul><li>RPC 通信</li><li>服务发现</li><li>流量治理</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rpc-通信">RPC 通信<a href="#rpc-通信" class="hash-link" aria-label="Direct link to RPC 通信" title="Direct link to RPC 通信">​</a></h3><ul><li>Dubbo3 之中，RPC 通信主要使用 Triple 协议，构建在 HTTP/2 协议之上，兼容 gRPC</li><li>提供 Request Response、Request Streaming、Response Streaming、Bi-directional Streaming 通信模型</li><li>支持 IDL，基于 Triple 协议</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="服务发现">服务发现<a href="#服务发现" class="hash-link" aria-label="Direct link to 服务发现" title="Direct link to 服务发现">​</a></h3><p>服务发现，是消费端自动发现服务地址列表的能力，是微服务框架需要具备的关键能力，借助于自动化的服务发现，微服务之间在无需感知对端部署位置与 IP 地址的情况下实现通信。</p><p>Dubbo 提供的 Client-Based 服务发现机制，同时也需要第三方注册中心来协调服务发现过程，比如 Nacos/Zookeeper 等。</p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/oaqyGX.jpg?x-oss-process=image/resize,w_960,m_lfit" alt="resize,w_960,m_lfit" class="img_ev3q"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="流量治理">流量治理<a href="#流量治理" class="hash-link" aria-label="Direct link to 流量治理" title="Direct link to 流量治理">​</a></h3><ul><li>Dubbo2 开始，Dubbo 就提供了丰富的服务治理规则，包括路由规则/动态配置等</li><li>Dubbo3 之中的实现<ul><li>Dubbo Mesh : 通过对接 xDS 对接到时下流行的 Mesh 产品如 Istio 中所使用的以 VirtualService、DestinationRule 为代表的治理规则</li><li>另一方面 Dubbo 正寻求设计一套自有规则以实现在不通部署场景下的流量治理，以及灵活的治理能力。</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dubbo-mesh">Dubbo Mesh<a href="#dubbo-mesh" class="hash-link" aria-label="Direct link to Dubbo Mesh" title="Direct link to Dubbo Mesh">​</a></h2><p>Dubbo Mesh 的目标是提供适应 Dubbo 体系的完整 Mesh 解决方案，包含定制化控制面（Control Plane）、定制化数据面解决方案。Dubbo 控制面基于业界主流 Istio 扩展，支持更丰富的流量治理规则、Dubbo 应用级服务发现模型等，Dubbo 数据面可以采用 Envoy Sidecar，即实现 Dubbo SDK + Envoy 的部署方案，也可以采用 Dubbo Proxyless 模式，直接实现 Dubbo 与控制面的通信。</p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/vMniiR.jpg?x-oss-process=image/resize,w_960,m_lfit" alt="resize,w_960,m_lfit" class="img_ev3q"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dubbo3">Dubbo3<a href="#dubbo3" class="hash-link" aria-label="Direct link to Dubbo3" title="Direct link to Dubbo3">​</a></h2><p>Dubbo 3.0 提供的新特性包括：</p><ul><li><strong>新的地址发现模型（应用级服务发现）</strong><ul><li>查看<a href="https://dubbo.apache.org/zh/docs/migration/migration-service-discovery" target="_blank" rel="noopener noreferrer">应用级服务发现的迁移步骤</a></li><li>查看应用级服务发现的使用方式</li><li>查看应用级服务发现设计与实现</li></ul></li><li><strong>下一代基于 HTTP/2 的 Triple 协议</strong><ul><li>查看<a href="https://dubbo.apache.org/zh/docs/migration/migration-triple" target="_blank" rel="noopener noreferrer">Triple 协议迁移步骤</a></li><li>查看 <a href="https://dubbo.apache.org/zh/docs/references/protocols/tri" target="_blank" rel="noopener noreferrer">Triple 协议使用方式</a></li><li>查看 Triple 协议设计与实现</li></ul></li><li><strong>统一的路由规则。</strong><ul><li>查看<a href="https://dubbo.apache.org/zh/docs/migration/migration-routingrule/" target="_blank" rel="noopener noreferrer">统一路由规则的迁移步骤</a></li><li>查看<a href="https://dubbo.apache.org/zh/docs/references/routers/" target="_blank" rel="noopener noreferrer">统一路由规则使用方式</a></li><li>查看统一路由规则设计与实现</li></ul></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/microservice">Microservice</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/10/18/jwt-nei-zhi-de-fang-shi">JWT 内置的方式</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-10-18T00:00:00.000Z" itemprop="datePublished">October 18, 2022</time> · <!-- -->One min read</div></header><div class="markdown" itemprop="articleBody"><ul><li>支持为 API 启用 jwt token 解码的能力 ,  读取网关的 jwt key<ul><li>读取请求 Header 中的 Authorization</li></ul></li><li>需要支持为网关配置多 jwt key , and 加密长度 ?<ul><li>解密的性能问题</li><li>expire<!-- -->_<!-- -->time 过期时间的配置</li><li>解密后的参数传递</li></ul></li></ul><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1666060887030-ff0a6f09-9bf0-44d5-a92b-dc36fc9b7d47.png?x-oss-process=image/resize,w_960,m_lfit" alt="image.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="迭代的方向">迭代的方向<a href="#迭代的方向" class="hash-link" aria-label="Direct link to 迭代的方向" title="Direct link to 迭代的方向">​</a></h3><ol><li>采用外置的 Jwt server 认证服务<ol><li>配置 jwt server url</li><li>respone 解密后的  json 内容；进行参数传递</li></ol></li><li>采用托管的 Jwt server 来进行托管<ol><li>配置 jwt key (支持自动生成)</li><li>expire<!-- -->_<!-- -->time</li><li>加密长度</li><li>自动配置参数传递<ol><li>全部传递</li><li>全部传递 (not token)</li><li>白名单传递</li></ol></li></ol></li></ol></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/microservice">Microservice</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/09/27/kafka-jing-pin-diao-yan-ji-gong-neng-she-ji">Kafka 调研及功能设计</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-09-27T00:00:00.000Z" itemprop="datePublished">September 27, 2022</time> · <!-- -->8 min read</div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="调研对象">调研对象<a href="#调研对象" class="hash-link" aria-label="Direct link to 调研对象" title="Direct link to 调研对象">​</a></h2><table><thead><tr><th>厂家</th><th>产品控制台主页</th><th>应用模式</th></tr></thead><tbody><tr><td>阿里云</td><td><a href="https://kafka.console.aliyun.com/" target="_blank" rel="noopener noreferrer">https://kafka.console.aliyun.com/</a></td><td>中间件 PaaS 模块之一</td></tr><tr><td>腾讯云</td><td><a href="https://console.cloud.tencent.com/ckafka/overview" target="_blank" rel="noopener noreferrer">https://console.cloud.tencent.com/ckafka/overview</a></td><td>中间件 PaaS 模块之一</td></tr><tr><td>华为云</td><td><a href="https://console.huaweicloud.com/dms/?region=cn-east-3&amp;engine=kafka" target="_blank" rel="noopener noreferrer">https://console.huaweicloud.com/dms/?region=cn-east-3&amp;engine=kafka</a></td><td>中间件 PaaS 模块之一</td></tr><tr><td>QingCloud</td><td><a href="https://console.qingcloud.com/pek3/app/app-n9ro0xcp/" target="_blank" rel="noopener noreferrer">https://console.qingcloud.com/pek3/app/app-n9ro0xcp/</a></td><td>中间件 AppCenter 模块之一</td></tr><tr><td>UCloud</td><td><a href="https://console.ucloud.cn/ukafka/ukafka" target="_blank" rel="noopener noreferrer">https://console.ucloud.cn/ukafka/ukafka</a></td><td>中间件 PaaS 模块之一</td></tr><tr><td>时速云</td><td><a href="https://console.tenxcloud.com/middleware_center/app" target="_blank" rel="noopener noreferrer">https://console.tenxcloud.com/middleware_center/app</a></td><td>中间件 应用之一</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="operator-选型">operator 选型<a href="#operator-选型" class="hash-link" aria-label="Direct link to operator 选型" title="Direct link to operator 选型">​</a></h2><ul><li><a href="https://github.com/strimzi/strimzi-kafka-operator" target="_blank" rel="noopener noreferrer">https://github.com/strimzi/strimzi-kafka-operator</a></li><li><a href="https://github.com/banzaicloud/koperator" target="_blank" rel="noopener noreferrer">https://github.com/banzaicloud/koperator</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="功能横向对比">功能横向对比<a href="#功能横向对比" class="hash-link" aria-label="Direct link to 功能横向对比" title="Direct link to 功能横向对比">​</a></h3><table><thead><tr><th>功能点</th><th>阿里云</th><th>腾讯云</th><th>华为云</th><th>QingCloud</th><th>UCloud</th><th>时速云</th><th>strimzi-kafka-operator</th><th>koperator</th></tr></thead><tbody><tr><td>Kafka 实例的生命周期管理</td><td>√</td><td>√</td><td>√</td><td>√</td><td>√</td><td>√</td><td>√</td><td>√</td></tr><tr><td>Kafka 多版本支持</td><td>√ 默认固定，工单调整</td><td>√</td><td>√</td><td>√(仅 1 个)</td><td>√</td><td>√</td><td>√</td><td>√</td></tr><tr><td>Kafka 节点列表</td><td>√</td><td></td><td>√</td><td></td><td>√</td><td>跳转 Pod</td><td>√ (能创建 pod)</td><td>√</td></tr><tr><td>Kafka 原生参数管理</td><td> </td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td> </td><td></td><td>√</td><td>√ 原生</td><td>√</td><td>√ 原生</td><td>√</td><td>√</td><td></td></tr><tr><td>Kafka 常用参数抽象</td><td>√</td><td>√</td><td>√</td><td></td><td>√</td><td></td><td>√</td><td>√</td></tr><tr><td>Kafka 模块自带 Zookeeper</td><td>√</td><td>√</td><td>√</td><td></td><td>√</td><td></td><td>√</td><td> </td></tr><tr><td> </td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>消息查询功能</td><td>√</td><td>√</td><td>√</td><td>√ 原生</td><td></td><td>√ 原生</td><td></td><td></td></tr><tr><td>消息下载功能</td><td>√(高级版）</td><td></td><td> </td><td></td><td></td><td></td><td></td><td></td></tr><tr><td> </td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Topic 管理列表</td><td>√</td><td>√</td><td>√</td><td>√ 原生</td><td>√</td><td>√ 原生</td><td> </td><td></td></tr><tr><td> </td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Topic 增删改查</td><td>√</td><td>√</td><td>√</td><td>√ 原生</td><td>√</td><td>√ 原生</td><td> </td><td></td></tr><tr><td> </td><td> </td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td> </td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Topic 高级参数支持</td><td>√</td><td>√</td><td>√</td><td>√ 原生</td><td>√</td><td>√ 原生</td><td> </td><td></td></tr><tr><td> </td><td> </td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td> </td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Topic 详情</td><td>√</td><td>√</td><td> </td><td></td><td></td><td></td><td></td><td></td></tr><tr><td> </td><td>√ 原生</td><td>√</td><td>√ 原生</td><td>√</td><td>√</td><td></td><td></td><td></td></tr><tr><td>Consumer Group 列表</td><td>√</td><td>√</td><td></td><td>√ 原生</td><td></td><td>√ 原生</td><td></td><td></td></tr><tr><td>Consumer Group 增删改查</td><td>√</td><td>√</td><td></td><td>√ 原生</td><td>√</td><td>√ 原生</td><td></td><td></td></tr><tr><td>资源监控看板</td><td>√</td><td>√</td><td></td><td>√</td><td>√</td><td>√</td><td>√ grafana dashboard</td><td>√ grafana dashboard</td></tr><tr><td>Kafka 业务数据监控 (消息量/积压/消费情况)</td><td>√</td><td>√</td><td>√</td><td></td><td>√</td><td>√Grafana</td><td>√ exporter+grafana</td><td>√  exporter+grafana</td></tr><tr><td>示例接入代码</td><td>√</td><td>√</td><td>√</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>消息发送测试窗口</td><td>√</td><td>√</td><td>√</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Kafka 服务日志查看</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>操作审计日志查看</td><td>√</td><td>√</td><td>√</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>提供 Kafka Manager UI</td><td></td><td></td><td></td><td>√</td><td></td><td>√</td><td></td><td></td></tr><tr><td>提供 kafka export 备份功能</td><td>√</td><td>√</td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>友好性帮助文档</td><td>√</td><td>√</td><td>√</td><td>√</td><td>√</td><td></td><td></td><td></td></tr><tr><td>提供帮助用户迁入上云</td><td>√</td><td>√</td><td>√</td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="kafka-创建过程及开放参数">Kafka 创建过程及开放参数<a href="#kafka-创建过程及开放参数" class="hash-link" aria-label="Direct link to Kafka 创建过程及开放参数" title="Direct link to Kafka 创建过程及开放参数">​</a></h2><table><thead><tr><th>厂家</th><th>字段</th></tr></thead><tbody><tr><td>阿里云</td><td>名称流量规格集群流量 = 业务流量 + 集群内副本复制流量，该规格实际业务读流量处理峰值为 50 MB/s，业务写流量处理峰值为 10 MB/s。磁盘容量数据默认 3 副本存储。实例规格为标准版时，如购买 300G 磁盘，实际存储业务的磁盘大小为 100G，其余 200G 为备份容量。实例规格为专业版时，如购买 300G 磁盘，实际存储业务的磁盘大小为 300G，额外赠送 600G 备份容量。消息保留最长时间是指在磁盘容量充足的情况下，消息的最长保留时间；在磁盘容量不足（即磁盘水位达到 85%）时，将提前删除旧的消息，以确保服务可用性；默认 72 小时，可选 24 小时 ～ 168 小时。最大消息大小，默认 1MB 边界值？标准版实例单条消息最大为 256KB，专业版实例单条消息最大为 10MB 且支持<strong>下载</strong>Topic 数量</td></tr><tr><td>腾讯云</td><td>名称 Kafka 版本实例规格配置存储容量消息保留时长</td></tr><tr><td>华为云</td><td>名称 Kafka 版本实例规格配置存储容量</td></tr><tr><td>QingCloud</td><td>名称 Kafka 版本 Kafka 节点配置：CPU / 内存  / 节点数（规格）客户端节点配置：CPU / 内存  / 节点数（规格）Kafka-Manager / CLI）Zookeeper 实例存储容量自定义参数配置内部 Topic offset replicasKafka manager 认证 zabbix.agentkafka scale version</td></tr><tr><td>UCloud</td><td>名称 Kafka 版本实例规格配置 + 存储容量实例数 3&lt;设定值&lt;100 消息保留时长</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="基础设计问题">基础设计问题<a href="#基础设计问题" class="hash-link" aria-label="Direct link to 基础设计问题" title="Direct link to 基础设计问题">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="部署方式">部署方式？<a href="#部署方式" class="hash-link" aria-label="Direct link to 部署方式？" title="Direct link to 部署方式？">​</a></h3><p>DCE5 支持多集群，Kafka 采用 operator 的方式部署，则需要先安装 Operator 模板到集群内</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="什么时间安装---kafka-operator">什么时间安装   Kafka-operator？<a href="#什么时间安装---kafka-operator" class="hash-link" aria-label="Direct link to 什么时间安装   Kafka-operator？" title="Direct link to 什么时间安装   Kafka-operator？">​</a></h3><p>在用户创建 kafka 实例时，检测是否目标集群是否存在 kafka-operator，如果不存在则同步安装</p><blockquote><p>什么时间移除 kafka-operator，默认情况下安装后不移除；交由 Kpanda 对集群释放时处理</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="如果支持-kafka-多版本">如果支持 Kafka 多版本？<a href="#如果支持-kafka-多版本" class="hash-link" aria-label="Direct link to 如果支持 Kafka 多版本？" title="Direct link to 如果支持 Kafka 多版本？">​</a></h3><p>通过多版本 对应 多 Kafka-opeator 的方式，让用户进行多版本选择</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="operator-更新后存量-kafka-怎么办">Operator 更新后，存量 Kafka 怎么办？<a href="#operator-更新后存量-kafka-怎么办" class="hash-link" aria-label="Direct link to Operator 更新后，存量 Kafka 怎么办？" title="Direct link to Operator 更新后，存量 Kafka 怎么办？">​</a></h3><blockquote><p>非必要需求，短期不支持</p></blockquote><p>默认情况下更新了 operator 之后，不对存量做处理；后续可以做友好提示用户升级即可</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="调研对象主要功能截图">调研对象主要功能截图<a href="#调研对象主要功能截图" class="hash-link" aria-label="Direct link to 调研对象主要功能截图" title="Direct link to 调研对象主要功能截图">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="阿里云">阿里云<a href="#阿里云" class="hash-link" aria-label="Direct link to 阿里云" title="Direct link to 阿里云">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="实例生命周期管理">实例生命周期管理<a href="#实例生命周期管理" class="hash-link" aria-label="Direct link to 实例生命周期管理" title="Direct link to 实例生命周期管理">​</a></h4><blockquote><p>实例创建</p></blockquote><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661307586169-51f50e53-916d-4c22-b365-94403478b2cd.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 10.19.23.jpg" class="img_ev3q"></p><blockquote><p>实例详情</p></blockquote><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661307617207-228cff9e-97a2-45df-a072-de9161d99594.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 10.20.05.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kafka-topic-管理">Kafka Topic 管理<a href="#kafka-topic-管理" class="hash-link" aria-label="Direct link to Kafka Topic 管理" title="Direct link to Kafka Topic 管理">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661307510049-397d57bc-29e5-4795-83f0-f08a0d91606b.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 10.18.17.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kafka-消息查询">Kafka 消息查询<a href="#kafka-消息查询" class="hash-link" aria-label="Direct link to Kafka 消息查询" title="Direct link to Kafka 消息查询">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661307481227-28a5f677-942f-4bee-8a40-f211a0699427.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 10.16.43.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="监控告警页面">监控告警页面<a href="#监控告警页面" class="hash-link" aria-label="Direct link to 监控告警页面" title="Direct link to 监控告警页面">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661307674273-cd48a1dc-2d56-4ac6-85ba-f7a15e9c977b.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 10.20.49.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="topic-详情">Topic 详情<a href="#topic-详情" class="hash-link" aria-label="Direct link to Topic 详情" title="Direct link to Topic 详情">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661315257657-3dd43b19-5c83-44a5-8dcf-3a7b00fdde2d.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 12.27.10@2x.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661325524370-2d137783-d065-40cf-b0e1-f758ec574a06.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.18.33@2x.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661325542835-025378a0-2813-4d38-a0ad-506012d0b7ec.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.18.54@2x.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661325553902-8071ff2d-e5ce-4328-bf30-33be12a1aec0.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.19.07@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="group-管理">Group 管理<a href="#group-管理" class="hash-link" aria-label="Direct link to Group 管理" title="Direct link to Group 管理">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661325583058-974985e4-822b-4229-bf20-7c78e07a5ac7.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.19.37.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661325590879-42d393a0-93de-44fe-b71b-de31ce075c09.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.19.45@2x.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661325603155-d688fe65-6f4c-4324-9244-854b7a818154.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.19.54@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="prom-监控">Prom 监控<a href="#prom-监控" class="hash-link" aria-label="Direct link to Prom 监控" title="Direct link to Prom 监控">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661323003273-fe3de5cc-28d0-48ab-8ead-38d8ba7b52b1.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 14.28.53.jpg" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="腾讯云">腾讯云<a href="#腾讯云" class="hash-link" aria-label="Direct link to 腾讯云" title="Direct link to 腾讯云">​</a></h3><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661325816247-f34749aa-9d99-4a79-9295-108e9f97cbed.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.23.24@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kafka-实例生命周期管理">Kafka 实例生命周期管理<a href="#kafka-实例生命周期管理" class="hash-link" aria-label="Direct link to Kafka 实例生命周期管理" title="Direct link to Kafka 实例生命周期管理">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661325788285-5a658ef6-092c-40b2-88b8-1317e29b71b4.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.22.56@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="消息查询功能">消息查询功能<a href="#消息查询功能" class="hash-link" aria-label="Direct link to 消息查询功能" title="Direct link to 消息查询功能">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661325835047-bc37c5a0-919b-422a-8706-bcb444171aef.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.23.44@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="数据同步任务">数据同步任务<a href="#数据同步任务" class="hash-link" aria-label="Direct link to 数据同步任务" title="Direct link to 数据同步任务">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661325851682-523521fc-491d-431d-a255-efdaa2c1fa2d.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.24.04@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="迁移上云功能">迁移上云功能<a href="#迁移上云功能" class="hash-link" aria-label="Direct link to 迁移上云功能" title="Direct link to 迁移上云功能">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661325869643-c2bc8a18-17be-406d-891f-fac1348d8072.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.24.21@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="topic-管理">Topic 管理<a href="#topic-管理" class="hash-link" aria-label="Direct link to Topic 管理" title="Direct link to Topic 管理">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661332709528-c073dd8e-8637-4620-831b-59b714fd31ec.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 17.18.06@2x.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661332721004-1c4aae0a-424a-4a40-89de-904f2cc9e021.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 17.18.35@2x.jpg" class="img_ev3q">
<a href="https://cloud.tencent.com/document/product/597/73566" target="_blank" rel="noopener noreferrer">https://cloud.tencent.com/document/product/597/73566</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="查看-topic-详情">查看 Topic 详情<a href="#查看-topic-详情" class="hash-link" aria-label="Direct link to 查看 Topic 详情" title="Direct link to 查看 Topic 详情">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661332758035-b38e4bf8-e5e5-4fc6-82ad-72d27a995c05.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 17.19.00@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="查看-topic-生产端连接">查看 Topic 生产端连接<a href="#查看-topic-生产端连接" class="hash-link" aria-label="Direct link to 查看 Topic 生产端连接" title="Direct link to 查看 Topic 生产端连接">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661332800322-193f8f5e-b5cf-49d1-830c-a35496a34737.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 17.19.30@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="发送测试消息">发送测试消息<a href="#发送测试消息" class="hash-link" aria-label="Direct link to 发送测试消息" title="Direct link to 发送测试消息">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661332849948-44c9aa3b-6fcb-42e8-8d07-91ad7dc1108b.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 17.20.13@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="group-管理-1">Group 管理<a href="#group-管理-1" class="hash-link" aria-label="Direct link to Group 管理" title="Direct link to Group 管理">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661332888749-197b7cd0-4db2-4324-a8be-523f6230e1d8.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 17.21.06@2x.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661332903130-4aa1572a-2191-4b9a-a7d8-da430d5b664a.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 17.21.36@2x.jpg" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="华为云">华为云<a href="#华为云" class="hash-link" aria-label="Direct link to 华为云" title="Direct link to 华为云">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="实例的创建">实例的创建<a href="#实例的创建" class="hash-link" aria-label="Direct link to 实例的创建" title="Direct link to 实例的创建">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661326023773-8c1cfb61-6d36-451a-9ae8-e23253d0630a.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.26.48@2x.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661326059316-df094fe7-237e-4aa3-b94c-be9015099325.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.27.28@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="实例基本信息">实例基本信息<a href="#实例基本信息" class="hash-link" aria-label="Direct link to 实例基本信息" title="Direct link to 实例基本信息">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661327087509-8db8e907-fc63-46b0-8df3-de9c03f05ec1.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.44.29@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="实例配置修改">实例配置修改<a href="#实例配置修改" class="hash-link" aria-label="Direct link to 实例配置修改" title="Direct link to 实例配置修改">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661326942939-93255eb4-0f4f-4d09-b4f7-c824fe2cdb7d.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.42.03@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="创建-topic">创建 Topic<a href="#创建-topic" class="hash-link" aria-label="Direct link to 创建 Topic" title="Direct link to 创建 Topic">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661326884381-03f190c8-7371-4ee3-8222-39cf0c78bb17.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.41.07@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="监控">监控<a href="#监控" class="hash-link" aria-label="Direct link to 监控" title="Direct link to 监控">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661326916095-08d2ad76-421b-481c-a81e-8bd6b402fea3.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.41.43@2x.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661326990347-ab2413fc-d1c5-4875-8026-408ba05c19e0.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.43.01@2x.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661327009996-7525be7c-31e7-4c94-9b88-9a9d6c06f6bb.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.43.16@2x.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661327029319-18496da6-1f6c-458e-9cc2-2841da4ae21b.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.43.40@2x.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661327041939-b6642928-ddb3-4f6d-9cf6-f900ff0ba7ee.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.43.56@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="示例代码">示例代码<a href="#示例代码" class="hash-link" aria-label="Direct link to 示例代码" title="Direct link to 示例代码">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661327057619-5dbb3d4b-d6b8-40ec-a528-8b87e6253d62.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.44.07@2x.jpg" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="qingcloud">QingCloud<a href="#qingcloud" class="hash-link" aria-label="Direct link to QingCloud" title="Direct link to QingCloud">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kafka-实例的创建">Kafka 实例的创建<a href="#kafka-实例的创建" class="hash-link" aria-label="Direct link to Kafka 实例的创建" title="Direct link to Kafka 实例的创建">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661327953531-4347c195-85b1-4284-90c9-71b2f658d20a.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.59.07@2x.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661327970196-df7533af-51b5-44c1-a3e6-dc53dd345165.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.59.23@2x.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661327978746-cde36af3-af9d-4818-a225-0435be7d8c70.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.59.33@2x.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661327989141-65ba9381-c39d-4df4-b35f-eb30c2c0f117.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.59.43@2x.jpg" class="img_ev3q"></p><blockquote><p>创建时，需要关联依赖服务 zookeeper</p></blockquote><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661327998858-3c6af065-aac1-4351-8e7a-3a72c803ee36.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 15.59.51@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="实例详情">实例详情<a href="#实例详情" class="hash-link" aria-label="Direct link to 实例详情" title="Direct link to 实例详情">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661328648427-68359d73-3397-4f51-a41e-72ff088aa1da.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 16.10.36@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="topic-管理-1">Topic 管理<a href="#topic-管理-1" class="hash-link" aria-label="Direct link to Topic 管理" title="Direct link to Topic 管理">​</a></h4><p>提供了原生的 Kafka-manager 管理 UI
<a href="https://docsv3.qingcloud.com/middware/kafka/manual/kafka_manager/kafka_manager_topic/" target="_blank" rel="noopener noreferrer">https://docsv3.qingcloud.com/middware/kafka/manual/kafka_manager/kafka_manager_topic/</a></p><p>访问方式，以 openvpn 的方式接入到 VPC(需绑定入口公网 IP) 后，通过 client 内网地址访问
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661335030256-d6d8f4ce-5450-4675-9887-d91bfc43261e.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 17.57.01@2x.jpg" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ucloud">UCloud<a href="#ucloud" class="hash-link" aria-label="Direct link to UCloud" title="Direct link to UCloud">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="创建实例">创建实例<a href="#创建实例" class="hash-link" aria-label="Direct link to 创建实例" title="Direct link to 创建实例">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661329936765-dc801f1f-b820-4346-8cd5-bd16f22c933b.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 16.32.07@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kafka-实例详情">Kafka 实例详情<a href="#kafka-实例详情" class="hash-link" aria-label="Direct link to Kafka 实例详情" title="Direct link to Kafka 实例详情">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661330180680-64f2f85d-65b1-429b-a9c2-0d4a3b7e7057.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 16.36.01@2x.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661330194590-e638d644-6d73-4008-9e73-fbd9386a739c.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 16.36.29@2x.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661330211435-8ac8d8e4-fa63-4151-a3c4-6cd85c346c2c.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 16.36.41@2x.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661330224056-a5b18cfb-21d8-44ab-aa10-2ec8b3225ad8.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 16.36.55@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kafka-节点的详情页面">Kafka 节点的详情页面<a href="#kafka-节点的详情页面" class="hash-link" aria-label="Direct link to Kafka 节点的详情页面" title="Direct link to Kafka 节点的详情页面">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661331042096-143c7a92-3189-4413-b0f8-59c2e6480eb4.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 16.50.34@2x.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661330392867-c7609d4a-72bd-45e6-b741-943c2c7711fd.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 16.39.28@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kafka-自定义配置">kafka 自定义配置<a href="#kafka-自定义配置" class="hash-link" aria-label="Direct link to kafka 自定义配置" title="Direct link to kafka 自定义配置">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661331022340-2de4f944-dd32-42ea-a0ab-538044f96ab7.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 16.50.13@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kafka-连接器">Kafka 连接器<a href="#kafka-连接器" class="hash-link" aria-label="Direct link to Kafka 连接器" title="Direct link to Kafka 连接器">​</a></h4><p>将上游 Kafka 数据传输到 HDFS 或者 es
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661331196868-8af6eb6f-7690-49f8-83fa-f39297820c5f.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 16.53.11@2x.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661331184528-87b97468-042b-479b-9051-6a49838280a2.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 16.52.58@2x.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661331174214-c2788e65-e3a2-4080-b275-73b30ac6ed3c.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 16.52.43@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="监控看板">监控看板<a href="#监控看板" class="hash-link" aria-label="Direct link to 监控看板" title="Direct link to 监控看板">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661330312396-375635d6-015b-447a-88c2-e5c2ad51de23.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 16.38.11@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="创建-topic-1">创建 Topic<a href="#创建-topic-1" class="hash-link" aria-label="Direct link to 创建 Topic" title="Direct link to 创建 Topic">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661331056766-ea9a2a74-12bd-482a-b77c-e375e9e0bb45.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 16.50.50@2x.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661330340573-54024fe3-75fe-4dfb-b322-a0f157e369bf.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 16.38.45@2x.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661331099713-b943c976-ca08-4769-a4dc-710c92d899a2.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 16.51.29@2x.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661331073008-7df8b7f5-b92b-41a2-8c7f-74cc29071bc8.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 16.51.05@2x.jpg" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="时速云">时速云<a href="#时速云" class="hash-link" aria-label="Direct link to 时速云" title="Direct link to 时速云">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="实例生命周期管理-1">实例生命周期管理<a href="#实例生命周期管理-1" class="hash-link" aria-label="Direct link to 实例生命周期管理" title="Direct link to 实例生命周期管理">​</a></h4><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661331586127-3cd1e00a-fbed-4454-aea2-14e3bf95c393.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 16.59.24@2x.jpg" class="img_ev3q"></p><ul><li>需要提前安装 zookeeper</li><li>需要联系时速云管理员安装 kafka-cluster-operator<ul><li>到交付中心，找到 Operator Hub，选择 Kafka-cluster-operator 安装</li><li>安装完成后，可通过 Yaml + 表单形式 创建 Kafka</li></ul></li><li>提供 Kafka manger 原生 UI 控制台</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kafka-实例详情-1">Kafka 实例详情<a href="#kafka-实例详情-1" class="hash-link" aria-label="Direct link to Kafka 实例详情" title="Direct link to Kafka 实例详情">​</a></h4><p>提供原生的实例管理界面，进行配置更新等
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661334983034-f068a1ae-ccda-40b7-9b12-40e64bde24cc.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 17.56.16@2x.jpg" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661334441012-bb78b74e-4c95-4679-a25b-52ace6645dd0.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 17.47.02@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kafka-实例下节点信息">Kafka 实例下节点信息<a href="#kafka-实例下节点信息" class="hash-link" aria-label="Direct link to Kafka 实例下节点信息" title="Direct link to Kafka 实例下节点信息">​</a></h4><p>直接跳转到 K8s 容器组界面查看
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661334844501-fd53ecb8-9194-477e-ba99-690950d32ac2.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 17.53.57@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="topic-管理-2">Topic 管理<a href="#topic-管理-2" class="hash-link" aria-label="Direct link to Topic 管理" title="Direct link to Topic 管理">​</a></h4><p>在 Kafka manger 原生 UI 控制台内管理，默认启用了控制台公网访问能力
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661335035163-a487b30d-6938-4cfb-88a7-5ebbf08a4d02.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 17.57.01@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="实例资源监控">实例资源监控<a href="#实例资源监控" class="hash-link" aria-label="Direct link to 实例资源监控" title="Direct link to 实例资源监控">​</a></h4><p>基础 CPU、内存、网络、存储监控
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661334944904-59442083-e24e-4776-8e4b-3683c27e279e.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 17.55.38@2x.jpg" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="kafka-性能监控">Kafka 性能监控<a href="#kafka-性能监控" class="hash-link" aria-label="Direct link to Kafka 性能监控" title="Direct link to Kafka 性能监控">​</a></h4><p>接入 Grafana 提供一个 Dashboard 的，可以查看 Topics 的消息数，消费量，积压数
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661334965612-08293584-95c6-4220-b4e5-dcdfe2db44e1.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 17.55.57@2x.jpg" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="调研对象操作视频录制">调研对象操作视频录制<a href="#调研对象操作视频录制" class="hash-link" aria-label="Direct link to 调研对象操作视频录制" title="Direct link to 调研对象操作视频录制">​</a></h2><p>操作视频已上传到 OneDrive 共享空间</p><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1661337926424-23d5d513-4080-4f36-af59-2bda413eb905.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="CleanShot 2022-08-24 at 18.45.08@2x.jpg" class="img_ev3q"></p><p><a href="https://yongyu2000hotmailcom.sharepoint.cn/:f:/s/ndx/EuCYqMaXhdlPh411YVnihRQBmCbGLQ4BvU1QW_2DX7_uUQ?e=18NyTR" target="_blank" rel="noopener noreferrer">https://yongyu2000hotmailcom.sharepoint.cn/:f:/s/ndx/EuCYqMaXhdlPh411YVnihRQBmCbGLQ4BvU1QW_2DX7_uUQ?e=18NyTR</a></p><blockquote><p>腾讯云只可以按月份订购，所以没有录制视频。</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="选型确认">选型确认<a href="#选型确认" class="hash-link" aria-label="Direct link to 选型确认" title="Direct link to 选型确认">​</a></h2><p>方案一：</p><ul><li>中间件实例 LCM + 三方 UI 管理工具</li></ul><p>实现：</p><ul><li>Kafka 实例 LCM</li><li>Kafka Manage UI (三方)</li><li>监控三件套 (Insight) <!-- -->[只需要做实例级别]</li></ul><p>方案比对：</p><ul><li>现有 Opeator 不带 Kafka Manger，需要自行处理</li><li>不需要关心 Topic LCM</li><li>不需要做业务监控</li><li>沿用现有的 DCE 中间件的设计思路</li></ul><p>方案二：</p><ul><li>不增加三方 Kafka Manage UI</li></ul><p>实现：</p><ul><li>Kafka 实例 LCM</li><li>Topic LCM</li><li>监控三件套 (Insight) <!-- -->[需要做实例 + 业务监控]</li></ul><p>方案对比：</p><ul><li>现有 Operator 带有 Topic CR，可以用</li><li>需要做业务监控</li><li>需要做 Topic LCM</li><li>与其他中间件模块定义不一致（当前阶段）</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/microservice">Microservice</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/kafka">Kafka</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/08/10/contour-xue-xi-bi-ji">Contour 学习笔记</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-08-10T00:00:00.000Z" itemprop="datePublished">August 10, 2022</time> · <!-- -->3 min read</div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contour-官方的资料">Contour 官方的资料<a href="#contour-官方的资料" class="hash-link" aria-label="Direct link to Contour 官方的资料" title="Direct link to Contour 官方的资料">​</a></h2><ul><li><a href="https://hackmd.io/84Xbl4WBTpm7OBhaOAsSiw" target="_blank" rel="noopener noreferrer">https://hackmd.io/84Xbl4WBTpm7OBhaOAsSiw</a>  Contour Community Meeting Notes</li><li><a href="https://www.youtube.com/watch?v=fpRzvQWiHjI&amp;list=PLk2K7YhXu5KtYU1UGEYNC8ApH5gsWihDJ" target="_blank" rel="noopener noreferrer">https://www.youtube.com/watch?v=fpRzvQWiHjI&amp;list=PLk2K7YhXu5KtYU1UGEYNC8ApH5gsWihDJ</a>  双周例会</li><li><a href="https://kubernetes.slack.com/archives/C8XRH2R4J" target="_blank" rel="noopener noreferrer">https://kubernetes.slack.com/archives/C8XRH2R4J</a>  Slack Chat Channel</li><li><a href="https://bitnami.com/stack/contour/helm" target="_blank" rel="noopener noreferrer">https://bitnami.com/stack/contour/helm</a>  Helm 部署 Contour 资料</li><li><a href="https://juejin.cn/post/7029286464802258974" target="_blank" rel="noopener noreferrer">https://juejin.cn/post/7029286464802258974</a>  Envoy Ingress：Contour 基本原理和源码分析<ul><li><a href="https://juejin.cn/user/3878732754069272" target="_blank" rel="noopener noreferrer">https://juejin.cn/user/3878732754069272</a> 掘金大佬</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="参考文档一使用-contour-接管-k8s-南北流量">参考文档一：使用 Contour 接管 K8s 南北流量<a href="#参考文档一使用-contour-接管-k8s-南北流量" class="hash-link" aria-label="Direct link to 参考文档一：使用 Contour 接管 K8s 南北流量" title="Direct link to 参考文档一：使用 Contour 接管 K8s 南北流量">​</a></h2><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1652658255610-3a38d8d3-2062-486b-a0b9-3b0a1d47dc5c.png?x-oss-process=image/resize,w_960,m_lfit" alt="image.png" class="img_ev3q">
容器公司 <a href="https://heptio.com/" target="_blank" rel="noopener noreferrer">Heptio</a> 开源的项目 <a href="https://github.com/heptio/contour" target="_blank" rel="noopener noreferrer">Contour</a> 使用 Envoy 作为 Kubernetes 的 Ingress Controller 实现。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="contour-的组成">Contour 的组成<a href="#contour-的组成" class="hash-link" aria-label="Direct link to Contour 的组成" title="Direct link to Contour 的组成">​</a></h3><p>Contour Ingress controller 由两个组件组成：</p><ul><li>Envoy : 提供高性能反向代理。</li><li>Contour : 充当 Envoy 的控制平面，为 Envoy 的路由配置提供统一的来源。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="contour-的部署方式">Contour 的部署方式<a href="#contour-的部署方式" class="hash-link" aria-label="Direct link to Contour 的部署方式" title="Direct link to Contour 的部署方式">​</a></h3><p>官方文档提供了三种部署方法：</p><ol><li>通过 DaemonSet 来部署，每个节点上跑一个 Contour 实例（Contour 与 Envoy 在同一个 Pod 中）。</li><li>通过 Deployment 来部署，总共跑两个 Contour 实例（Contour 与 Envoy 在同一个 Pod 中）。</li><li>通过 Deployment 来部署 Contour，总共跑两个 Contour 实例；通过 DaemonSet 来部署 Envoy，每个节点上跑一个 Envoy 实例。</li></ol><p>第三种方案比较巧妙，这样可以让 Contour 和 Envoy 这两个组件解耦，可以分别按需对不同的组件进行扩展，具体的优势如下：</p><ul><li>Envoy 以 Daemonset 的形式运行，具有很强的扩展性，后续可通过 ipvs 和 keepalived 等工具来实现其负载均衡和高可用。</li><li>Envoy 运行的网络模式是 hostNetwork，减少了额外的网络性能损耗。</li><li>Contour 与 Envoy 之间通过双向认证的自签名证书进行通信，大大增强了安全性。</li><li>升级 Contour 不需要重启 Envoy。</li></ul><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1652658571911-263003fa-2d88-47d9-9650-7929589a49c8.png?x-oss-process=image/resize,w_960,m_lfit" alt="image.png" class="img_ev3q"></p><blockquote><p>启动分析</p></blockquote><p>在 Envoy 的 Pod 初始化期间，Contour 作为 Init 容器运行，并将 bootstrap（初始化）配置写入一个 temporary volume。该 Volume 被传递给 Envoy 容器并告诉 Envoy 将另一个 Deployment 中的 Contour 容器视为控制平面。</p><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1652659925765-50a45ceb-22f8-44a9-8c48-34fa832cda3e.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="image" class="img_ev3q"></p><blockquote><p>Contour 会根据启动参数和 K8S API Server 中的配置信息生成 Envoy 的初始配置文件</p></blockquote><ol><li>Envoy initContainer 根据启动参数和 K8S API Server 中的配置信息生成 Envoy 的初始配置文件 envoy.json，该文件告诉 Envoy 从 xDS server 中获取动态配置信息，并配置了 xDS server 的地址信息，即控制平面的 Contour。</li><li>Envoy 使用配置文件 envoy.json 启动。</li><li>Envoy 根据获取到的动态配置启动 Listener，并根据 Listener 的配置，结合 Route 和 Cluster 对进入的流量进行处理。</li></ol><p>Contour 作为 Envoy 的 initContainer</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="参考文档-二contour-中-envoy-优雅停服的实现与源码分析">参考文档 二：Contour 中 Envoy 优雅停服的实现与源码分析<a href="#参考文档-二contour-中-envoy-优雅停服的实现与源码分析" class="hash-link" aria-label="Direct link to 参考文档 二：Contour 中 Envoy 优雅停服的实现与源码分析" title="Direct link to 参考文档 二：Contour 中 Envoy 优雅停服的实现与源码分析">​</a></h2></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/microservice">Microservice</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/07/22/contour-envoy-zhi-biao">Contour和Envoy指标介绍</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-07-22T00:00:00.000Z" itemprop="datePublished">July 22, 2022</time> · <!-- -->4 min read</div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contour--envoy-指标">Contour &amp; Envoy 指标<a href="#contour--envoy-指标" class="hash-link" aria-label="Direct link to Contour &amp; Envoy 指标" title="Direct link to Contour &amp; Envoy 指标">​</a></h2><p>本文档内容与Contour与 Envoy 的metrics相关, 据Contour与envoy的官网内容并参考源码、第三方blog等汇总而成. 因为 Contour 指标较少, 所以在文中全部列出,且个人主观的将其暂分为:必须与可选的； 在envoy中 metrics被称为stats 通过管理接口向公众暴露,因其指标过多,所以按官方建议只选取Cluster与HCM相关指标,并只抽取个人认为比较重要且现阶段需要的指标列出,如需要相看详情,请点击相应链接.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contour-指标">Contour 指标<a href="#contour-指标" class="hash-link" aria-label="Direct link to Contour 指标" title="Direct link to Contour 指标">​</a></h2><table><thead><tr><th>Required</th><th>Name</th><th>Type</th><th>Description</th><th></th></tr></thead><tbody><tr><td>YES</td><td>contour<!-- -->_<!-- -->build<!-- -->_<!-- -->info</td><td>Gauge</td><td>branch, revision, version</td><td></td></tr><tr><td>NO</td><td>contour<!-- -->_<!-- -->cachehandler<!-- -->_<!-- -->onupdate<!-- -->_<!-- -->duration<!-- -->_<!-- -->seconds</td><td>Summary</td><td>Histogram for the runtime of xDS cache regeneration.</td><td></td></tr><tr><td>YES</td><td>contour<!-- -->_<!-- -->dagrebuild<!-- -->_<!-- -->timestamp</td><td>Gauge</td><td>Timestamp of the last DAG rebuild.</td><td></td></tr><tr><td>NO</td><td>contour<!-- -->_<!-- -->dagrebuild<!-- -->_<!-- -->total</td><td>Counter</td><td>Total number of times DAG has been rebuilt since startup</td><td></td></tr><tr><td>YES</td><td>contour<!-- -->_<!-- -->eventhandler<!-- -->_<!-- -->operation<!-- -->_<!-- -->total</td><td>Counter</td><td>Total number of Kubernetes object changes Contour has received by operation and object kind.</td><td></td></tr><tr><td>YES</td><td>contour<!-- -->_<!-- -->httpproxy</td><td>Gauge</td><td>Total number of HTTPProxies that exist regardless of status.</td><td></td></tr><tr><td>NO</td><td>contour<!-- -->_<!-- -->httpproxy<!-- -->_<!-- -->invalid</td><td>Gauge</td><td>Total number of invalid HTTPProxies.</td><td></td></tr><tr><td>NO</td><td>contour<!-- -->_<!-- -->httpproxy<!-- -->_<!-- -->orphaned</td><td>Gauge</td><td>Total number of orphaned HTTPProxies which have no root delegating to them.</td><td></td></tr><tr><td>YES</td><td>contour<!-- -->_<!-- -->httpproxy<!-- -->_<!-- -->root</td><td>Gauge</td><td>Total number of root HTTPProxies. Note there will only be a single</td><td> </td></tr><tr><td> </td><td></td><td></td><td></td><td></td></tr><tr><td>YES</td><td>contour<!-- -->_<!-- -->httpproxy<!-- -->_<!-- -->valid</td><td>Gauge</td><td>Total number of valid HTTPProxies.</td><td></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="envoy-指标">Envoy 指标<a href="#envoy-指标" class="hash-link" aria-label="Direct link to Envoy 指标" title="Direct link to Envoy 指标">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cluster"><a href="https://www.envoyproxy.io/docs/envoy/latest/configuration/upstream/cluster_manager/cluster_stats#config-cluster-manager-cluster-stats" target="_blank" rel="noopener noreferrer">Cluster</a><a href="#cluster" class="hash-link" aria-label="Direct link to cluster" title="Direct link to cluster">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="general">General<a href="#general" class="hash-link" aria-label="Direct link to General" title="Direct link to General">​</a></h3><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>cluster<!-- -->_<!-- -->added/modified/removed/updated</td><td>Counter</td><td>Total clusters added / modified / removed / updated</td></tr><tr><td>active<!-- -->_<!-- -->clusters</td><td>Gauge</td><td>Number of currently active (warmed) clusters</td></tr><tr><td>upstream<!-- -->_<!-- -->cx<!-- -->_<!-- -->total</td><td>Counter</td><td>Total connections</td></tr><tr><td>upstream<!-- -->_<!-- -->cx<!-- -->_<!-- -->active</td><td>Gauge</td><td>Total active connections</td></tr><tr><td>upstream<!-- -->_<!-- -->cx<!-- -->_<!-- -->connect<!-- -->_<!-- -->fail</td><td>Counter</td><td>Total connection failures</td></tr><tr><td>upstream<!-- -->_<!-- -->cx<!-- -->_<!-- -->connect<!-- -->_<!-- -->timeout</td><td>Counter</td><td>Total connection connect timeouts</td></tr><tr><td>upstream<!-- -->_<!-- -->cx<!-- -->_<!-- -->connect<!-- -->_<!-- -->ms</td><td>Histogram</td><td>Connection establishment milliseconds</td></tr><tr><td>upstream<!-- -->_<!-- -->cx<!-- -->_<!-- -->rx<!-- -->_<!-- -->bytes<!-- -->_<!-- -->total</td><td>Counter</td><td>Total received connection bytes</td></tr><tr><td>upstream<!-- -->_<!-- -->cx<!-- -->_<!-- -->tx<!-- -->_<!-- -->bytes<!-- -->_<!-- -->total</td><td>Counter</td><td>Total sent connection bytes</td></tr><tr><td>upstream<!-- -->_<!-- -->rq<!-- -->_<!-- -->total</td><td>Counter</td><td>Total requests</td></tr><tr><td>upstream<!-- -->_<!-- -->rq<!-- -->_<!-- -->active Gauge</td><td>Total</td><td>active requests</td></tr><tr><td>upstream<!-- -->_<!-- -->rq<!-- -->_<!-- -->timeout</td><td>Counter</td><td>Total requests that timed out waiting for a response</td></tr><tr><td>upstream<!-- -->_<!-- -->rq<!-- -->_<!-- -->retry</td><td>Counter</td><td>Total request retries</td></tr><tr><td>upstream<!-- -->_<!-- -->rq<!-- -->_<!-- -->retry<!-- -->_<!-- -->success</td><td>Counter</td><td>Total request retry successes</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="request-response-size-statistics">Request Response Size statistics<a href="#request-response-size-statistics" class="hash-link" aria-label="Direct link to Request Response Size statistics" title="Direct link to Request Response Size statistics">​</a></h3><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>upstream<!-- -->_<!-- -->rq<!-- -->_<!-- -->headers<!-- -->_<!-- -->size</td><td>Histogram</td><td>Request headers size in bytes per upstream</td></tr><tr><td>upstream<!-- -->_<!-- -->rq<!-- -->_<!-- -->body<!-- -->_<!-- -->size</td><td>Histogram</td><td>Request body size in bytes per upstream</td></tr><tr><td>upstream<!-- -->_<!-- -->rs<!-- -->_<!-- -->headers<!-- -->_<!-- -->size</td><td>Histogram</td><td>Response headers size in bytes per upstream</td></tr><tr><td>upstream<!-- -->_<!-- -->rs<!-- -->_<!-- -->body<!-- -->_<!-- -->size</td><td>Histogram</td><td>Response body size in bytes per upstream</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hcm"><a href="https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_conn_man/stats#statistics" target="_blank" rel="noopener noreferrer">HCM</a><a href="#hcm" class="hash-link" aria-label="Direct link to hcm" title="Direct link to hcm">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="general-1"><a href="https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_conn_man/stats#statistics" target="_blank" rel="noopener noreferrer">General</a><a href="#general-1" class="hash-link" aria-label="Direct link to general-1" title="Direct link to general-1">​</a></h3><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>downstream<!-- -->_<!-- -->cx<!-- -->_<!-- -->total</td><td>Counter</td><td>Total connections</td></tr><tr><td>downstream<!-- -->_<!-- -->cx<!-- -->_<!-- -->active</td><td>Gauge</td><td>Total active connections</td></tr><tr><td>downstream<!-- -->_<!-- -->cx<!-- -->_<!-- -->rx<!-- -->_<!-- -->bytes<!-- -->_<!-- -->total</td><td>Counter</td><td>Total bytes received</td></tr><tr><td>downstream<!-- -->_<!-- -->cx<!-- -->_<!-- -->tx<!-- -->_<!-- -->bytes<!-- -->_<!-- -->total</td><td>Counter</td><td>Total bytes sent</td></tr><tr><td>downstream<!-- -->_<!-- -->rq<!-- -->_<!-- -->total</td><td>Counter</td><td>Total requests</td></tr><tr><td>downstream<!-- -->_<!-- -->rq<!-- -->_<!-- -->active</td><td>Gauge</td><td>Total active requests</td></tr><tr><td>downstream<!-- -->_<!-- -->rq<!-- -->_<!-- -->1/2/3/4/5xx</td><td>Counter</td><td>Total 1/2/3/4/5xx responses</td></tr><tr><td>downstream<!-- -->_<!-- -->rq<!-- -->_<!-- -->completed</td><td>Counter</td><td>Total requests that resulted in a response (e.g. does not include aborted requests)</td></tr><tr><td>downstream<!-- -->_<!-- -->rq<!-- -->_<!-- -->time</td><td>Histogram</td><td>Total time for request and response (milliseconds)</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="per-user-agent-statistics"><a href="https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_conn_man/stats#per-user-agent-statistics" target="_blank" rel="noopener noreferrer">Per user agent statistics</a><a href="#per-user-agent-statistics" class="hash-link" aria-label="Direct link to per-user-agent-statistics" title="Direct link to per-user-agent-statistics">​</a></h3><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>downstream<!-- -->_<!-- -->cx<!-- -->_<!-- -->total</td><td>Counter</td><td>Total connections</td></tr><tr><td>downstream<!-- -->_<!-- -->rq<!-- -->_<!-- -->total</td><td>Counter</td><td>Total requests</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http-per-listener-statistics"><a href="https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_conn_man/stats#http-per-listener-statistics" target="_blank" rel="noopener noreferrer">HTTP per listener statistics¶</a><a href="#http-per-listener-statistics" class="hash-link" aria-label="Direct link to http-per-listener-statistics" title="Direct link to http-per-listener-statistics">​</a></h3><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>downstream<!-- -->_<!-- -->rq<!-- -->_<!-- -->completed</td><td>Counter</td><td>Total responses</td></tr><tr><td>downstream<!-- -->_<!-- -->rq<!-- -->_<!-- -->1/2/3/4/5xx</td><td>Counter</td><td>Total 1/2/3/4/5xx responses</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracing-statistics"><a href="https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_conn_man/stats#tracing-statistics" target="_blank" rel="noopener noreferrer">Tracing statistics</a><a href="#tracing-statistics" class="hash-link" aria-label="Direct link to tracing-statistics" title="Direct link to tracing-statistics">​</a></h3><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>random<!-- -->_<!-- -->sampling</td><td>Counter</td><td>Total number of traceable decisions by random sampling</td></tr><tr><td>service<!-- -->_<!-- -->forced</td><td>Counter</td><td>Total number of traceable decisions by server runtime flag tracing.global<!-- -->_<!-- -->enabled</td></tr><tr><td>client<!-- -->_<!-- -->enabled</td><td>Counter</td><td>Total number of traceable decisions by request header x-envoy-force-trace</td></tr><tr><td>not<!-- -->_<!-- -->traceable</td><td>Counter</td><td>Total number of non-traceable decisions by request id</td></tr><tr><td>health<!-- -->_<!-- -->check</td><td>Counter</td><td>Total number of non-traceable decisions by health check</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="参考">参考<a href="#参考" class="hash-link" aria-label="Direct link to 参考" title="Direct link to 参考">​</a></h2><ul><li><a href="https://projectcontour.io/guides/prometheus/" target="_blank" rel="noopener noreferrer">Collecting Metrics with Prometheus</a></li><li><a href="https://www.envoyproxy.io/docs/envoy/latest/configuration/upstream/cluster_manager/cluster_stats#config-cluster-manager-cluster-stats" target="_blank" rel="noopener noreferrer">Cluster Stats</a></li><li><a href="https://www.envoyproxy.io/docs/envoy/latest/configuration/http/http_conn_man/stats#statistics" target="_blank" rel="noopener noreferrer">HTTP Stats</a></li><li><a href="https://prometheus.io/docs/concepts/metric_types/#Counter" target="_blank" rel="noopener noreferrer">Counter</a></li><li><a href="https://prometheus.io/docs/concepts/metric_types/#Gauge" target="_blank" rel="noopener noreferrer">Gauge</a></li><li><a href="https://prometheus.io/docs/concepts/metric_types/#Summary" target="_blank" rel="noopener noreferrer">Summary</a></li></ul><hr><p>关于监控指标的问题答疑：</p><ul><li>实时 启动之后一直有的</li><li>时间范围的数据</li><li>数据统计维度<ul><li>contour httpproxy count</li><li>envoy request count</li><li>httpproxy -&gt; route -&gt; request info summary</li></ul></li><li>现阶段暂时未接入 prom，需要考虑如何处理，接入后会联动到 grafana，这部分跟 insight 怎么处理</li><li>告警怎么做？拿到了数据指标之后怎么处理</li></ul><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/image-20221120000945266.png?x-oss-process=image/resize,w_960,m_lfit" alt="image-20221120000945266" class="img_ev3q"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/microservice">Microservice</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/06/18/httpproxy-api-chuang-jian">HTTPProxy API 创建</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-06-18T00:00:00.000Z" itemprop="datePublished">June 18, 2022</time> · <!-- -->One min read</div></header><div class="markdown" itemprop="articleBody"><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1656143430499-95313685-6fdf-48ec-a0e8-e3042caaf042.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="image" class="img_ev3q"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/microservice">Microservice</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/05/11/contour-she-ji-li-nian">Contour 设计理念</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-05-11T00:00:00.000Z" itemprop="datePublished">May 11, 2022</time> · <!-- -->5 min read</div></header><div class="markdown" itemprop="articleBody"><p>Contour 是一个第 7 层 <strong>HTTP</strong> 中间件反向代理，用于启用 Kubernetes 集群的入口。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="没有目标">没有目标<a href="#没有目标" class="hash-link" aria-label="Direct link to 没有目标" title="Direct link to 没有目标">​</a></h2><ul><li>Contour 不是服务网格</li><li>Contour 也无意公开 Envoy 的所有功能或配置选项</li><li>Contour 不适用于代理第 4 层协议，例如 TCP 或 UDP，除非它们需要传递 HTTP。</li></ul><blockquote><p>因此，TCP 代理是可用的，但希望代理用于通过 HTTPS。将来可能会添加一些 UDP 支持，以便我们可以支持使用 UDP 作为传输的 QUIC。使用 Contour 代理原始 TCP 或 UDP 流量可能有效，但不是预期用途</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="最终用户">最终用户<a href="#最终用户" class="hash-link" aria-label="Direct link to 最终用户" title="Direct link to 最终用户">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="集群管理员">集群管理员<a href="#集群管理员" class="hash-link" aria-label="Direct link to 集群管理员" title="Direct link to 集群管理员">​</a></h3><p>集群管理员负责 Kubernetes 集群的运行状况和运行。他们负责与外部世界的连接、TLS 秘密管理和 DNS 等。他们负责安装 Contour 和 Envoy、这些应用程序的软件生命周期以及 Contour 应用程序配置</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="应用程序开发人员">应用程序开发人员<a href="#应用程序开发人员" class="hash-link" aria-label="Direct link to 应用程序开发人员" title="Direct link to 应用程序开发人员">​</a></h3><p>应用程序开发人员是希望在 Kubernetes 集群上部署 Web 应用程序或微服务工作负载的人，并且对集群的访问权限少于管理员。它们通过创建 Contour 可以理解的类型的 Kubernetes 对象与 Contour 进行交互，并且除了对这些对象的影响之外，它们与 Contour 本身没有交互。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="意见评价">意见/评价<a href="#意见评价" class="hash-link" aria-label="Direct link to 意见/评价" title="Direct link to 意见/评价">​</a></h2><p>Contour 是一个有着专一的项目。我们认为 Contour 的很大一部分价值在于它专精的方法。我们相信这种方式可以让我们编写更好的软件来满足维护者和用户的需求</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="合理的默认值">合理的默认值<a href="#合理的默认值" class="hash-link" aria-label="Direct link to 合理的默认值" title="Direct link to 合理的默认值">​</a></h3><p>互联网中的许多项目提供了广泛的配置范围。总的来说，这是一件好事。大多数项目都是由几乎没有机构来运营的。因此必须可以在运行时进行配置。然而，这种做法已经演变为 <strong>如果某些东西可以配置，那么它应该是可配置的。</strong></p><blockquote><p>Contour 的设计理念，尽可能使用 Envoy 的配置参数，不会过多的增加配置，而是根据实际需要的用户做出取舍。</p></blockquote><p>Contour 的立场是，当 Envoy 配置参数有合理的默认值时，Contour 将无条件地应用它。过去，我们通过无条件压缩 HTTP 响应主体、禁止 TLS/1.0、选择激进的密码套件等来使用此位置。
如果我们无法找到普遍接受的值，Contour 将为管理员或开发人员提供一种方法来提供他们选择的值作为最后的手段。在该项目的历史上，第二种情况很少发生。通常，由更改特定参数的愿望引发的讨论导致对 Contour 的使用方式有更深入的了解，否则不会发生这种情况。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="明确的功能范围定义">明确的功能范围定义<a href="#明确的功能范围定义" class="hash-link" aria-label="Direct link to 明确的功能范围定义" title="Direct link to 明确的功能范围定义">​</a></h2><p><strong>Kubernetes 集群上 HTTP 工作负载的反向代理实现</strong>。Contour 对 TCP 代理的有限支持仅用于 Contour 支持希望直接处理 TLS 的 Web 应用程序。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="应用程序开发人员或集群管理员可以支持每个功能">应用程序开发人员或集群管理员可以支持每个功能<a href="#应用程序开发人员或集群管理员可以支持每个功能" class="hash-link" aria-label="Direct link to 应用程序开发人员或集群管理员可以支持每个功能" title="Direct link to 应用程序开发人员或集群管理员可以支持每个功能">​</a></h3><p>对于我们添加的每个功能，我们都必须有一个问题的答案——最终用户能否在无需升级到 Contour 维护人员的情况下调试此功能中的故障？
如果涉及第三方组件，我们如何将应用程序开发人员连接到失败的组件，以使他们在无需我们调解的情况下彼此作为第一方知道对方？
这意味着我们更愿意避免添加客户无法自行调试的功能——即使是他们的系统出了问题。
在添加验证功能时，我们会在设计空间方面犯错，即使它不是最完整的，也要尽快给客户反馈；即，由 api 服务器强制执行的 CRD 验证优于对象上的状态字段。
在设计 Kubernetes 对象时，我们尝试将信息尽可能靠近需要它的对象公开。例如，我们将确保 HTTPProxy 对象具有状态条件，告诉创建它们的用户是否存在问题，而不仅仅是从 Contour 本身记录该信息。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="我们在用户所在的地方与他们会面">我们在用户所在的地方与他们会面<a href="#我们在用户所在的地方与他们会面" class="hash-link" aria-label="Direct link to 我们在用户所在的地方与他们会面" title="Direct link to 我们在用户所在的地方与他们会面">​</a></h3><p>Contour 目前支持 Ingress、HTTPproxy 和 Kubernetes Gateway API。我们不要求用户选择他们想要使用的入口 API，相反，我们会考虑为任何请求的类型提供支持，以满足任何地方的用户。
这个目标与最小表面积的目标相冲突，但我们意识到将我们所有的用户引导到仅在 Contour 中实现的 API 不利于他们的互操作性，并限制了我们的总目标市场。这个目标的想法是，我们会在新的入口类型可用时深思熟虑地考虑它们，如果我们认为这是一个好主意，就将它们添加进去。</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/microservice">Microservice</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/05/06/a-li-yun-yun-yuan-sheng-wang-guan">阿里云云原生网关</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-05-06T00:00:00.000Z" itemprop="datePublished">May 6, 2022</time> · <!-- -->One min read</div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="网关实例创建">网关实例创建<a href="#网关实例创建" class="hash-link" aria-label="Direct link to 网关实例创建" title="Direct link to 网关实例创建">​</a></h2><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1651751157994-b8bad510-7fef-48dc-ba3f-4e96ec9c6dbe.png?x-oss-process=image/resize,w_960,m_lfit" alt="image.png" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1651751173701-d1044f1f-21fb-441c-8cdc-a8ba41913007.png?x-oss-process=image/resize,w_960,m_lfit" alt="image.png" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="网关实例列表">网关实例列表<a href="#网关实例列表" class="hash-link" aria-label="Direct link to 网关实例列表" title="Direct link to 网关实例列表">​</a></h2><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1651751221116-d98942f3-f7eb-4244-8086-ede693eca03d.png?x-oss-process=image/resize,w_960,m_lfit" alt="image.png" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="网关实例详情">网关实例详情<a href="#网关实例详情" class="hash-link" aria-label="Direct link to 网关实例详情" title="Direct link to 网关实例详情">​</a></h2><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1651751326158-94a6461b-ff77-437b-857c-e1774a2e482c.png?x-oss-process=image/resize,w_960,m_lfit" alt="image.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="路由管理">路由管理<a href="#路由管理" class="hash-link" aria-label="Direct link to 路由管理" title="Direct link to 路由管理">​</a></h3><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1651751386156-58785fc8-8d40-4d24-8b2a-3414bd53291e.png?x-oss-process=image/resize,w_960,m_lfit" alt="image.png" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1651751449469-5d5eb436-96c5-4b85-ad53-6fba732eb89f.png?x-oss-process=image/resize,w_960,m_lfit" alt="image.png" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1651751401698-9b1809ca-57c0-4376-a2e5-d02e6ffbb2fa.png?x-oss-process=image/resize,w_960,m_lfit" alt="image.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="安全能力">安全能力<a href="#安全能力" class="hash-link" aria-label="Direct link to 安全能力" title="Direct link to 安全能力">​</a></h3><p>黑名单、白名单
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1651751516295-30c3ce1e-6400-4b89-92da-712db2d8a34e.png?x-oss-process=image/resize,w_960,m_lfit" alt="image.png" class="img_ev3q">
认证鉴权
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1651751537843-095ea821-7ffc-42b9-b04a-0ca2f48d3aee.png?x-oss-process=image/resize,w_960,m_lfit" alt="image.png" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="亮点功能">亮点功能<a href="#亮点功能" class="hash-link" aria-label="Direct link to 亮点功能" title="Direct link to 亮点功能">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="新手引导">新手引导<a href="#新手引导" class="hash-link" aria-label="Direct link to 新手引导" title="Direct link to 新手引导">​</a></h3><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1651751256171-49237364-fde0-484c-a00a-cd0b6cbdf525.png?x-oss-process=image/resize,w_960,m_lfit" alt="image.png" class="img_ev3q"></p><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1651751264690-58877025-fe7c-4439-bdfd-594a8bd0925d.png?x-oss-process=image/resize,w_960,m_lfit" alt="image.png" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1651751275224-a0019c3d-84c4-4c06-bc3e-256eb9095df1.png?x-oss-process=image/resize,w_960,m_lfit" alt="image.png" class="img_ev3q">
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1651751286625-cbcafb8b-d9dc-46fe-8817-78b31e99fb30.png?x-oss-process=image/resize,w_960,m_lfit" alt="image.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="监控看板细致">监控看板细致<a href="#监控看板细致" class="hash-link" aria-label="Direct link to 监控看板细致" title="Direct link to 监控看板细致">​</a></h3><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1651751708626-6e3ba807-52d0-4b12-8d87-ed60fb4af3cb.png?x-oss-process=image/resize,w_960,m_lfit" alt="image.png" class="img_ev3q"></p><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1651751732800-991894a3-1c2b-40be-9c3a-da2cfeecebca.png?x-oss-process=image/resize,w_960,m_lfit" alt="image.png" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="录屏存放处">录屏存放处<a href="#录屏存放处" class="hash-link" aria-label="Direct link to 录屏存放处" title="Direct link to 录屏存放处">​</a></h2><blockquote><p>仅 DaoCloud 可查看</p></blockquote></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/microservice">Microservice</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/05/06/teng-xun-yun-wei-fu-wu-wang-guan">腾讯云微服务网关</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-05-06T00:00:00.000Z" itemprop="datePublished">May 6, 2022</time> · <!-- -->One min read</div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="网关管理">网关管理<a href="#网关管理" class="hash-link" aria-label="Direct link to 网关管理" title="Direct link to 网关管理">​</a></h2><p>默认这里展示对应的网关列表，未提供网关的创建入口，需要依赖前序的网关应用创建；</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="imagepng"><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1651835188355-19fc2743-a4c8-4656-a5eb-ddda1c009412.png?x-oss-process=image/resize,w_960,m_lfit" alt="image.png" class="img_ev3q"><a href="#imagepng" class="hash-link" aria-label="Direct link to imagepng" title="Direct link to imagepng">​</a></h2><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>在 微服务的应用中心 进行网关创建</p></div></div><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1651835152102-06d0d818-2fa9-4de2-bc7c-8ff54598a977.png?x-oss-process=image/resize,w_960,m_lfit" alt="image.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="网关的创建过程">网关的创建过程<a href="#网关的创建过程" class="hash-link" aria-label="Direct link to 网关的创建过程" title="Direct link to 网关的创建过程">​</a></h3><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1651837425558-4d08bdb8-0b33-4d15-93f0-50d8f6aff20f.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="text" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="网关绑定的分组管理">网关绑定的分组管理<a href="#网关绑定的分组管理" class="hash-link" aria-label="Direct link to 网关绑定的分组管理" title="Direct link to 网关绑定的分组管理">​</a></h3><p>一个网关下可以创建多个分组，分别指向不同的 托管 API，根据访问的 Context 区分
<img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1651835588311-0c5f3792-dd31-4f1e-92da-1b50419eab32.png?x-oss-process=image/resize,w_960,m_lfit" alt="image.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="分组下的-api-管理">分组下的 API 管理<a href="#分组下的-api-管理" class="hash-link" aria-label="Direct link to 分组下的 API 管理" title="Direct link to 分组下的 API 管理">​</a></h3><ul><li>API 类型为：微服务 API，支持检测自动导入 API；也支持手工编辑</li><li>API 类型为：外部 API，仅支持支持手工编辑</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="插件管理">插件管理<a href="#插件管理" class="hash-link" aria-label="Direct link to 插件管理" title="Direct link to 插件管理">​</a></h2><ul><li>主要支持 2 类型 插件：<ul><li>Auth</li><li>转义 Tag &lt;特色&gt;</li></ul></li></ul><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1651835272534-895b305a-c811-4def-867c-7be69c7febd1.png?x-oss-process=image/resize,w_960,m_lfit" alt="image.png" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="网关监控">网关监控<a href="#网关监控" class="hash-link" aria-label="Direct link to 网关监控" title="Direct link to 网关监控">​</a></h2><p>监控部分均是自研，实现的内容也比较简单</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="基于网关的监控">基于网关的监控<a href="#基于网关的监控" class="hash-link" aria-label="Direct link to 基于网关的监控" title="Direct link to 基于网关的监控">​</a></h3><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1651836406548-7e7da58e-e9d8-424f-ac5e-d1d755793217.png?x-oss-process=image/resize,w_960,m_lfit" alt="image.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="基于-api-的统计监控">基于 API 的统计监控<a href="#基于-api-的统计监控" class="hash-link" aria-label="Direct link to 基于 API 的统计监控" title="Direct link to 基于 API 的统计监控">​</a></h3><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1651836565750-f2e14946-a137-4929-808c-096c61cebaf6.png?x-oss-process=image/resize,w_960,m_lfit" alt="image.png" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="录屏存放处">录屏存放处<a href="#录屏存放处" class="hash-link" aria-label="Direct link to 录屏存放处" title="Direct link to 录屏存放处">​</a></h2><blockquote><p>仅 DaoCloud 可查看</p></blockquote><p><a href="https://yongyu2000hotmailcom.sharepoint.cn/:f:/s/ndx/Emsrgwa4Z7xMsT4P8GMd31IB5p1zTy__gNKWn10_ynvvIQ?e=GFNejD" target="_blank" rel="noopener noreferrer">https://yongyu2000hotmailcom.sharepoint.cn/:f:/s/ndx/Emsrgwa4Z7xMsT4P8GMd31IB5p1zTy__gNKWn10_ynvvIQ?e=GFNejD</a></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/microservice">Microservice</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2022/01/03/apollo-ru-he-shi-xian-pei-zhi-re-fa-bu">Apollo 如何实现配置热发布</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-01-03T00:00:00.000Z" itemprop="datePublished">January 3, 2022</time> · <!-- -->4 min read</div></header><div class="markdown" itemprop="articleBody"><p>配置中心在微服务架构体系中是非常重要的基础设施服务，承担着分布式配置集中管理、配置热发布以及审计等重要的职责。本文主要探讨 Apollo 配置中心的配置热发布特性如何实现。</p><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1641235647447-4020ae67-bd11-4fde-bd75-930cd6bec2de.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="image" class="img_ev3q"></p><p>如上图所示，配置发布的主流程如下：</p><ul><li>（1）用户通过 Portal 向 AdminService 发布配置信息；</li><li>（2）AdminService 在配置发布后会往 ReleaseMessage 表插入一条消息记录；</li><li>（3）ConfigService 中包含了一个定时线程，该定时线程每秒扫描一次 ReleaseMessage 表，检查表中是否有新的消息记录；</li><li>（4）如果存在配置更新，ConfigService 就会通知所有的消息监听器；</li><li>（5）通知 Controller 会根据发布的配置信息通知对应的客户端；</li></ul><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1641235647465-f12e26b4-9ab7-496d-8a0a-227b36142f00.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="image" class="img_ev3q"></p><p>这里的配置更新推送其实并不是真正进行信息推送，而是通过长轮询来实现配置的更新。实际上并不是配置的更新推送，而是配置更新通知的推送，客户端拿到通知后需要进一步获取具体的变化的配置信息。</p><p>长轮询
（1）如果使用 Push 方式推送数据会有什么问题？</p><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1641235647464-e43d03b0-0814-4f71-b730-fae9a30058d3.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="image" class="img_ev3q"></p><p>服务端需要与客户端建立长连接，服务端有数据更新的时候可以进行数据推送，数据更新比较及时。但是服务端无法感知客户端的处理能力，可能会造成数据积压。另外集群情况下部分节点不在线会通知失败，等客户端又在线后需要进行补偿推送，节点还有可能存在扩容等各种情况。对于配置中心这种业务场景来说，通过 Push 方式实现数据推动显得复杂了。</p><p>（2）如果使用 Pull 方式拉取数据会有什么问题？</p><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1641235647430-bb402569-7dfe-4001-9084-286881bb78b7.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="image" class="img_ev3q"></p><p>Pull 模式主要是通过客户端主动向配置中心进行数据请求，拉取对应的配置信息。由于是客户端主动拉取，因此不会出现数据堆积的问题。但是数据如何去拉，什么时间去拉，拉的频率如何控制，这些都是问题。如果频率过高，而配置并未更新，那么就会对服务端造成不必要的连接压力。如果频率过低，那么配置更新就会存在延时的问题。因此同样不适合配置中心的业务场景。</p><p>（3）长轮询</p><p>客户端向配置中心进行请求，配置中心不会立即返回响应，而是会 hold 住这个请求直到指定时间超时后进行返回。如果没有配置变更，则返回 Http 状态码 304 给客户端。超时返回后，客户端将再次发起请求。</p><p>如果存在配置变更，将返回对应的 namespace 信息，客户端根据 namespace 信息获取对应的配置信息。
另外为了保证配置的有效性，客户端也会定时请求配置信息，防止配置更新可能出现的异常情况，是一种数据保证的兜底 fallback 机制。另外当获取到配置后，会同步到本地配置文件中。这样即便客户端与配置中心无法通信，客户端也可以从本地配置文件中获取配置信息。</p><p>那么问题来了，为什么不直接在长轮询的响应中直接回复配置信息呢？主要是由于本身已经存在了定时拉取配置的步骤，那么为了保证单一原则以及代码上的简洁以及复用。所以通过这种获取配置更新后再进行数据拉取的方式。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="apollo-客户端获取配置信息">Apollo 客户端获取配置信息<a href="#apollo-客户端获取配置信息" class="hash-link" aria-label="Direct link to Apollo 客户端获取配置信息" title="Direct link to Apollo 客户端获取配置信息">​</a></h3><p>我们一起看下客户端如何工作流程，如下图：</p><p><img loading="lazy" src="http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/1641235647471-53df92c4-4efc-424b-83a4-c99c9d103a47.jpeg?x-oss-process=image/resize,w_960,m_lfit" alt="image" class="img_ev3q"></p><ul><li>（1）ConfigServiceLocator：主要负责向 Eruka 注册中心获取 ConfigService 地址列表信息；</li><li>（2）RemoteConfigLongPollService：从 ConfigServiceLocator 获取到地址列表信息后，通过长轮询的方式获取配置变更信息；</li><li>（3）RemoteConfigReposity：从 ConfigService 获取变更的配置数据；</li><li>（4）LocalFileConfigReposity：把配置数据固化到本地，同时作为本地配置数据的来源；</li><li>（5）DefaultConfig：主要和业务方进行交互，提供配置获取方法，同时可以注册配置变更事件。</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/microservice">Microservice</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2017/03/06/HowTo-install-Zoomdata">HowTo install Zoomdata</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2017-03-06T09:44:47.000Z" itemprop="datePublished">March 6, 2017</time> · <!-- -->One min read</div></header><div class="markdown" itemprop="articleBody"><p>Zoomdata 是一个大数据可视化展示的工具，由 ZoomData 企业创建，是为数不多的同时支持移动端的数据分析公司，Zoomdata 的可视化可将大数据流转化为触屏友好的，艺术感十足的三维形态，Zoomdata 的定位是非 ETL(传统的提取、转换和加载的数据处理过程) 工具，Zoomdata 支持多种数据源，包括社交媒体等，其中应用最主流是大数据平台的展示工具，并且 Zoomdata 对 Cloudera Impala 做了很好的支持，所以我们做了 Zoomdata+Cloudera 技术实施。<sup id="fnref-1-1ac1ac"><a href="#fn-1-1ac1ac" class="footnote-ref">1</a></sup></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="系统要求"><strong>系统要求</strong><a href="#系统要求" class="hash-link" aria-label="Direct link to 系统要求" title="Direct link to 系统要求">​</a></h4><p>Zoomdata 最新版是 v2.4，支持常见主流的操作系统，并且有非常友好的安装帮助，但是 Zoomdata 不支持安装在 32 位的操作系统之上</p><table><thead><tr><th>biaoti</th><th>biaoti</th><th>baiiti</th></tr></thead><tbody><tr><td>list</td><td>file</td><td>china</td></tr><tr><td>letian</td><td>zhong</td><td>hongkong</td></tr></tbody></table><div class="footnotes"><hr><ol><li id="fn-1-1ac1ac">这是一个示意的文档<a href="#fnref-1-1ac1ac" class="footnote-backref">↩</a></li></ol></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/microservice">Microservice</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/tools">Tools</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2017/01/18/HowTo-Monitor-Tomcat-Head-Memory-for-Zabbix">HowTo Monitor Tomcat HeadMemory for Zabbix</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2017-01-18T23:28:44.000Z" itemprop="datePublished">January 18, 2017</time> · <!-- -->5 min read</div></header><div class="markdown" itemprop="articleBody"><p>最近项目上由于 BUG 问题导致 Tomcat 程序在运行过程中经常内存泄漏，而本身监控系统之中没有更好的检测到 Tomcat 堆空间 (Head Memory) 的使用情况导致报警频发，这篇文章主要讲述，如何在 Zabbix 之中调用 jmx 监控服务器上 Tomcat 堆空间的使用情况并增加对应报警功能。</p><blockquote><p>测试环境：
CentOS 6.8
Zabbix 2.4
Tomcat 7.0</p></blockquote><p>实验前提默认是各位已经安装 Zabbix Server 服务器，并且至少有一台 Zabbix agent 服务器正常监控。关于如何搭建 Zabbix 监控集群，会有专门文章描述。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="zabbix-java-gateway-的工作机制">zabbix-java-gateway 的工作机制<a href="#zabbix-java-gateway-的工作机制" class="hash-link" aria-label="Direct link to zabbix-java-gateway 的工作机制" title="Direct link to zabbix-java-gateway 的工作机制">​</a></h4><ul><li>首先我们需要配置我们的 Tomcat 服务启用监控服务，这个是默认不启用的</li><li>之后需要在 Zabbix 的管理页面添加对应 Tomcat 服务器的 jmx 监控接口</li><li>最后 zabbix 端会自动获取 zabbix-java-gateway 的数据并根据相应模板进行展
示</li><li>工作流：<!-- -->[Zabbix-Server]<!-- -->--&gt;(port:10053 on zabbix server)--&gt; <!-- -->[zabbix-java-gateway]<!-- --> --(port:12345 on tomcatserver)--&gt; <!-- -->[JMX enabled]</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-install-zabbix-java-gateway-on-zabbix-server">1. Install zabbix-java-gateway on Zabbix Server<a href="#1-install-zabbix-java-gateway-on-zabbix-server" class="hash-link" aria-label="Direct link to 1. Install zabbix-java-gateway on Zabbix Server" title="Direct link to 1. Install zabbix-java-gateway on Zabbix Server">​</a></h4><p>因为我的 zabbix 是使用 zabbix 2.4 官方源安装，所以只需要用 yum 在安装即可：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">[root@6 ~]# sudo  yum install -y zabbix-java-gateway</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果你没有官方源可能先安装该源，注意我的服务器 zabbix 版本是 2.4 如果你是不同的版本，请到[<a href="http://repo.zabbix.com/zabbix/" target="_blank" rel="noopener noreferrer">这里</a>] 查找对应版本。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 查看zabbix server版本</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[root@6 ~]# zabbix_server --version</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Zabbix server v2.4.8 (revision 59539) (20 April 2016)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Compilation time: May  4 2016 01:32:12</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在使用 yum 安装 zabbix-java-gateway 源时，会自动关联安装 openjdk，尽管这段程序没多大影响，如果你想保证系统 JAVA 环境不受到改变的话，可以在/etc/profile 文件最后，增加如下内容：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># add follows to the end</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export JAVA_HOME=/usr/java/default</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export PATH=$PATH:$JAVA_HOME/bin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">export CLASSPATH=.:$JAVA_HOME/jre/lib:$JAVA_HOME/lib:$JAVA_HOME/lib/tools.jar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-confiure-tomcat-host-with-enable-jmx">2. Confiure Tomcat host with enable jmx<a href="#2-confiure-tomcat-host-with-enable-jmx" class="hash-link" aria-label="Direct link to 2. Confiure Tomcat host with enable jmx" title="Direct link to 2. Confiure Tomcat host with enable jmx">​</a></h4><p>首先在$tomcatdir/bin/catalina.sh 文件开头处增加如下：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">#!/bin/sh</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">CATALINA_OPTS=&quot;-Dcom.sun.management.jmxremote \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-Dcom.sun.management.jmxremote.authenticate=false \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-Dcom.sun.management.jmxremote.ssl=false \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">-Dcom.sun.management.jmxremote.port=12345&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>然后，启动 Tomcat，你会发现多了一个 12345 端口，这就是 jmx 的监听端口，请保证 zabbix-java-gateway 可以访问到这台服务器。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">[root@6 ~]# /tomcat7/bin/startup.sh</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Starting Tomcat7:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Using CATALINA_BASE:   /tomcat7</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Using CATALINA_HOME:   /tomcat7</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Using CATALINA_TMPDIR: /tomcat7/temp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Using JRE_HOME:        /usr</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Using CLASSPATH:       /tomcat7/bin/bootstrap.jar:/tomcat7/bin/tomcat-juli.jar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Tomcat started.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[root@6 ~]# netstat -ntlp | grep 12345</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tcp  0      0 :::12345   :::*     LISTEN      8793/java</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[root@6 ~]#</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="fix-1---zabbix-agent-与-server-存在复杂网络环境">==<em>fix 1</em> == : zabbix agent 与 server 存在复杂网络环境<a href="#fix-1---zabbix-agent-与-server-存在复杂网络环境" class="hash-link" aria-label="Direct link to fix-1---zabbix-agent-与-server-存在复杂网络环境" title="Direct link to fix-1---zabbix-agent-与-server-存在复杂网络环境">​</a></h4><p>这里疏忽了 1 个问题，如果您的 zabbix server 与 agent 端之间有防火墙规则，而按照我上面的所述只是增加了 12345 这个端口，那么很可能，您在/var/log/zabbix/zabbix_java_gateway.log 中会看到“No route to host”的报错，这是因为 JMX 不光开启了 12345 端口，还开启了另外两个随机端口，而在获取监控数据时会使用到其中一个，这就导致了无法通过固定的防火墙规则来开放该端口。其实有另外一个替代方式来使该监听端口固定下来——使用 Tomcat 提供的额外组件 catalina-jmx-remote.jar，这个组件是需要另外下载的：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 查看当前Tomcat版本.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[root@6 bin]# ./catalina.sh version</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Using CATALINA_BASE:   /tomcat7</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Using CATALINA_HOME:   /tomcat7</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Using CATALINA_TMPDIR: /tomcat7/temp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Using JRE_HOME:        /usr</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Using CLASSPATH:       /tomcat7/bin/bootstrap.jar:/tomcat7/bin/tomcat-juli.jar</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Server version: Apache Tomcat/7.0.64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Server built:   Aug 19 2015 17:18:06 UTC</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Server number:  7.0.64.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">OS Name:        Linux</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">OS Version:     2.6.32-642.11.1.el6.x86_64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Architecture:   amd64</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">JVM Version:    1.8.0_111-b15</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">JVM Vendor:     Oracle Corporation</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 下载 catalina-jmx-remote.jar # 请注意下载版本不要高于当前tomcat版本.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">wget http://mirror.bit.edu.cn/apache/tomcat/tomcat-7/v7.0.57/bin/extras/catalina-jmx-remote.jar -O lib/catalina-jmx-remote.jar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>增加如下内容，在 conf/server.xml 中：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&lt;Listener className=&quot;org.apache.catalina.mbeans.JmxRemoteLifecycleListener&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          rmiRegistryPortPlatform=&quot;12345&quot; rmiServerPortPlatform=&quot;12346&quot; /&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>因为我们已经在conf/server.xml定义了rmiRegistryPortPlatform，所以要将bin/catalina.sh中CATALINA_OPTS的com.sun.management.jmxremote.port去掉，否则会因为jmxremote.port配置有优先级更高而导致配置失效。</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">CATALINA_OPTS=&quot;-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>完成之后，重启 tomcat 这时会发现 jmx 默认端口已经固定为 12345 何 12346，而 server 依然可以正常获取监控数据。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-configure-zabbix-server">3. Configure Zabbix Server<a href="#3-configure-zabbix-server" class="hash-link" aria-label="Direct link to 3. Configure Zabbix Server" title="Direct link to 3. Configure Zabbix Server">​</a></h4><p>首先需要修改 zabbix_server.conf 启用 zabbix-java-gateway，让 zabbix 可以检测到服务，修改如下：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">### Option: JavaGateway</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> #       IP address (or hostname) of Zabbix Java gateway.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> #       Only required if Java pollers are started.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> #</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> # Mandatory: no</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> # Default:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">JavaGateway=10.211.55.4 # 设置为你的zabbixsever IP</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">### Option: JavaGatewayPort</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Port that Zabbix Java gateway listens on</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Mandatory: no</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Range: 1024-32767</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Default</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> JavaGatewayPort=10053 # 设置服务端监听接口</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">### Option: StartJavaPollers</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Number of pre-forked instances of Java pollers</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Mandatory: no</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Range: 0-1000</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Default</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> StartJavaPollers=5 # 设置多线程启动</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>然后修改 zabbix<!-- -->_<!-- -->java<!-- -->_<!-- -->gateway.conf 配置如下：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">### Option: zabbix.listenIP</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># IP address to listen on</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Mandatory: no</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Default</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> LISTEN_IP=&quot;10.211.55.4&quot; # 配置监听IP</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">### Option: zabbix.listenPort</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Port to listen on</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Mandatory: no</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Range: 1024-32767</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Default</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> LISTEN_PORT=10053 # 配置监听端口</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">### Option: zabbix.pidFile</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Name of PID file</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># If omitted, Zabbix Java Gateway is started as a console application</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Mandatory: no</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Default</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># PID_FILE=</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> PID_FILE=&quot;/var/run/zabbix/zabbix_java.pid&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">### Option: zabbix.startPollers</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Number of worker threads to start</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">#</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Mandatory: no</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Range: 1-1000</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Default</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># 不能大于zabbix_server.conf的值，否则可能导致当连接Java gateway时没有多余的线程进行处理</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> START_POLLERS=5</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>最后启动启动 zabbix-java-gateway，并重启 zabbix-server</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[root@6 ~]# service zabbix-java-gateway start</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Starting zabbix java gateway:              [  OK  ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[root@6 ~]# service zabbix-server restart</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Stopping zabbix server:              [  OK  ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Starting zabbix server:              [  OK  ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>我在尝试重启发现一问题，zabbix-java-gateway 通过 service 命令管理 stop 不能删除 pid 文件导致服务无法启动，如果你也碰到，解决办法如下：</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[root@6 zabbix]# vim /etc/rc.d/init.d/zabbix-java-gateway</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># line 97, 注释修改为如下</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># kill `cat $PID_FILE` &amp;&amp; rm $PID_FILE</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        rm -f $PID_FILE</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="4-adding-jmx-host-on-zabbix-web-consloe">4. Adding jmx host on Zabbix Web consloe<a href="#4-adding-jmx-host-on-zabbix-web-consloe" class="hash-link" aria-label="Direct link to 4. Adding jmx host on Zabbix Web consloe" title="Direct link to 4. Adding jmx host on Zabbix Web consloe">​</a></h4><p>首先，上传 Template Tomcat Head Memory 模板，这个我做了一个简单的模板，只针对了堆内存空间的监控，并针对使用率超过 60% 以及 80%，不同的警报。需要的同学可以直接从我这里下载，然后在 Configuration-Templates 导入到 zabbix 模板库内。
下载请点击：<a href="https://samzong.oss-cn-shenzhen.aliyuncs.com/2016/12/zbx_template_app_tomcat_head_memory.xml" target="_blank" rel="noopener noreferrer">Template App Tomcat Head Memory</a></p><p>然后，增加服务器的 jmx 监控
<img loading="lazy" src="https://samzong.oss-cn-shenzhen.aliyuncs.com/2016/12/zabbix-jmx-settings.png" alt="image" class="img_ev3q"></p><p>关联模板
<img loading="lazy" src="https://samzong.oss-cn-shenzhen.aliyuncs.com/2016/12/zabbix-host-select-template.png" alt="image" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="5-view-the-head-memory-monitoring">5. View the Head Memory Monitoring<a href="#5-view-the-head-memory-monitoring" class="hash-link" aria-label="Direct link to 5. View the Head Memory Monitoring" title="Direct link to 5. View the Head Memory Monitoring">​</a></h4><p><img loading="lazy" src="https://samzong.oss-cn-shenzhen.aliyuncs.com/2016/12/zabbix-view-monitor.png" alt="image" class="img_ev3q"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/microservice">Microservice</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/tools">Tools</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div></div>
<script src="/assets/js/runtime~main.a4192aa2.js"></script>
<script src="/assets/js/main.be9b3ddb.js"></script>
</body>
</html>