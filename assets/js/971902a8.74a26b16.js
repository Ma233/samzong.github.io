"use strict";(self.webpackChunksamzong_me=self.webpackChunksamzong_me||[]).push([[88001],{3905:(a,e,t)=>{t.d(e,{Zo:()=>k,kt:()=>d});var l=t(67294);function n(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function s(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);e&&(l=l.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.push.apply(t,l)}return t}function r(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?s(Object(t),!0).forEach((function(e){n(a,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))}))}return a}function o(a,e){if(null==a)return{};var t,l,n=function(a,e){if(null==a)return{};var t,l,n={},s=Object.keys(a);for(l=0;l<s.length;l++)t=s[l],e.indexOf(t)>=0||(n[t]=a[t]);return n}(a,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);for(l=0;l<s.length;l++)t=s[l],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(a,t)&&(n[t]=a[t])}return n}var i=l.createContext({}),m=function(a){var e=l.useContext(i),t=e;return a&&(t="function"==typeof a?a(e):r(r({},e),a)),t},k=function(a){var e=m(a.components);return l.createElement(i.Provider,{value:e},a.children)},p="mdxType",c={inlineCode:"code",wrapper:function(a){var e=a.children;return l.createElement(l.Fragment,{},e)}},u=l.forwardRef((function(a,e){var t=a.components,n=a.mdxType,s=a.originalType,i=a.parentName,k=o(a,["components","mdxType","originalType","parentName"]),p=m(t),u=n,d=p["".concat(i,".").concat(u)]||p[u]||c[u]||s;return t?l.createElement(d,r(r({ref:e},k),{},{components:t})):l.createElement(d,r({ref:e},k))}));function d(a,e){var t=arguments,n=e&&e.mdxType;if("string"==typeof a||n){var s=t.length,r=new Array(s);r[0]=u;var o={};for(var i in e)hasOwnProperty.call(e,i)&&(o[i]=e[i]);o.originalType=a,o[p]="string"==typeof a?a:n,r[1]=o;for(var m=2;m<s;m++)r[m]=t[m];return l.createElement.apply(null,r)}return l.createElement.apply(null,t)}u.displayName="MDXCreateElement"},86106:(a,e,t)=>{t.r(e),t.d(e,{assets:()=>i,contentTitle:()=>r,default:()=>c,frontMatter:()=>s,metadata:()=>o,toc:()=>m});var l=t(87462),n=(t(67294),t(3905));const s={title:"DCE5-Skoala \u5b89\u88c5\u6559\u7a0b",tagline:"",description:"",category:"Mac",tags:["Mac","Raycast"],last_updated:null},r=void 0,o={permalink:"/2022/12/15/Skoala-Install-Dce5",source:"@site/blog/2022-12-15-Skoala-Install-Dce5.md",title:"DCE5-Skoala \u5b89\u88c5\u6559\u7a0b",description:"",date:"2022-12-15T00:00:00.000Z",formattedDate:"2022\u5e7412\u670815\u65e5",tags:[{label:"Mac",permalink:"/tags/mac"},{label:"Raycast",permalink:"/tags/raycast"}],readingTime:6.306666666666667,hasTruncateMarker:!1,authors:[],frontMatter:{title:"DCE5-Skoala \u5b89\u88c5\u6559\u7a0b",tagline:"",description:"",category:"Mac",tags:["Mac","Raycast"],last_updated:null},prevItem:{title:"Raycast \u4f60\u7684\u5e74\u5ea6\u62a5\u544a\u5df2\u5230\u8fbe",permalink:"/2022/12/16/raycast-01"},nextItem:{title:"\u4fdd\u59c6\u5f0f\u5b89\u88c5 DCE5.0",permalink:"/2022/12/06/dce5"}},i={authorsImageUrls:[]},m=[{value:"\u4f7f\u7528\u4e4b\u524d\u7684\u8bdd",id:"\u4f7f\u7528\u4e4b\u524d\u7684\u8bdd",level:2},{value:"\u5b89\u88c5\u5668 v0.3.28 \u53ca\u4e4b\u524d",id:"\u5b89\u88c5\u5668-v0328-\u53ca\u4e4b\u524d",level:3},{value:"\u5b89\u88c5\u5668 v0.3.29",id:"\u5b89\u88c5\u5668-v0329",level:3},{value:"\u5b89\u88c5\u524d\u7684\u68c0\u6d4b",id:"\u5b89\u88c5\u524d\u7684\u68c0\u6d4b",level:2},{value:"\u68c0\u6d4b skoala \u5b89\u88c5\u60c5\u51b5",id:"\u68c0\u6d4b-skoala-\u5b89\u88c5\u60c5\u51b5",level:3},{value:"2.2. \u4f9d\u8d56 common-mysql \u7684\u5b89\u88c5\u60c5\u51b5",id:"22-\u4f9d\u8d56-common-mysql-\u7684\u5b89\u88c5\u60c5\u51b5",level:3},{value:"\u5173\u4e8e\xa0insight-agent",id:"\u5173\u4e8einsight-agent",level:3},{value:"\u624b\u52a8\u5b89\u88c5\u8fc7\u7a0b",id:"\u624b\u52a8\u5b89\u88c5\u8fc7\u7a0b",level:2},{value:"\u521d\u59cb\u5316 \u6570\u636e\u5e93\u8868",id:"\u521d\u59cb\u5316-\u6570\u636e\u5e93\u8868",level:3},{value:"\u914d\u7f6e skoala helm repo",id:"\u914d\u7f6e-skoala-helm-repo",level:3},{value:"\u67e5\u770b skoala \u7ec4\u4ef6 \u6700\u65b0\u7248\u672c",id:"\u67e5\u770b-skoala-\u7ec4\u4ef6-\u6700\u65b0\u7248\u672c",level:3},{value:"3.4. \u6267\u884c\u90e8\u7f72\uff08\u540c\u6837\u9002\u7528\u4e8e\u5347\u7ea7\uff09",id:"34-\u6267\u884c\u90e8\u7f72\u540c\u6837\u9002\u7528\u4e8e\u5347\u7ea7",level:3},{value:"\u5378\u8f7d skoala",id:"\u5378\u8f7d-skoala",level:3},{value:"\u66f4\u65b0 skoala",id:"\u66f4\u65b0-skoala",level:3},{value:"\u66f4\u591a\u53c2\u6570\u7684\u914d\u7f6e",id:"\u66f4\u591a\u53c2\u6570\u7684\u914d\u7f6e",level:3},{value:"3.8. \xa0\u5b89\u88c5 skoala-init \u5230\u5de5\u4f5c\u96c6\u7fa4",id:"38-\u5b89\u88c5-skoala-init-\u5230\u5de5\u4f5c\u96c6\u7fa4",level:3}],k={toc:m},p="wrapper";function c(a){let{components:e,...t}=a;return(0,n.kt)(p,(0,l.Z)({},k,t,{components:e,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"\u4f7f\u7528\u4e4b\u524d\u7684\u8bdd"},"\u4f7f\u7528\u4e4b\u524d\u7684\u8bdd"),(0,n.kt)("p",null,"\u672c\u6559\u7a0b\u65e8\u5728\u8865\u5145\u9700\u8981\u624b\u5de5\u5b89\u88c5\u548c\u5347\u7ea7\u7684\u65b9\u5f0f\u3002"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"\u4f18\u5148\u901a\u8fc7\u5b89\u88c5\u5668\u8fdb\u884c\u5b89\u88c5\xa0",(0,n.kt)("a",{parentName:"strong",href:"https://docs.daocloud.io/install/intro/"},"https://docs.daocloud.io/install/intro/"),"\xa0\uff0c\u8bf7\u4ee5\u5b98\u65b9\u6559\u7a0b\u6587\u6863\u4e3a\u51c6\u3002")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"\u4f18\u5148\u901a\u8fc7\u5b89\u88c5\u5668\u8fdb\u884c\u5b89\u88c5\xa0",(0,n.kt)("a",{parentName:"strong",href:"https://docs.daocloud.io/install/intro/"},"https://docs.daocloud.io/install/intro/"),"\xa0\uff0c\u8bf7\u4ee5\u5b98\u65b9\u6559\u7a0b\u6587\u6863\u4e3a\u51c6\u3002")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"\u4f18\u5148\u901a\u8fc7\u5b89\u88c5\u5668\u8fdb\u884c\u5b89\u88c5\xa0",(0,n.kt)("a",{parentName:"strong",href:"https://docs.daocloud.io/install/intro/"},"https://docs.daocloud.io/install/intro/"),"\xa0\uff0c\u8bf7\u4ee5\u5b98\u65b9\u6559\u7a0b\u6587\u6863\u4e3a\u51c6\u3002"))),(0,n.kt)("h3",{id:"\u5b89\u88c5\u5668-v0328-\u53ca\u4e4b\u524d"},"\u5b89\u88c5\u5668 v0.3.28 \u53ca\u4e4b\u524d"),(0,n.kt)("p",null,"\u9ed8\u8ba4\u5b89\u88c5\u4e0d\u652f\u6301\uff1b\u5728\u5b89\u88c5\u89c4\u5212\u65f6\uff0c\u53ef\u4ee5\u4fee\u6539 ",(0,n.kt)("strong",{parentName:"p"},"mainfest.yaml")," \u5f00\u542f Skoala \u81ea\u52a8\u5b89\u88c5"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u68c0\u67e5\u9884\u88c5\u73af\u5883")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"./dce5-installer install-app -m /sample/manifest.yaml\n")),(0,n.kt)("h3",{id:"\u5b89\u88c5\u5668-v0329"},"\u5b89\u88c5\u5668 v0.3.29"),(0,n.kt)("p",null,"20222.12.15 \u5373\u5c06\u53d1\u7248\uff09\u652f\u6301\u9ed8\u8ba4\u5b89\u88c5 Skoala\uff1b\u4ecd\u65e7\u5efa\u8bae\u68c0\u67e5",(0,n.kt)("strong",{parentName:"p"},"mainfest.yaml")," \uff0c\u786e\u4fdd Skoala \u4f1a\u88ab\u5b89\u88c5\u5668\u5b89\u88c5\u3002"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"enable \u9700\u8981\u4e3a true\uff0c\u9700\u8981\u6307\u5b9a\u5bf9\u5e94\u7684 helmVersion\uff1a")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-yaml"},"...\ncomponents:\n  skoala:\n    enable: true\n    helmVersion: v0.12.2\n    variables:\n...\n")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"\u91cd\u8981\u7684\u8bdd\uff1a\u9ed8\u8ba4\u5b89\u88c5\u5668\u7248\u672c\u643a\u5e26\u7684\u662f\u5f53\u65f6\u6700\u65b0\u7ecf\u8fc7\u6d4b\u8bd5\u7684\u7248\u672c\uff1b\u5982\u65e0\u7279\u6b8a\u60c5\u51b5\uff0c\u4e0d\u5efa\u8bae\u66f4\u65b0\u9ed8\u8ba4\u7684 helm \u5b89\u88c5\u7248\u672c\u3002")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"\u91cd\u8981\u7684\u8bdd\uff1a\u9ed8\u8ba4\u5b89\u88c5\u5668\u7248\u672c\u643a\u5e26\u7684\u662f\u5f53\u65f6\u6700\u65b0\u7ecf\u8fc7\u6d4b\u8bd5\u7684\u7248\u672c\uff1b\u5982\u65e0\u7279\u6b8a\u60c5\u51b5\uff0c\u4e0d\u5efa\u8bae\u66f4\u65b0\u9ed8\u8ba4\u7684 helm \u5b89\u88c5\u7248\u672c\u3002")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"\u91cd\u8981\u7684\u8bdd\uff1a\u9ed8\u8ba4\u5b89\u88c5\u5668\u7248\u672c\u643a\u5e26\u7684\u662f\u5f53\u65f6\u6700\u65b0\u7ecf\u8fc7\u6d4b\u8bd5\u7684\u7248\u672c\uff1b\u5982\u65e0\u7279\u6b8a\u60c5\u51b5\uff0c\u4e0d\u5efa\u8bae\u66f4\u65b0\u9ed8\u8ba4\u7684 helm \u5b89\u88c5\u7248\u672c\u3002"))),(0,n.kt)("h2",{id:"\u5b89\u88c5\u524d\u7684\u68c0\u6d4b"},"\u5b89\u88c5\u524d\u7684\u68c0\u6d4b"),(0,n.kt)("h3",{id:"\u68c0\u6d4b-skoala-\u5b89\u88c5\u60c5\u51b5"},"\u68c0\u6d4b skoala \u5b89\u88c5\u60c5\u51b5"),(0,n.kt)("p",null,"\u67e5\u770b \u547d\u540d\u7a7a\u95f4\u4e3a skoala-system \u7684\u4e4b\u4e2d\u662f\u5426\u6709\u4ee5\u4e0b\u5bf9\u5e94\u7684\u8d44\u6e90\uff0c\u5982\u679c\u6ca1\u6709\u4efb\u4f55\u8d44\u6e90\uff0c\u8bf4\u660e Skoala \u7684\u786e\u6ca1\u6709\u5b89\u88c5\u3002"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"~ kubectl -n skoala-system get pods\nNAME                                   READY   STATUS    RESTARTS        AGE\nhive-8548cd9b59-948j2                  2/2     Running   2 (3h48m ago)   3h48m\nsesame-5955c878c6-jz8cd                2/2     Running   0               3h48m\nui-7c9f5b7b67-9rpzc                    2/2     Running   0               3h48m\n \n~ helm -n skoala-system list\nNAME        NAMESPACE       REVISION    UPDATED                                 STATUS      CHART               APP VERSION\nskoala      skoala-system   3           2022-12-16 11:17:35.187799553 +0800 CST deployed    skoala-0.13.0       0.13.0\n")),(0,n.kt)("h3",{id:"22-\u4f9d\u8d56-common-mysql-\u7684\u5b89\u88c5\u60c5\u51b5"},"2.2. \u4f9d\u8d56 common-mysql \u7684\u5b89\u88c5\u60c5\u51b5"),(0,n.kt)("p",null,"skoala \u5728\u5b89\u88c5\u65f6\u9700\u8981\u7528\u5230 mysql \u6765\u5b58\u50a8\u914d\u7f6e\uff0c\u6240\u4ee5\u5fc5\u987b\u8981\u4fdd\u8bc1\u6570\u636e\u5e93\u5b58\u5728\uff1b\u53e6\u5916\u67e5\u770b\u4e0b common-mysql \u662f\u5426\u6709 skoala \u8fd9\u4e2a\u6570\u636e\u5e93\u3002"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"~ kubectl -n mcamel-system get statefulset\nNAME                                          READY   AGE\nmcamel-common-mysql-cluster-mysql             2/2     7d23h\n")),(0,n.kt)("p",null,"\u5efa\u8bae\u7ed9\u5230 skoala \u7528\u5230\u7684\u6570\u636e\u5e93\u4fe1\u606f\u5982\u4e0b\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"host:\xa0mcamel-common-mysql-cluster-mysql-master.mcamel-system.svc.cluster.local"),(0,n.kt)("li",{parentName:"ul"},"port: 3306"),(0,n.kt)("li",{parentName:"ul"},"database : skoala"),(0,n.kt)("li",{parentName:"ul"},"user: skoala"),(0,n.kt)("li",{parentName:"ul"},"password:")),(0,n.kt)("h3",{id:"\u5173\u4e8einsight-agent"},"\u5173\u4e8e\xa0insight-agent"),(0,n.kt)("p",null,"Skoala \u6240\u6709\u7684\u76d1\u63a7\u7684\u4fe1\u606f\uff0c\u9700\u8981\u4f9d\u8d56 Insight \u7684\u80fd\u529b\uff0c\u5219\u9700\u8981\u5728\u96c6\u7fa4\u4e2d\u5b89\u88c5\u5bf9\u5e94\u7684 insight-agent\uff1b"),(0,n.kt)("img",{src:"http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/KEjgFX.jpg?x-oss-process=image/resize,w_960,m_lfit",alt:"resize,w_960,m_lfit"}),(0,n.kt)("p",null,"\u5bf9 Skoala \u7684\u5f71\u54cd\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u5982\u679c skoala-init \u5b89\u88c5\u65f6\u672a\u5148\u5b89\u88c5 insight-agent\uff0c\u4e0d\u4f1a\u5b89\u88c5 service-monitor"),(0,n.kt)("li",{parentName:"ul"},"\u5982\u679c\u9700\u8981\u5b89\u88c5 service-monitor\uff0c\u8bf7\u5148\u5b89\u88c5 insight-agent\uff0c\u518d\u5b89\u88c5 skoala-init")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u5982\u679c\u5148\u5b89\u88c5\u4e86 skoala-init, ",(0,n.kt)("strong",{parentName:"p"},"\u76ee\u524d\u9700\u8981\u5728\u5b89\u88c5 insight-agent \u540e\uff0c\u91cd\u88c5 skoala-init"))),(0,n.kt)("h2",{id:"\u624b\u52a8\u5b89\u88c5\u8fc7\u7a0b"},"\u624b\u52a8\u5b89\u88c5\u8fc7\u7a0b"),(0,n.kt)("h3",{id:"\u521d\u59cb\u5316-\u6570\u636e\u5e93\u8868"},"\u521d\u59cb\u5316 \u6570\u636e\u5e93\u8868"),(0,n.kt)("p",null,"\u5982\u679c\u5728 common-mysql \u5185\u7684 skoala \u6570\u636e\u5e93\u4e3a\u7a7a\uff0c\u8bf7\u767b\u5f55\u5230 skoala \u6570\u636e\u5e93\u540e\uff0c\u6267\u884c\u4ee5\u4e0b SQL\uff1a"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE `registry` (\n    `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,\n    `uid` varchar(32) DEFAULT NULL,\n    `name` varchar(50) NOT NULL,\n    `type` varchar(50) NOT NULL,\n    `addresses` varchar(1000) NOT NULL,\n    `namespaces` varchar(2000) NOT NULL,\n    `deleted_at` timestamp NULL COMMENT 'Time deteled',\n    `created_at` timestamp NOT NULL DEFAULT current_timestamp(),\n    `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n    PRIMARY KEY (`id`),\n    UNIQUE KEY `idx_uid` (`uid`),\n    UNIQUE KEY `idx_name` (`name`)\n    ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4;\n \nCREATE TABLE `book` (\n    `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,\n    `uid` varchar(32) DEFAULT NULL,\n    `name` varchar(50) NOT NULL,\n    `author` varchar(32) NOT NULL,\n    `status` int(1) DEFAULT 1 COMMENT '0:\u4e0b\u67b6\uff0c1:\u4e0a\u67b6',\n    `isPublished` tinyint(1) unsigned NOT NULL DEFAULT 1 COMMENT '0: unpublished, 1: published',\n    `publishedAt` timestamp NULL DEFAULT NULL COMMENT '\u51fa\u7248\u65f6\u95f4',\n    `deleted_at` timestamp NULL COMMENT 'Time deteled',\n    `createdAt` timestamp NOT NULL DEFAULT current_timestamp(),\n    `updatedAt` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n    PRIMARY KEY (`id`),\n    UNIQUE KEY `idx_uid` (`uid`),\n    UNIQUE KEY `idx_name` (`name`)\n    ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4;\n \nCREATE TABLE `api` (\n    `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,\n    `is_hosted` tinyint DEFAULT 0,\n    `registry` varchar(50) NOT NULL,\n    `service_name` varchar(200) NOT NULL,\n    `nacos_namespace` varchar(200) NOT NULL COMMENT 'Nacos namespace id',\n    `nacos_group_name` varchar(200) NOT NULL,\n    `data_type` varchar(100) NOT NULL COMMENT 'JSON or YAML.',\n    `detail` mediumtext NOT NULL,\n    `deleted_at` timestamp NULL COMMENT 'Time deteled',\n    `created_at` timestamp NOT NULL DEFAULT current_timestamp(),\n    `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),\n    PRIMARY KEY (`id`),\n    UNIQUE KEY `idx_registry_and_service_name` (`registry`, `service_name`)\n    ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4;\n \nINSERT INTO `book` VALUES (1,'book-init','MicroService Pattern','daocloud',1,1,'2022-03-23 13:50:00',null,now(),now());\n \nalter table registry add is_hosted tinyint default 0 not null after namespaces;\nalter table registry add workspace_id varchar(50) not null DEFAULT 'default' after uid;\nalter table registry add ext_id varchar(50) null after workspace_id;\n \ndrop index idx_name on registry;\ncreate unique index idx_name on registry (name, workspace_id);\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u5b8c\u6210\u4ee5\u4e0a\u64cd\u4f5c\uff0c\u4f1a\u5728 Skoala \u6570\u636e\u5e93\u5185\u6709 3 \u5f20\u8868\uff0c\u6ce8\u610f\u68c0\u6d4b\u5bf9\u5e94 SQL \u662f\u5426\u5168\u90e8\u662f\u751f\u6548\u3002")),(0,n.kt)("h3",{id:"\u914d\u7f6e-skoala-helm-repo"},"\u914d\u7f6e skoala helm repo"),(0,n.kt)("p",null,"\u914d\u7f6e\u597d skoala \u4ed3\u5e93\uff0c\u5373\u53ef\u67e5\u770b\u548c\u83b7\u53d6\u5230 skoala \u7684\u5e94\u7528 chart"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"~ helm repo add skoala-release https://release.daocloud.io/chartrepo/skoala\n~ helm repo update\n")),(0,n.kt)("img",{src:"http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/20221216185921.png?x-oss-process=image/resize,w_960,m_lfit",alt:"resize,w_960,m_lfit"}),(0,n.kt)("p",null,"\u91cd\u70b9\u5185\u5bb9\uff1a ** \u589e\u52a0\u5b8c\u6210\u540e Skoala-release \u4e4b\u540e\uff0c\u5e38\u7528\u9700\u8981\u5173\u6ce8\u7684\u6709 2 \u4e2a Chart\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Skoala\xa0 \xa0\u662f Skoala \u7684\u63a7\u5236\u7aef\u7684\u670d\u52a1\uff0c",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u7f51\u9875\u770b\u5230\u5fae\u670d\u52a1\u5f15\u64ce\u7684\u5165\u53e3")),(0,n.kt)("li",{parentName:"ul"},"\u5305\u542b 3 \u4e2a\u7ec4\u4ef6 ui\u3001hive\u3001sesame"),(0,n.kt)("li",{parentName:"ul"},"\u9700\u8981\u5b89\u88c5\u5728\u5168\u5c40\u7ba1\u7406\u96c6\u7fa4"))),(0,n.kt)("li",{parentName:"ul"},"Skoala-init \u662f Skoala \u6240\u6709\u7684\u7ec4\u4ef6 Operator",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"\u4ec5\u5b89\u88c5\u5230\u6307\u5b9a\u5de5\u4f5c\u96c6\u7fa4\u5373\u53ef")),(0,n.kt)("li",{parentName:"ul"},"\u5305\u542b\u7ec4\u4ef6\u6709\uff1askoala-agent, nacos, contour, sentinel"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"\u672a\u5b89\u88c5\u65f6\uff0c\u521b\u5efa\u6ce8\u518c\u4e2d\u5fc3\u548c\u7f51\u5173\u65f6\u4f1a\u63d0\u793a\u7f3a\u5c11\u7ec4\u4ef6"))))),(0,n.kt)("p",null,"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5b89\u88c5\u5b8c\u6210 skoala \u5230 kpanda-global-cluster(\u5168\u5c40\u7ba1\u7406\u96c6\u7fa4)\uff0c\u5c31\u53ef\u4ee5\u5728\u4fa7\u8fb9\u680f\u770b\u5230\u5bf9\u5e94\u7684\u5fae\u670d\u52a1\u5f15\u64ce\u7684\u5165\u53e3\u4e86\u3002"),(0,n.kt)("h3",{id:"\u67e5\u770b-skoala-\u7ec4\u4ef6-\u6700\u65b0\u7248\u672c"},"\u67e5\u770b skoala \u7ec4\u4ef6 \u6700\u65b0\u7248\u672c"),(0,n.kt)("p",null,"\u5728\u5168\u5c40\u7ba1\u7406\u96c6\u7fa4\uff0c\u67e5\u770b Skoala \u7684\u6700\u65b0\u7248\u672c\uff0c\u76f4\u63a5\u901a\u8fc7 helm repo \u6765\u66f4\u65b0\u83b7\u53d6\u6700\u65b0\u7684\uff1b"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"~ helm repo update skoala-release\n~ helm search repo skoala-release/skoala --versions\nNAME                        CHART VERSION   APP VERSION DESCRIPTION\nskoala-release/skoala       0.13.0          0.13.0      The helm chart for Skoala\nskoala-release/skoala       0.12.2          0.12.2      The helm chart for Skoala\nskoala-release/skoala       0.12.1          0.12.1      The helm chart for Skoala\nskoala-release/skoala       0.12.0          0.12.0      The helm chart for Skoala\n......\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u5728\u90e8\u7f72 skoala \u65f6\uff0c\u4f1a\u643a\u5e26\u5f53\u65f6\u6700\u65b0\u7684\u524d\u7aef\u7248\u672c\uff0c\u5982\u679c\u60f3\u8981\u6307\u5b9a\u524d\u7aef ui \u7684\u7248\u672c\uff0c\n\u53ef\u4ee5\u53bb\u770b\u524d\u7aef\u4ee3\u7801\u4ed3\u5e93\u83b7\u53d6\u5bf9\u5e94\u7684\u7248\u672c\u53f7\uff1a\xa0",(0,n.kt)("a",{parentName:"p",href:"https://gitlab.daocloud.cn/ndx/frontend-engineering/skoala-ui/-/tags"},"https://gitlab.daocloud.cn/ndx/frontend-engineering/skoala-ui/-/tags"))),(0,n.kt)("p",null,"\u5728\u5de5\u4f5c\u96c6\u7fa4\uff0c\u67e5\u770b Skoala-init \u7684\u6700\u65b0\u7248\u672c\uff0c\u76f4\u63a5\u901a\u8fc7 helm repo \u6765\u66f4\u65b0\u83b7\u53d6\u6700\u65b0\u7684"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"~ helm repo update skoala-release\n~ helm search repo skoala-release/skoala-init --versions\nNAME                        CHART VERSION   APP VERSION DESCRIPTION\nskoala-release/skoala-init  0.13.0          0.13.0      A Helm Chart for Skoala init, it includes Skoal...\nskoala-release/skoala-init  0.12.2          0.12.2      A Helm Chart for Skoala init, it includes Skoal...\nskoala-release/skoala-init  0.12.1          0.12.1      A Helm Chart for Skoala init, it includes Skoal...\nskoala-release/skoala-init  0.12.0          0.12.0      A Helm Chart for Skoala init, it includes Skoal...\n......\n")),(0,n.kt)("h3",{id:"34-\u6267\u884c\u90e8\u7f72\u540c\u6837\u9002\u7528\u4e8e\u5347\u7ea7"},"3.4. \u6267\u884c\u90e8\u7f72\uff08\u540c\u6837\u9002\u7528\u4e8e\u5347\u7ea7\uff09"),(0,n.kt)("p",null,"\u76f4\u63a5\u6267\u884c\u547d\u4ee4\u5373\u53ef\uff0c\u6ce8\u610f\u5bf9\u5e94\u7684\u7248\u672c\u53f7"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"~ helm upgrade --install skoala --create-namespace -n skoala-system --cleanup-on-fail \\\n    --set ui.image.tag=v0.9.0 \\\n    --set sweet.enable=true \\\n    --set hive.configMap.data.database.host=mcamel-common-mysql-cluster-mysql-master.mcamel-system.svc.cluster.local \\\n    --set hive.configMap.data.database.port=3306 \\\n    --set hive.configMap.data.database.user=root \\\n    --set hive.configMap.data.database.password=xxxxxxxx \\\n    --set hive.configMap.data.database.database=skoala \\\n    skoala-release/skoala \\\n    --version 0.13.0\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u81ea\u5b9a\u4e49\u5e76\u521d\u59cb\u5316\u6570\u636e\u5e93\u53c2\u6570\uff1b\u9700\u8981\u5c06\u6570\u636e\u5e93\u4fe1\u606f\u505a\u914d\u7f6e\u6dfb\u52a0\u8fdb\u53bb",(0,n.kt)("br",{parentName:"p"}),"\n","--set sweet.enable=true \\\n--set hive.configMap.data.database.host= \\",(0,n.kt)("br",{parentName:"p"}),"\n","--set hive.configMap.data.database.port= \\",(0,n.kt)("br",{parentName:"p"}),"\n","--set hive.configMap.data.database.user= \\\n--set hive.configMap.data.database.password= \\",(0,n.kt)("br",{parentName:"p"}),"\n","--set hive.configMap.data.database.database= \\"),(0,n.kt)("p",{parentName:"blockquote"},"\u81ea\u5b9a\u4e49\u524d\u7aef ui \u7248\u672c\nui.image.tag=v0.9.0")),(0,n.kt)("p",null,"\u67e5\u770b\u90e8\u7f72\u7684 pod \u662f\u5426\u542f\u52a8\u6210\u529f"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"~ kubectl -n skoala-system get pods\nNAME                                   READY   STATUS    RESTARTS        AGE\nhive-8548cd9b59-948j2                  2/2     Running   2 (3h48m ago)   3h48m\nsesame-5955c878c6-jz8cd                2/2     Running   0               3h48m\nui-7c9f5b7b67-9rpzc                    2/2     Running   0               3h48m\n")),(0,n.kt)("h3",{id:"\u5378\u8f7d-skoala"},"\u5378\u8f7d skoala"),(0,n.kt)("p",null,"\u8fd9\u4e00\u6b65\u9aa4\u5378\u8f7d\uff0c\u4f1a\u628a skoala\xa0\u76f8\u5173\u7684\u8d44\u6e90\u5220\u9664\u3002"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"~ helm uninstall skoala -n skoala-system\n")),(0,n.kt)("h3",{id:"\u66f4\u65b0-skoala"},"\u66f4\u65b0 skoala"),(0,n.kt)("p",null,"\u66f4\u65b0\u64cd\u4f5c\u540c 3.4 \u90e8\u7f72\uff0c\u4f7f\u7528 helm upgrade \u6307\u5b9a\u65b0\u7248\u672c\u5373\u53ef"),(0,n.kt)("h3",{id:"\u66f4\u591a\u53c2\u6570\u7684\u914d\u7f6e"},"\u66f4\u591a\u53c2\u6570\u7684\u914d\u7f6e"),(0,n.kt)("p",null,"\u8bf7\u67e5\u770b Skoala \u4ee3\u7801\u4ed3\u5e93\xa0",(0,n.kt)("a",{parentName:"p",href:"https://gitlab.daocloud.cn/ndx/skoala/-/tree/main/build/charts/skoala"},"https://gitlab.daocloud.cn/ndx/skoala/-/tree/main/build/charts/skoala")),(0,n.kt)("h3",{id:"38-\u5b89\u88c5-skoala-init-\u5230\u5de5\u4f5c\u96c6\u7fa4"},"3.8. \xa0\u5b89\u88c5 skoala-init \u5230\u5de5\u4f5c\u96c6\u7fa4"),(0,n.kt)("p",null,"\u7531\u4e8e Skoala \u6d89\u53ca\u7684\u7ec4\u4ef6\u8f83\u591a\uff0c\u6211\u4eec\u5c06\u8fd9\u4e9b\u7ec4\u4ef6\u6253\u5305\u5230\u540c\u4e00\u4e2a Chart \u5185\uff0c\u4e5f\u5c31\u662f skoala-init\uff0c\u6240\u4ee5\u6211\u4eec\u5e94\u8be5\u5728\u7528\u5230\u5fae\u670d\u52a1\u5f15\u64ce\u7684\u5de5\u4f5c\u96c6\u7fa4\u5b89\u88c5\u597d skoala-init"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"~  helm search repo skoala-release/skoala-init --versions\nNAME                        CHART VERSION   APP VERSION DESCRIPTION\nskoala-release/skoala-init  0.13.0          0.13.0      A Helm Chart for Skoala init, it includes Skoal...\nskoala-release/skoala-init  0.12.2          0.12.2      A Helm Chart for Skoala init, it includes Skoal...\nskoala-release/skoala-init  0.12.1          0.12.1      A Helm Chart for Skoala init, it includes Skoal...\nskoala-release/skoala-init  0.12.0          0.12.0      A Helm Chart for Skoala init, it includes Skoal...\n......\n")),(0,n.kt)("p",null,"\u5b89\u88c5\u547d\u4ee4\uff0c\u540c\u66f4\u65b0; \u786e\u8ba4\u9700\u8981\u5b89\u88c5\u5230\u6307\u5b9a\u7684\u547d\u540d\u7a7a\u95f4\uff0c\u786e\u8ba4\u770b\u5230\u5168\u90e8 Pod \u542f\u52a8\u6210\u529f\u3002"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"~ helm upgrade --install skoala-init --create-namespace -n skoala-system --cleanup-on-fail \\\n    skoala-release/skoala-init \\\n    --version 0.13.0\n")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u9664\u4e86\u901a\u8fc7\u7ec8\u7aef\u5b89\u88c5\uff0cUI \u7684\u65b9\u5f0f \u53ef\u4ee5\u5728 Kpanda \u96c6\u7fa4\u7ba1\u7406\u4e2d Helm \u5e94\u7528\u5185\u627e\u5230 Skoala-init \u8fdb\u884c\u5b89\u88c5\u3002")),(0,n.kt)("img",{src:"http://ipic-typora-samzong.oss-cn-qingdao.aliyuncs.com//uPic/5JAl1G.jpg?x-oss-process=image/resize,w_960,m_lfit",alt:"resize,w_960,m_lfit"}),(0,n.kt)("p",null,"\u5378\u8f7d\u547d\u4ee4"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"~ helm uninstall skoala-init -n skoala-system\n")))}c.isMDXComponent=!0}}]);