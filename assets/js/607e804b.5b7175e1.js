"use strict";(self.webpackChunksamzong_me=self.webpackChunksamzong_me||[]).push([[75272],{44460:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var c=t(17624),r=t(4552);const o={title:"HowTo Automatic Updates CENTOS/RHEL Using YUM",tags:["CentOS"],date:new Date("2017-02-19T09:56:42.000Z")},s=void 0,i={permalink:"/2017/02/19/HowTo-Automatic-Updates-CENTOS-RHEL-Using-YUM",source:"@site/blog/2017-02-19-HowTo-Automatic-Updates-CENTOS-RHEL-Using-YUM.md",title:"HowTo Automatic Updates CENTOS/RHEL Using YUM",description:"\u5927\u5bb6\u82e5\u5de5\u4f5c\u9047\u5230\u9700\u8981\u7ba1\u7406\u7684 Linux \u96c6\u7fa4\u673a\u5668\u8f83\u591a\u65f6\uff0c\u540c\u65f6\u6211\u4eec\u77e5\u9053\u7cfb\u7edf\u7684\u5b89\u5168\u66f4\u65b0\u8865\u4e01\u7ef4\u62a4\u8fd9\u4e9b\u975e\u5e38\u91cd\u8981\uff0c\u65e0\u8bba\u4f60\u5728\u5b89\u88c5\u65f6\u4f18\u5316\u7ef4\u62a4\u505a\u7684\u518d\u597d\uff0c\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\uff0c\u5982\u679c\u4e0d\u53bb\u66f4\u65b0\u7684\u8bdd\uff0c\u7cfb\u7edf\u65e9\u665a\u90fd\u4f1a\u4e0d\u5b89\u5168\uff0c\u6240\u4ee5\u5b9a\u671f\u66f4\u65b0\u6211\u4eec\u7684\u7cfb\u7edf\u8865\u4e01\u662f\u4e00\u4e2a\u8fd0\u7ef4\u4eba\u5458\u7684\u57fa\u672c\u5de5\u4f5c\u5185\u5bb9",date:"2017-02-19T09:56:42.000Z",formattedDate:"February 19, 2017",tags:[{label:"CentOS",permalink:"/tags/cent-os"}],readingTime:1.375,hasTruncateMarker:!1,authors:[],frontMatter:{title:"HowTo Automatic Updates CENTOS/RHEL Using YUM",tags:["CentOS"],date:"2017-02-19T09:56:42.000Z"},unlisted:!1,prevItem:{title:"MySQL \u7d22\u5f15\u521b\u5efa\u3001\u5220\u9664\u548c\u67e5\u770b",permalink:"/2017/02/09/mysql-8-suo-yin-chuang-jian-shan-chu-he-cha-kan"},nextItem:{title:"HowTo Upgrade Your Ghost Version",permalink:"/2017/02/20/HowTo-Upgrade-Your-Ghost-Version"}},a={authorsImageUrls:[]},l=[{value:"Install yum-cron",id:"install-yum-cron",level:3},{value:"Configure \u201c/etc/sysconfig/yum-cron\u201d",id:"configure-etcsysconfigyum-cron",level:3},{value:"1. \u5bf9\u4e8e\u4e0d\u9700\u8981\u66f4\u65b0\u7684\u53ef\u4ee5\u5ffd\u7565\u6389",id:"1-\u5bf9\u4e8e\u4e0d\u9700\u8981\u66f4\u65b0\u7684\u53ef\u4ee5\u5ffd\u7565\u6389",level:5},{value:"2. \u8bbe\u7f6e\u7ba1\u7406\u5458\u90ae\u7bb1",id:"2-\u8bbe\u7f6e\u7ba1\u7406\u5458\u90ae\u7bb1",level:5},{value:"3. \u4e0d\u81ea\u52a8\u5b89\u88c5\uff0c\u4ec5\u68c0\u67e5\uff0c\u901a\u77e5\u7ba1\u7406\u90ae\u7bb1",id:"3-\u4e0d\u81ea\u52a8\u5b89\u88c5\u4ec5\u68c0\u67e5\u901a\u77e5\u7ba1\u7406\u90ae\u7bb1",level:5},{value:"4. \u4e0d\u81ea\u52a8\u5b89\u88c5\uff0c\u4ec5\u4e0b\u8f7d",id:"4-\u4e0d\u81ea\u52a8\u5b89\u88c5\u4ec5\u4e0b\u8f7d",level:5},{value:"Automatic Starting yum-cron",id:"automatic-starting-yum-cron",level:3}];function u(e){const n={code:"code",h3:"h3",h5:"h5",p:"p",pre:"pre",...(0,r.M)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.p,{children:"\u5927\u5bb6\u82e5\u5de5\u4f5c\u9047\u5230\u9700\u8981\u7ba1\u7406\u7684 Linux \u96c6\u7fa4\u673a\u5668\u8f83\u591a\u65f6\uff0c\u540c\u65f6\u6211\u4eec\u77e5\u9053\u7cfb\u7edf\u7684\u5b89\u5168\u66f4\u65b0\u8865\u4e01\u7ef4\u62a4\u8fd9\u4e9b\u975e\u5e38\u91cd\u8981\uff0c\u65e0\u8bba\u4f60\u5728\u5b89\u88c5\u65f6\u4f18\u5316\u7ef4\u62a4\u505a\u7684\u518d\u597d\uff0c\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\uff0c\u5982\u679c\u4e0d\u53bb\u66f4\u65b0\u7684\u8bdd\uff0c\u7cfb\u7edf\u65e9\u665a\u90fd\u4f1a\u4e0d\u5b89\u5168\uff0c\u6240\u4ee5\u5b9a\u671f\u66f4\u65b0\u6211\u4eec\u7684\u7cfb\u7edf\u8865\u4e01\u662f\u4e00\u4e2a\u8fd0\u7ef4\u4eba\u5458\u7684\u57fa\u672c\u5de5\u4f5c\u5185\u5bb9"}),"\n",(0,c.jsx)(n.h3,{id:"install-yum-cron",children:"Install yum-cron"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"sudo yum install -y yum-cron\n"})}),"\n",(0,c.jsxs)(n.p,{children:["\u56e0\u4e3a\u6211\u7684\u670d\u52a1\u5668\u7cfb\u7edf\u591a\u4e3a CentOS 6\uff0c6 \u7684\u914d\u7f6e\u6587\u4ef6\u5728",(0,c.jsx)(n.code,{children:"/etc/sysconfig/yum-cron"}),"\uff0c\u4f60\u53ef\u4ee5\u7528\u4ee5\u4e0b\u547d\u4ee4\u67e5\u770b\u914d\u7f6e\u6587\u4ef6\u4f4d\u7f6e\uff1a"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-shell",children:"rpm -ql yum-cron\n/etc/cron.daily/0yum.cron\n/etc/rc.d/init.d/yum-cron\n/etc/sysconfig/yum-cron\n/etc/yum/yum-daily.yum\n/etc/yum/yum-weekly.yum\n/usr/share/doc/yum-cron-3.2.29\n/usr/share/doc/yum-cron-3.2.29/COPYING\n/usr/share/man/man8/yum-cron.8.gz\n"})}),"\n",(0,c.jsx)(n.h3,{id:"configure-etcsysconfigyum-cron",children:"Configure \u201c/etc/sysconfig/yum-cron\u201d"}),"\n",(0,c.jsx)(n.p,{children:"yum-cron \u7684\u9ed8\u8ba4\u8bbe\u7f6e\u662f\u4f1a\u5728\u6bcf\u5929\u81ea\u52a8\u68c0\u67e5\u548c\u5b89\u88c5\u7cfb\u7edf\u66f4\u65b0\u5305\uff0c\u5728\u5b89\u88c5\u5b8c\u6210\u540e\u6709\u4e9b\u914d\u7f6e\u9700\u8981\u6ce8\u610f\u4e0b\uff1a"}),"\n",(0,c.jsx)(n.h5,{id:"1-\u5bf9\u4e8e\u4e0d\u9700\u8981\u66f4\u65b0\u7684\u53ef\u4ee5\u5ffd\u7565\u6389",children:"1. \u5bf9\u4e8e\u4e0d\u9700\u8981\u66f4\u65b0\u7684\u53ef\u4ee5\u5ffd\u7565\u6389"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"YUM_PARAMETER=\"--exclude='kernel*' --exclude='php*'\"\n"})}),"\n",(0,c.jsx)(n.h5,{id:"2-\u8bbe\u7f6e\u7ba1\u7406\u5458\u90ae\u7bb1",children:"2. \u8bbe\u7f6e\u7ba1\u7406\u5458\u90ae\u7bb1"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:'MAILTO="luchuanjia@msn.com"\n'})}),"\n",(0,c.jsx)(n.h5,{id:"3-\u4e0d\u81ea\u52a8\u5b89\u88c5\u4ec5\u68c0\u67e5\u901a\u77e5\u7ba1\u7406\u90ae\u7bb1",children:"3. \u4e0d\u81ea\u52a8\u5b89\u88c5\uff0c\u4ec5\u68c0\u67e5\uff0c\u901a\u77e5\u7ba1\u7406\u90ae\u7bb1"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"CHECK_ONLY=yes\n"})}),"\n",(0,c.jsx)(n.h5,{id:"4-\u4e0d\u81ea\u52a8\u5b89\u88c5\u4ec5\u4e0b\u8f7d",children:"4. \u4e0d\u81ea\u52a8\u5b89\u88c5\uff0c\u4ec5\u4e0b\u8f7d"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"DOWNLOAD_ONLY=yes\n"})}),"\n",(0,c.jsx)(n.h3,{id:"automatic-starting-yum-cron",children:"Automatic Starting yum-cron"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"chkconfig yum-cron on\n"})})]})}function d(e={}){const{wrapper:n}={...(0,r.M)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(u,{...e})}):u(e)}},4552:(e,n,t)=>{t.d(n,{I:()=>i,M:()=>s});var c=t(11504);const r={},o=c.createContext(r);function s(e){const n=c.useContext(o);return c.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),c.createElement(o.Provider,{value:n},e.children)}}}]);